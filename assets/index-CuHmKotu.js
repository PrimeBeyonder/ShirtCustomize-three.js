var IG=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var iye=IG((Si,wi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZL={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),LG=Symbol.for("react.portal"),DG=Symbol.for("react.fragment"),FG=Symbol.for("react.strict_mode"),OG=Symbol.for("react.profiler"),NG=Symbol.for("react.provider"),UG=Symbol.for("react.context"),kG=Symbol.for("react.forward_ref"),GG=Symbol.for("react.suspense"),HG=Symbol.for("react.memo"),zG=Symbol.for("react.lazy"),dT=Symbol.iterator;function VG(t){return t===null||typeof t!="object"?null:(t=dT&&t[dT]||t["@@iterator"],typeof t=="function"?t:null)}var qL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eD=Object.assign,tD={};function Pf(t,e,n){this.props=t,this.context=e,this.refs=tD,this.updater=n||qL}Pf.prototype.isReactComponent={};Pf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nD(){}nD.prototype=Pf.prototype;function gw(t,e,n){this.props=t,this.context=e,this.refs=tD,this.updater=n||qL}var vw=gw.prototype=new nD;vw.constructor=gw;eD(vw,Pf.prototype);vw.isPureReactComponent=!0;var pT=Array.isArray,rD=Object.prototype.hasOwnProperty,yw={current:null},iD={key:!0,ref:!0,__self:!0,__source:!0};function sD(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rD.call(e,r)&&!iD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pp,type:t,key:s,ref:o,props:i,_owner:yw.current}}function WG(t,e){return{$$typeof:pp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xw(t){return typeof t=="object"&&t!==null&&t.$$typeof===pp}function XG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mT=/\/+/g;function $x(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XG(""+t.key):e.toString(36)}function l0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pp:case LG:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$x(o,0):r,pT(i)?(n="",t!=null&&(n=t.replace(mT,"$&/")+"/"),l0(i,e,n,"",function(u){return u})):i!=null&&(xw(i)&&(i=WG(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$x(s,a);o+=l0(s,e,n,l,i)}else if(l=VG(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$x(s,a++),o+=l0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gm(t,e,n){if(t==null)return t;var r=[],i=0;return l0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yr={current:null},u0={transition:null},JG={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:u0,ReactCurrentOwner:yw};Vt.Children={map:Gm,forEach:function(t,e,n){Gm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gm(t,function(){e++}),e},toArray:function(t){return Gm(t,function(e){return e})||[]},only:function(t){if(!xw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Vt.Component=Pf;Vt.Fragment=DG;Vt.Profiler=OG;Vt.PureComponent=gw;Vt.StrictMode=FG;Vt.Suspense=GG;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JG;Vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eD({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rD.call(e,l)&&!iD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pp,type:t.type,key:i,ref:s,props:r,_owner:o}};Vt.createContext=function(t){return t={$$typeof:UG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NG,_context:t},t.Consumer=t};Vt.createElement=sD;Vt.createFactory=function(t){var e=sD.bind(null,t);return e.type=t,e};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(t){return{$$typeof:kG,render:t}};Vt.isValidElement=xw;Vt.lazy=function(t){return{$$typeof:zG,_payload:{_status:-1,_result:t},_init:jG}};Vt.memo=function(t,e){return{$$typeof:HG,type:t,compare:e===void 0?null:e}};Vt.startTransition=function(t){var e=u0.transition;u0.transition={};try{t()}finally{u0.transition=e}};Vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vt.useCallback=function(t,e){return Yr.current.useCallback(t,e)};Vt.useContext=function(t){return Yr.current.useContext(t)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(t){return Yr.current.useDeferredValue(t)};Vt.useEffect=function(t,e){return Yr.current.useEffect(t,e)};Vt.useId=function(){return Yr.current.useId()};Vt.useImperativeHandle=function(t,e,n){return Yr.current.useImperativeHandle(t,e,n)};Vt.useInsertionEffect=function(t,e){return Yr.current.useInsertionEffect(t,e)};Vt.useLayoutEffect=function(t,e){return Yr.current.useLayoutEffect(t,e)};Vt.useMemo=function(t,e){return Yr.current.useMemo(t,e)};Vt.useReducer=function(t,e,n){return Yr.current.useReducer(t,e,n)};Vt.useRef=function(t){return Yr.current.useRef(t)};Vt.useState=function(t){return Yr.current.useState(t)};Vt.useSyncExternalStore=function(t,e,n){return Yr.current.useSyncExternalStore(t,e,n)};Vt.useTransition=function(){return Yr.current.useTransition()};Vt.version="18.2.0";ZL.exports=Vt;var j=ZL.exports;const O=dp(j);var Y1={},oD={exports:{}},Ii={},aD={exports:{}},lD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Z){var Y=H.length;H.push(Z);e:for(;0<Y;){var ae=Y-1>>>1,ge=H[ae];if(0<i(ge,Z))H[ae]=Z,H[Y]=ge,Y=ae;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],Y=H.pop();if(Y!==Z){H[0]=Y;e:for(var ae=0,ge=H.length,Oe=ge>>>1;ae<Oe;){var oe=2*(ae+1)-1,Se=H[oe],we=oe+1,We=H[we];if(0>i(Se,Y))we<ge&&0>i(We,Se)?(H[ae]=We,H[we]=Y,ae=we):(H[ae]=Se,H[oe]=Y,ae=oe);else if(we<ge&&0>i(We,Y))H[ae]=We,H[we]=Y,ae=we;else break e}}return Z}function i(H,Z){var Y=H.sortIndex-Z.sortIndex;return Y!==0?Y:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,v=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=H)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function E(H){if(_=!1,A(H),!v)if(n(l)!==null)v=!0,ne(T);else{var Z=n(u);Z!==null&&he(E,Z.startTime-H)}}function T(H,Z){v=!1,_&&(_=!1,g(L),L=-1),m=!0;var Y=p;try{for(A(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||H&&!B());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,p=d.priorityLevel;var ge=ae(d.expirationTime<=Z);Z=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&r(l),A(Z)}else r(l);d=n(l)}if(d!==null)var Oe=!0;else{var oe=n(u);oe!==null&&he(E,oe.startTime-Z),Oe=!1}return Oe}finally{d=null,p=Y,m=!1}}var C=!1,P=null,L=-1,N=5,b=-1;function B(){return!(t.unstable_now()-b<N)}function q(){if(P!==null){var H=t.unstable_now();b=H;var Z=!0;try{Z=P(!0,H)}finally{Z?se():(C=!1,P=null)}}else C=!1}var se;if(typeof S=="function")se=function(){S(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=q,se=function(){re.postMessage(null)}}else se=function(){y(q,0)};function ne(H){P=H,C||(C=!0,se())}function he(H,Z){L=y(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ne(T))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var Y=p;p=Z;try{return H()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=p;p=H;try{return Z()}finally{p=Y}},t.unstable_scheduleCallback=function(H,Z,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,H){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,H={id:f++,callback:Z,priorityLevel:H,startTime:Y,expirationTime:ge,sortIndex:-1},Y>ae?(H.sortIndex=Y,e(u,H),n(l)===null&&H===n(u)&&(_?(g(L),L=-1):_=!0,he(E,Y-ae))):(H.sortIndex=ge,e(l,H),v||m||(v=!0,ne(T))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var Z=p;return function(){var Y=p;p=Z;try{return H.apply(this,arguments)}finally{p=Y}}}})(lD);aD.exports=lD;var $G=aD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=j,bi=$G;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cD=new Set,Cd={};function du(t,e){ff(t,e),ff(t+"Capture",e)}function ff(t,e){for(Cd[t]=e,t=0;t<e.length;t++)cD.add(e[t])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q1=Object.prototype.hasOwnProperty,KG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gT={},vT={};function YG(t){return Q1.call(vT,t)?!0:Q1.call(gT,t)?!1:KG.test(t)?vT[t]=!0:(gT[t]=!0,!1)}function QG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZG(t,e,n,r){if(e===null||typeof e>"u"||QG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_r[t]=new Qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_r[e]=new Qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_r[t]=new Qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_r[t]=new Qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_r[t]=new Qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_r[t]=new Qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_r[t]=new Qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_r[t]=new Qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_r[t]=new Qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var _w=/[\-:]([a-z])/g;function Aw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_w,Aw);_r[e]=new Qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_w,Aw);_r[e]=new Qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_w,Aw);_r[e]=new Qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_r[t]=new Qr(t,1,!1,t.toLowerCase(),null,!1,!1)});_r.xlinkHref=new Qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_r[t]=new Qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sw(t,e,n,r){var i=_r.hasOwnProperty(e)?_r[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZG(e,n,i,r)&&(n=null),r||i===null?YG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ko=uD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hm=Symbol.for("react.element"),Ic=Symbol.for("react.portal"),Lc=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),fD=Symbol.for("react.provider"),hD=Symbol.for("react.context"),Ew=Symbol.for("react.forward_ref"),q1=Symbol.for("react.suspense"),eA=Symbol.for("react.suspense_list"),Mw=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),dD=Symbol.for("react.offscreen"),yT=Symbol.iterator;function gh(t){return t===null||typeof t!="object"?null:(t=yT&&t[yT]||t["@@iterator"],typeof t=="function"?t:null)}var Ln=Object.assign,Kx;function Qh(t){if(Kx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kx=e&&e[1]||""}return`
`+Kx+t}var Yx=!1;function Qx(t,e){if(!t||Yx)return"";Yx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qh(t):""}function qG(t){switch(t.tag){case 5:return Qh(t.type);case 16:return Qh("Lazy");case 13:return Qh("Suspense");case 19:return Qh("SuspenseList");case 0:case 2:case 15:return t=Qx(t.type,!1),t;case 11:return t=Qx(t.type.render,!1),t;case 1:return t=Qx(t.type,!0),t;default:return""}}function tA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lc:return"Fragment";case Ic:return"Portal";case Z1:return"Profiler";case ww:return"StrictMode";case q1:return"Suspense";case eA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hD:return(t.displayName||"Context")+".Consumer";case fD:return(t._context.displayName||"Context")+".Provider";case Ew:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mw:return e=t.displayName||null,e!==null?e:tA(t.type)||"Memo";case ha:e=t._payload,t=t._init;try{return tA(t(e))}catch{}}return null}function eH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tA(e);case 8:return e===ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ka(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tH(t){var e=pD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zm(t){t._valueTracker||(t._valueTracker=tH(t))}function mD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function I0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nA(t,e){var n=e.checked;return Ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ka(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gD(t,e){e=e.checked,e!=null&&Sw(t,"checked",e,!1)}function rA(t,e){gD(t,e);var n=ka(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iA(t,e.type,n):e.hasOwnProperty("defaultValue")&&iA(t,e.type,ka(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _T(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iA(t,e,n){(e!=="number"||I0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zh=Array.isArray;function qc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ka(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Zh(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ka(n)}}function vD(t,e){var n=ka(e.value),r=ka(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ST(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vm,xD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vm=Vm||document.createElement("div"),Vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nH=["Webkit","ms","Moz","O"];Object.keys(od).forEach(function(t){nH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),od[e]=od[t]})});function _D(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||od.hasOwnProperty(t)&&od[t]?(""+e).trim():e+"px"}function AD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_D(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rH=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aA(t,e){if(e){if(rH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function lA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uA=null;function bw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cA=null,ef=null,tf=null;function wT(t){if(t=vp(t)){if(typeof cA!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=Fv(e),cA(t.stateNode,t.type,e))}}function SD(t){ef?tf?tf.push(t):tf=[t]:ef=t}function wD(){if(ef){var t=ef,e=tf;if(tf=ef=null,wT(t),e)for(t=0;t<e.length;t++)wT(e[t])}}function ED(t,e){return t(e)}function MD(){}var Zx=!1;function bD(t,e,n){if(Zx)return t(e,n);Zx=!0;try{return ED(t,e,n)}finally{Zx=!1,(ef!==null||tf!==null)&&(MD(),wD())}}function Rd(t,e){var n=t.stateNode;if(n===null)return null;var r=Fv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var fA=!1;if(Do)try{var vh={};Object.defineProperty(vh,"passive",{get:function(){fA=!0}}),window.addEventListener("test",vh,vh),window.removeEventListener("test",vh,vh)}catch{fA=!1}function iH(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ad=!1,L0=null,D0=!1,hA=null,sH={onError:function(t){ad=!0,L0=t}};function oH(t,e,n,r,i,s,o,a,l){ad=!1,L0=null,iH.apply(sH,arguments)}function aH(t,e,n,r,i,s,o,a,l){if(oH.apply(this,arguments),ad){if(ad){var u=L0;ad=!1,L0=null}else throw Error(Be(198));D0||(D0=!0,hA=u)}}function pu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ET(t){if(pu(t)!==t)throw Error(Be(188))}function lH(t){var e=t.alternate;if(!e){if(e=pu(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ET(i),t;if(s===r)return ET(i),e;s=s.sibling}throw Error(Be(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(n.alternate!==r)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?t:e}function TD(t){return t=lH(t),t!==null?RD(t):null}function RD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RD(t);if(e!==null)return e;t=t.sibling}return null}var PD=bi.unstable_scheduleCallback,MT=bi.unstable_cancelCallback,uH=bi.unstable_shouldYield,cH=bi.unstable_requestPaint,Vn=bi.unstable_now,fH=bi.unstable_getCurrentPriorityLevel,Cw=bi.unstable_ImmediatePriority,BD=bi.unstable_UserBlockingPriority,F0=bi.unstable_NormalPriority,hH=bi.unstable_LowPriority,ID=bi.unstable_IdlePriority,Bv=null,Ws=null;function dH(t){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Bv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:gH,pH=Math.log,mH=Math.LN2;function gH(t){return t>>>=0,t===0?32:31-(pH(t)/mH|0)|0}var Wm=64,Xm=4194304;function qh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function O0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qh(a):(s&=o,s!==0&&(r=qh(s)))}else o=n&~i,o!==0?r=qh(o):s!==0&&(r=qh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ss(e),i=1<<n,r|=t[n],e&=~i;return r}function vH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ss(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vH(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LD(){var t=Wm;return Wm<<=1,!(Wm&4194240)&&(Wm=64),t}function qx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ss(e),t[e]=n}function xH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ss(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ss(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var an=0;function DD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FD,Rw,OD,ND,UD,pA=!1,jm=[],ba=null,Ca=null,Ta=null,Pd=new Map,Bd=new Map,ya=[],_H="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bT(t,e){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(e.pointerId)}}function yh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vp(e),e!==null&&Rw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AH(t,e,n,r,i){switch(e){case"focusin":return ba=yh(ba,t,e,n,r,i),!0;case"dragenter":return Ca=yh(Ca,t,e,n,r,i),!0;case"mouseover":return Ta=yh(Ta,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,yh(Pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bd.set(s,yh(Bd.get(s)||null,t,e,n,r,i)),!0}return!1}function kD(t){var e=Hl(t.target);if(e!==null){var n=pu(e);if(n!==null){if(e=n.tag,e===13){if(e=CD(n),e!==null){t.blockedOn=e,UD(t.priority,function(){OD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function c0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uA=r,n.target.dispatchEvent(r),uA=null}else return e=vp(n),e!==null&&Rw(e),t.blockedOn=n,!1;e.shift()}return!0}function CT(t,e,n){c0(t)&&n.delete(e)}function SH(){pA=!1,ba!==null&&c0(ba)&&(ba=null),Ca!==null&&c0(Ca)&&(Ca=null),Ta!==null&&c0(Ta)&&(Ta=null),Pd.forEach(CT),Bd.forEach(CT)}function xh(t,e){t.blockedOn===e&&(t.blockedOn=null,pA||(pA=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,SH)))}function Id(t){function e(i){return xh(i,t)}if(0<jm.length){xh(jm[0],t);for(var n=1;n<jm.length;n++){var r=jm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ba!==null&&xh(ba,t),Ca!==null&&xh(Ca,t),Ta!==null&&xh(Ta,t),Pd.forEach(e),Bd.forEach(e),n=0;n<ya.length;n++)r=ya[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ya.length&&(n=ya[0],n.blockedOn===null);)kD(n),n.blockedOn===null&&ya.shift()}var nf=ko.ReactCurrentBatchConfig,N0=!0;function wH(t,e,n,r){var i=an,s=nf.transition;nf.transition=null;try{an=1,Pw(t,e,n,r)}finally{an=i,nf.transition=s}}function EH(t,e,n,r){var i=an,s=nf.transition;nf.transition=null;try{an=4,Pw(t,e,n,r)}finally{an=i,nf.transition=s}}function Pw(t,e,n,r){if(N0){var i=mA(t,e,n,r);if(i===null)u_(t,e,r,U0,n),bT(t,r);else if(AH(i,t,e,n,r))r.stopPropagation();else if(bT(t,r),e&4&&-1<_H.indexOf(t)){for(;i!==null;){var s=vp(i);if(s!==null&&FD(s),s=mA(t,e,n,r),s===null&&u_(t,e,r,U0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else u_(t,e,r,null,n)}}var U0=null;function mA(t,e,n,r){if(U0=null,t=bw(r),t=Hl(t),t!==null)if(e=pu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return U0=t,null}function GD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fH()){case Cw:return 1;case BD:return 4;case F0:case hH:return 16;case ID:return 536870912;default:return 16}default:return 16}}var wa=null,Bw=null,f0=null;function HD(){if(f0)return f0;var t,e=Bw,n=e.length,r,i="value"in wa?wa.value:wa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return f0=i.slice(t,1<r?1-r:void 0)}function h0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jm(){return!0}function TT(){return!1}function Li(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jm:TT,this.isPropagationStopped=TT,this}return Ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jm)},persist:function(){},isPersistent:Jm}),e}var Bf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iw=Li(Bf),gp=Ln({},Bf,{view:0,detail:0}),MH=Li(gp),e_,t_,_h,Iv=Ln({},gp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_h&&(_h&&t.type==="mousemove"?(e_=t.screenX-_h.screenX,t_=t.screenY-_h.screenY):t_=e_=0,_h=t),e_)},movementY:function(t){return"movementY"in t?t.movementY:t_}}),RT=Li(Iv),bH=Ln({},Iv,{dataTransfer:0}),CH=Li(bH),TH=Ln({},gp,{relatedTarget:0}),n_=Li(TH),RH=Ln({},Bf,{animationName:0,elapsedTime:0,pseudoElement:0}),PH=Li(RH),BH=Ln({},Bf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IH=Li(BH),LH=Ln({},Bf,{data:0}),PT=Li(LH),DH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OH[t])?!!e[t]:!1}function Lw(){return NH}var UH=Ln({},gp,{key:function(t){if(t.key){var e=DH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=h0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lw,charCode:function(t){return t.type==="keypress"?h0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?h0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kH=Li(UH),GH=Ln({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BT=Li(GH),HH=Ln({},gp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lw}),zH=Li(HH),VH=Ln({},Bf,{propertyName:0,elapsedTime:0,pseudoElement:0}),WH=Li(VH),XH=Ln({},Iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jH=Li(XH),JH=[9,13,27,32],Dw=Do&&"CompositionEvent"in window,ld=null;Do&&"documentMode"in document&&(ld=document.documentMode);var $H=Do&&"TextEvent"in window&&!ld,zD=Do&&(!Dw||ld&&8<ld&&11>=ld),IT=" ",LT=!1;function VD(t,e){switch(t){case"keyup":return JH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dc=!1;function KH(t,e){switch(t){case"compositionend":return WD(e);case"keypress":return e.which!==32?null:(LT=!0,IT);case"textInput":return t=e.data,t===IT&&LT?null:t;default:return null}}function YH(t,e){if(Dc)return t==="compositionend"||!Dw&&VD(t,e)?(t=HD(),f0=Bw=wa=null,Dc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zD&&e.locale!=="ko"?null:e.data;default:return null}}var QH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QH[t.type]:e==="textarea"}function XD(t,e,n,r){SD(r),e=k0(e,"onChange"),0<e.length&&(n=new Iw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ud=null,Ld=null;function ZH(t){n3(t,0)}function Lv(t){var e=Nc(t);if(mD(e))return t}function qH(t,e){if(t==="change")return e}var jD=!1;if(Do){var r_;if(Do){var i_="oninput"in document;if(!i_){var FT=document.createElement("div");FT.setAttribute("oninput","return;"),i_=typeof FT.oninput=="function"}r_=i_}else r_=!1;jD=r_&&(!document.documentMode||9<document.documentMode)}function OT(){ud&&(ud.detachEvent("onpropertychange",JD),Ld=ud=null)}function JD(t){if(t.propertyName==="value"&&Lv(Ld)){var e=[];XD(e,Ld,t,bw(t)),bD(ZH,e)}}function ez(t,e,n){t==="focusin"?(OT(),ud=e,Ld=n,ud.attachEvent("onpropertychange",JD)):t==="focusout"&&OT()}function tz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lv(Ld)}function nz(t,e){if(t==="click")return Lv(e)}function rz(t,e){if(t==="input"||t==="change")return Lv(e)}function iz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Es=typeof Object.is=="function"?Object.is:iz;function Dd(t,e){if(Es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q1.call(e,i)||!Es(t[i],e[i]))return!1}return!0}function NT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UT(t,e){var n=NT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NT(n)}}function $D(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$D(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KD(){for(var t=window,e=I0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=I0(t.document)}return e}function Fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sz(t){var e=KD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$D(n.ownerDocument.documentElement,n)){if(r!==null&&Fw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=UT(n,s);var o=UT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oz=Do&&"documentMode"in document&&11>=document.documentMode,Fc=null,gA=null,cd=null,vA=!1;function kT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vA||Fc==null||Fc!==I0(r)||(r=Fc,"selectionStart"in r&&Fw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cd&&Dd(cd,r)||(cd=r,r=k0(gA,"onSelect"),0<r.length&&(e=new Iw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function $m(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oc={animationend:$m("Animation","AnimationEnd"),animationiteration:$m("Animation","AnimationIteration"),animationstart:$m("Animation","AnimationStart"),transitionend:$m("Transition","TransitionEnd")},s_={},YD={};Do&&(YD=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function Dv(t){if(s_[t])return s_[t];if(!Oc[t])return t;var e=Oc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YD)return s_[t]=e[n];return t}var QD=Dv("animationend"),ZD=Dv("animationiteration"),qD=Dv("animationstart"),e3=Dv("transitionend"),t3=new Map,GT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qa(t,e){t3.set(t,e),du(e,[t])}for(var o_=0;o_<GT.length;o_++){var a_=GT[o_],az=a_.toLowerCase(),lz=a_[0].toUpperCase()+a_.slice(1);Qa(az,"on"+lz)}Qa(QD,"onAnimationEnd");Qa(ZD,"onAnimationIteration");Qa(qD,"onAnimationStart");Qa("dblclick","onDoubleClick");Qa("focusin","onFocus");Qa("focusout","onBlur");Qa(e3,"onTransitionEnd");ff("onMouseEnter",["mouseout","mouseover"]);ff("onMouseLeave",["mouseout","mouseover"]);ff("onPointerEnter",["pointerout","pointerover"]);ff("onPointerLeave",["pointerout","pointerover"]);du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));du("onBeforeInput",["compositionend","keypress","textInput","paste"]);du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function HT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aH(r,e,void 0,t),t.currentTarget=null}function n3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;HT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;HT(i,a,u),s=l}}}if(D0)throw t=hA,D0=!1,hA=null,t}function mn(t,e){var n=e[SA];n===void 0&&(n=e[SA]=new Set);var r=t+"__bubble";n.has(r)||(r3(e,t,2,!1),n.add(r))}function l_(t,e,n){var r=0;e&&(r|=4),r3(n,t,r,e)}var Km="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Km]){t[Km]=!0,cD.forEach(function(n){n!=="selectionchange"&&(uz.has(n)||l_(n,!1,t),l_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Km]||(e[Km]=!0,l_("selectionchange",!1,e))}}function r3(t,e,n,r){switch(GD(e)){case 1:var i=wH;break;case 4:i=EH;break;default:i=Pw}n=i.bind(null,e,n,t),i=void 0,!fA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function u_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bD(function(){var u=s,f=bw(n),d=[];e:{var p=t3.get(t);if(p!==void 0){var m=Iw,v=t;switch(t){case"keypress":if(h0(n)===0)break e;case"keydown":case"keyup":m=kH;break;case"focusin":v="focus",m=n_;break;case"focusout":v="blur",m=n_;break;case"beforeblur":case"afterblur":m=n_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zH;break;case QD:case ZD:case qD:m=PH;break;case e3:m=WH;break;case"scroll":m=MH;break;case"wheel":m=jH;break;case"copy":case"cut":case"paste":m=IH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=BT}var _=(e&4)!==0,y=!_&&t==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var S=u,A;S!==null;){A=S;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,g!==null&&(E=Rd(S,g),E!=null&&_.push(Od(S,E,A)))),y)break;S=S.return}0<_.length&&(p=new m(p,v,null,n,f),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==uA&&(v=n.relatedTarget||n.fromElement)&&(Hl(v)||v[Fo]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Hl(v):null,v!==null&&(y=pu(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=RT,E="onMouseLeave",g="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(_=BT,E="onPointerLeave",g="onPointerEnter",S="pointer"),y=m==null?p:Nc(m),A=v==null?p:Nc(v),p=new _(E,S+"leave",m,n,f),p.target=y,p.relatedTarget=A,E=null,Hl(f)===u&&(_=new _(g,S+"enter",v,n,f),_.target=A,_.relatedTarget=y,E=_),y=E,m&&v)t:{for(_=m,g=v,S=0,A=_;A;A=zu(A))S++;for(A=0,E=g;E;E=zu(E))A++;for(;0<S-A;)_=zu(_),S--;for(;0<A-S;)g=zu(g),A--;for(;S--;){if(_===g||g!==null&&_===g.alternate)break t;_=zu(_),g=zu(g)}_=null}else _=null;m!==null&&zT(d,p,m,_,!1),v!==null&&y!==null&&zT(d,y,v,_,!0)}}e:{if(p=u?Nc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=qH;else if(DT(p))if(jD)T=rz;else{T=tz;var C=ez}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=nz);if(T&&(T=T(t,u))){XD(d,T,n,f);break e}C&&C(t,p,u),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&iA(p,"number",p.value)}switch(C=u?Nc(u):window,t){case"focusin":(DT(C)||C.contentEditable==="true")&&(Fc=C,gA=u,cd=null);break;case"focusout":cd=gA=Fc=null;break;case"mousedown":vA=!0;break;case"contextmenu":case"mouseup":case"dragend":vA=!1,kT(d,n,f);break;case"selectionchange":if(oz)break;case"keydown":case"keyup":kT(d,n,f)}var P;if(Dw)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Dc?VD(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(zD&&n.locale!=="ko"&&(Dc||L!=="onCompositionStart"?L==="onCompositionEnd"&&Dc&&(P=HD()):(wa=f,Bw="value"in wa?wa.value:wa.textContent,Dc=!0)),C=k0(u,L),0<C.length&&(L=new PT(L,t,null,n,f),d.push({event:L,listeners:C}),P?L.data=P:(P=WD(n),P!==null&&(L.data=P)))),(P=$H?KH(t,n):YH(t,n))&&(u=k0(u,"onBeforeInput"),0<u.length&&(f=new PT("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=P))}n3(d,e)})}function Od(t,e,n){return{instance:t,listener:e,currentTarget:n}}function k0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rd(t,n),s!=null&&r.unshift(Od(t,s,i)),s=Rd(t,e),s!=null&&r.push(Od(t,s,i))),t=t.return}return r}function zu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Rd(n,s),l!=null&&o.unshift(Od(n,l,a))):i||(l=Rd(n,s),l!=null&&o.push(Od(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cz=/\r\n?/g,fz=/\u0000|\uFFFD/g;function VT(t){return(typeof t=="string"?t:""+t).replace(cz,`
`).replace(fz,"")}function Ym(t,e,n){if(e=VT(e),VT(t)!==e&&n)throw Error(Be(425))}function G0(){}var yA=null,xA=null;function _A(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var AA=typeof setTimeout=="function"?setTimeout:void 0,hz=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,dz=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(t){return WT.resolve(null).then(t).catch(pz)}:AA;function pz(t){setTimeout(function(){throw t})}function c_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Id(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Id(e)}function Ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var If=Math.random().toString(36).slice(2),zs="__reactFiber$"+If,Nd="__reactProps$"+If,Fo="__reactContainer$"+If,SA="__reactEvents$"+If,mz="__reactListeners$"+If,gz="__reactHandles$"+If;function Hl(t){var e=t[zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fo]||n[zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XT(t);t!==null;){if(n=t[zs])return n;t=XT(t)}return e}t=n,n=t.parentNode}return null}function vp(t){return t=t[zs]||t[Fo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function Fv(t){return t[Nd]||null}var wA=[],Uc=-1;function Za(t){return{current:t}}function _n(t){0>Uc||(t.current=wA[Uc],wA[Uc]=null,Uc--)}function dn(t,e){Uc++,wA[Uc]=t.current,t.current=e}var Ga={},Or=Za(Ga),oi=Za(!1),iu=Ga;function hf(t,e){var n=t.type.contextTypes;if(!n)return Ga;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ai(t){return t=t.childContextTypes,t!=null}function H0(){_n(oi),_n(Or)}function jT(t,e,n){if(Or.current!==Ga)throw Error(Be(168));dn(Or,e),dn(oi,n)}function i3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,eH(t)||"Unknown",i));return Ln({},n,r)}function z0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ga,iu=Or.current,dn(Or,t),dn(oi,oi.current),!0}function JT(t,e,n){var r=t.stateNode;if(!r)throw Error(Be(169));n?(t=i3(t,e,iu),r.__reactInternalMemoizedMergedChildContext=t,_n(oi),_n(Or),dn(Or,t)):_n(oi),dn(oi,n)}var yo=null,Ov=!1,f_=!1;function s3(t){yo===null?yo=[t]:yo.push(t)}function vz(t){Ov=!0,s3(t)}function qa(){if(!f_&&yo!==null){f_=!0;var t=0,e=an;try{var n=yo;for(an=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yo=null,Ov=!1}catch(i){throw yo!==null&&(yo=yo.slice(t+1)),PD(Cw,qa),i}finally{an=e,f_=!1}}return null}var kc=[],Gc=0,V0=null,W0=0,Yi=[],Qi=0,su=null,Ao=1,So="";function Bl(t,e){kc[Gc++]=W0,kc[Gc++]=V0,V0=t,W0=e}function o3(t,e,n){Yi[Qi++]=Ao,Yi[Qi++]=So,Yi[Qi++]=su,su=t;var r=Ao;t=So;var i=32-Ss(r)-1;r&=~(1<<i),n+=1;var s=32-Ss(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ao=1<<32-Ss(e)+i|n<<i|r,So=s+t}else Ao=1<<s|n<<i|r,So=t}function Ow(t){t.return!==null&&(Bl(t,1),o3(t,1,0))}function Nw(t){for(;t===V0;)V0=kc[--Gc],kc[Gc]=null,W0=kc[--Gc],kc[Gc]=null;for(;t===su;)su=Yi[--Qi],Yi[Qi]=null,So=Yi[--Qi],Yi[Qi]=null,Ao=Yi[--Qi],Yi[Qi]=null}var Ei=null,_i=null,Mn=!1,xs=null;function a3(t,e){var n=ts(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $T(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ei=t,_i=Ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ei=t,_i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=su!==null?{id:Ao,overflow:So}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ts(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ei=t,_i=null,!0):!1;default:return!1}}function EA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function MA(t){if(Mn){var e=_i;if(e){var n=e;if(!$T(t,e)){if(EA(t))throw Error(Be(418));e=Ra(n.nextSibling);var r=Ei;e&&$T(t,e)?a3(r,n):(t.flags=t.flags&-4097|2,Mn=!1,Ei=t)}}else{if(EA(t))throw Error(Be(418));t.flags=t.flags&-4097|2,Mn=!1,Ei=t}}}function KT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ei=t}function Qm(t){if(t!==Ei)return!1;if(!Mn)return KT(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_A(t.type,t.memoizedProps)),e&&(e=_i)){if(EA(t))throw l3(),Error(Be(418));for(;e;)a3(t,e),e=Ra(e.nextSibling)}if(KT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_i=Ra(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_i=null}}else _i=Ei?Ra(t.stateNode.nextSibling):null;return!0}function l3(){for(var t=_i;t;)t=Ra(t.nextSibling)}function df(){_i=Ei=null,Mn=!1}function Uw(t){xs===null?xs=[t]:xs.push(t)}var yz=ko.ReactCurrentBatchConfig;function gs(t,e){if(t&&t.defaultProps){e=Ln({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var X0=Za(null),j0=null,Hc=null,kw=null;function Gw(){kw=Hc=j0=null}function Hw(t){var e=X0.current;_n(X0),t._currentValue=e}function bA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rf(t,e){j0=t,kw=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(si=!0),t.firstContext=null)}function is(t){var e=t._currentValue;if(kw!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(j0===null)throw Error(Be(308));Hc=t,j0.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var zl=null;function zw(t){zl===null?zl=[t]:zl.push(t)}function u3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oo(t,r)}function Oo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var da=!1;function Vw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function To(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oo(t,n)}return i=r.interleaved,i===null?(e.next=e,zw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oo(t,n)}function d0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tw(t,n)}}function YT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function J0(t,e,n,r){var i=t.updateQueue;da=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(p=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=Ln({},d,p);break e;case 2:da=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);au|=o,t.lanes=o,t.memoizedState=d}}function QT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var f3=new uD.Component().refs;function CA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ln({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nv={isMounted:function(t){return(t=t._reactInternals)?pu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$r(),i=Ia(t),s=To(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pa(t,s,i),e!==null&&(ws(e,t,i,r),d0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$r(),i=Ia(t),s=To(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pa(t,s,i),e!==null&&(ws(e,t,i,r),d0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$r(),r=Ia(t),i=To(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pa(t,i,r),e!==null&&(ws(e,t,r,n),d0(e,t,r))}};function ZT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dd(n,r)||!Dd(i,s):!0}function h3(t,e,n){var r=!1,i=Ga,s=e.contextType;return typeof s=="object"&&s!==null?s=is(s):(i=ai(e)?iu:Or.current,r=e.contextTypes,s=(r=r!=null)?hf(t,i):Ga),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nv.enqueueReplaceState(e,e.state,null)}function TA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=f3,Vw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=is(s):(s=ai(e)?iu:Or.current,i.context=hf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(CA(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nv.enqueueReplaceState(i,i.state,null),J0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ah(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===f3&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,t))}return t}function Zm(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eR(t){var e=t._init;return e(t._payload)}function d3(t){function e(g,S){if(t){var A=g.deletions;A===null?(g.deletions=[S],g.flags|=16):A.push(S)}}function n(g,S){if(!t)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function r(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function i(g,S){return g=La(g,S),g.index=0,g.sibling=null,g}function s(g,S,A){return g.index=A,t?(A=g.alternate,A!==null?(A=A.index,A<S?(g.flags|=2,S):A):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,S,A,E){return S===null||S.tag!==6?(S=y_(A,g.mode,E),S.return=g,S):(S=i(S,A),S.return=g,S)}function l(g,S,A,E){var T=A.type;return T===Lc?f(g,S,A.props.children,E,A.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ha&&eR(T)===S.type)?(E=i(S,A.props),E.ref=Ah(g,S,A),E.return=g,E):(E=x0(A.type,A.key,A.props,null,g.mode,E),E.ref=Ah(g,S,A),E.return=g,E)}function u(g,S,A,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=x_(A,g.mode,E),S.return=g,S):(S=i(S,A.children||[]),S.return=g,S)}function f(g,S,A,E,T){return S===null||S.tag!==7?(S=Zl(A,g.mode,E,T),S.return=g,S):(S=i(S,A),S.return=g,S)}function d(g,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=y_(""+S,g.mode,A),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hm:return A=x0(S.type,S.key,S.props,null,g.mode,A),A.ref=Ah(g,null,S),A.return=g,A;case Ic:return S=x_(S,g.mode,A),S.return=g,S;case ha:var E=S._init;return d(g,E(S._payload),A)}if(Zh(S)||gh(S))return S=Zl(S,g.mode,A,null),S.return=g,S;Zm(g,S)}return null}function p(g,S,A,E){var T=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:a(g,S,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Hm:return A.key===T?l(g,S,A,E):null;case Ic:return A.key===T?u(g,S,A,E):null;case ha:return T=A._init,p(g,S,T(A._payload),E)}if(Zh(A)||gh(A))return T!==null?null:f(g,S,A,E,null);Zm(g,A)}return null}function m(g,S,A,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(A)||null,a(S,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hm:return g=g.get(E.key===null?A:E.key)||null,l(S,g,E,T);case Ic:return g=g.get(E.key===null?A:E.key)||null,u(S,g,E,T);case ha:var C=E._init;return m(g,S,A,C(E._payload),T)}if(Zh(E)||gh(E))return g=g.get(A)||null,f(S,g,E,T,null);Zm(S,E)}return null}function v(g,S,A,E){for(var T=null,C=null,P=S,L=S=0,N=null;P!==null&&L<A.length;L++){P.index>L?(N=P,P=null):N=P.sibling;var b=p(g,P,A[L],E);if(b===null){P===null&&(P=N);break}t&&P&&b.alternate===null&&e(g,P),S=s(b,S,L),C===null?T=b:C.sibling=b,C=b,P=N}if(L===A.length)return n(g,P),Mn&&Bl(g,L),T;if(P===null){for(;L<A.length;L++)P=d(g,A[L],E),P!==null&&(S=s(P,S,L),C===null?T=P:C.sibling=P,C=P);return Mn&&Bl(g,L),T}for(P=r(g,P);L<A.length;L++)N=m(P,g,L,A[L],E),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?L:N.key),S=s(N,S,L),C===null?T=N:C.sibling=N,C=N);return t&&P.forEach(function(B){return e(g,B)}),Mn&&Bl(g,L),T}function _(g,S,A,E){var T=gh(A);if(typeof T!="function")throw Error(Be(150));if(A=T.call(A),A==null)throw Error(Be(151));for(var C=T=null,P=S,L=S=0,N=null,b=A.next();P!==null&&!b.done;L++,b=A.next()){P.index>L?(N=P,P=null):N=P.sibling;var B=p(g,P,b.value,E);if(B===null){P===null&&(P=N);break}t&&P&&B.alternate===null&&e(g,P),S=s(B,S,L),C===null?T=B:C.sibling=B,C=B,P=N}if(b.done)return n(g,P),Mn&&Bl(g,L),T;if(P===null){for(;!b.done;L++,b=A.next())b=d(g,b.value,E),b!==null&&(S=s(b,S,L),C===null?T=b:C.sibling=b,C=b);return Mn&&Bl(g,L),T}for(P=r(g,P);!b.done;L++,b=A.next())b=m(P,g,L,b.value,E),b!==null&&(t&&b.alternate!==null&&P.delete(b.key===null?L:b.key),S=s(b,S,L),C===null?T=b:C.sibling=b,C=b);return t&&P.forEach(function(q){return e(g,q)}),Mn&&Bl(g,L),T}function y(g,S,A,E){if(typeof A=="object"&&A!==null&&A.type===Lc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Hm:e:{for(var T=A.key,C=S;C!==null;){if(C.key===T){if(T=A.type,T===Lc){if(C.tag===7){n(g,C.sibling),S=i(C,A.props.children),S.return=g,g=S;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ha&&eR(T)===C.type){n(g,C.sibling),S=i(C,A.props),S.ref=Ah(g,C,A),S.return=g,g=S;break e}n(g,C);break}else e(g,C);C=C.sibling}A.type===Lc?(S=Zl(A.props.children,g.mode,E,A.key),S.return=g,g=S):(E=x0(A.type,A.key,A.props,null,g.mode,E),E.ref=Ah(g,S,A),E.return=g,g=E)}return o(g);case Ic:e:{for(C=A.key;S!==null;){if(S.key===C)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(g,S.sibling),S=i(S,A.children||[]),S.return=g,g=S;break e}else{n(g,S);break}else e(g,S);S=S.sibling}S=x_(A,g.mode,E),S.return=g,g=S}return o(g);case ha:return C=A._init,y(g,S,C(A._payload),E)}if(Zh(A))return v(g,S,A,E);if(gh(A))return _(g,S,A,E);Zm(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(g,S.sibling),S=i(S,A),S.return=g,g=S):(n(g,S),S=y_(A,g.mode,E),S.return=g,g=S),o(g)):n(g,S)}return y}var pf=d3(!0),p3=d3(!1),yp={},Xs=Za(yp),Ud=Za(yp),kd=Za(yp);function Vl(t){if(t===yp)throw Error(Be(174));return t}function Ww(t,e){switch(dn(kd,e),dn(Ud,t),dn(Xs,yp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oA(e,t)}_n(Xs),dn(Xs,e)}function mf(){_n(Xs),_n(Ud),_n(kd)}function m3(t){Vl(kd.current);var e=Vl(Xs.current),n=oA(e,t.type);e!==n&&(dn(Ud,t),dn(Xs,n))}function Xw(t){Ud.current===t&&(_n(Xs),_n(Ud))}var Tn=Za(0);function $0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h_=[];function jw(){for(var t=0;t<h_.length;t++)h_[t]._workInProgressVersionPrimary=null;h_.length=0}var p0=ko.ReactCurrentDispatcher,d_=ko.ReactCurrentBatchConfig,ou=0,In=null,Zn=null,ur=null,K0=!1,fd=!1,Gd=0,xz=0;function Mr(){throw Error(Be(321))}function Jw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Es(t[n],e[n]))return!1;return!0}function $w(t,e,n,r,i,s){if(ou=s,In=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p0.current=t===null||t.memoizedState===null?wz:Ez,t=n(r,i),fd){s=0;do{if(fd=!1,Gd=0,25<=s)throw Error(Be(301));s+=1,ur=Zn=null,e.updateQueue=null,p0.current=Mz,t=n(r,i)}while(fd)}if(p0.current=Y0,e=Zn!==null&&Zn.next!==null,ou=0,ur=Zn=In=null,K0=!1,e)throw Error(Be(300));return t}function Kw(){var t=Gd!==0;return Gd=0,t}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?In.memoizedState=ur=t:ur=ur.next=t,ur}function ss(){if(Zn===null){var t=In.alternate;t=t!==null?t.memoizedState:null}else t=Zn.next;var e=ur===null?In.memoizedState:ur.next;if(e!==null)ur=e,Zn=t;else{if(t===null)throw Error(Be(310));Zn=t,t={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ur===null?In.memoizedState=ur=t:ur=ur.next=t}return ur}function Hd(t,e){return typeof e=="function"?e(t):e}function p_(t){var e=ss(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=Zn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((ou&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,In.lanes|=f,au|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Es(r,e.memoizedState)||(si=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,In.lanes|=s,au|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function m_(t){var e=ss(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Es(s,e.memoizedState)||(si=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function g3(){}function v3(t,e){var n=In,r=ss(),i=e(),s=!Es(r.memoizedState,i);if(s&&(r.memoizedState=i,si=!0),r=r.queue,Yw(_3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ur!==null&&ur.memoizedState.tag&1){if(n.flags|=2048,zd(9,x3.bind(null,n,r,i,e),void 0,null),cr===null)throw Error(Be(349));ou&30||y3(n,e,i)}return i}function y3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=In.updateQueue,e===null?(e={lastEffect:null,stores:null},In.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x3(t,e,n,r){e.value=n,e.getSnapshot=r,A3(e)&&S3(t)}function _3(t,e,n){return n(function(){A3(e)&&S3(t)})}function A3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Es(t,n)}catch{return!0}}function S3(t){var e=Oo(t,1);e!==null&&ws(e,t,1,-1)}function tR(t){var e=Gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:t},e.queue=t,t=t.dispatch=Sz.bind(null,In,t),[e.memoizedState,t]}function zd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=In.updateQueue,e===null?(e={lastEffect:null,stores:null},In.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w3(){return ss().memoizedState}function m0(t,e,n,r){var i=Gs();In.flags|=t,i.memoizedState=zd(1|e,n,void 0,r===void 0?null:r)}function Uv(t,e,n,r){var i=ss();r=r===void 0?null:r;var s=void 0;if(Zn!==null){var o=Zn.memoizedState;if(s=o.destroy,r!==null&&Jw(r,o.deps)){i.memoizedState=zd(e,n,s,r);return}}In.flags|=t,i.memoizedState=zd(1|e,n,s,r)}function nR(t,e){return m0(8390656,8,t,e)}function Yw(t,e){return Uv(2048,8,t,e)}function E3(t,e){return Uv(4,2,t,e)}function M3(t,e){return Uv(4,4,t,e)}function b3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C3(t,e,n){return n=n!=null?n.concat([t]):null,Uv(4,4,b3.bind(null,e,t),n)}function Qw(){}function T3(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R3(t,e){var n=ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P3(t,e,n){return ou&21?(Es(n,e)||(n=LD(),In.lanes|=n,au|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,si=!0),t.memoizedState=n)}function _z(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var r=d_.transition;d_.transition={};try{t(!1),e()}finally{an=n,d_.transition=r}}function B3(){return ss().memoizedState}function Az(t,e,n){var r=Ia(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},I3(t))L3(e,n);else if(n=u3(t,e,n,r),n!==null){var i=$r();ws(n,t,r,i),D3(n,e,r)}}function Sz(t,e,n){var r=Ia(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(I3(t))L3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Es(a,o)){var l=e.interleaved;l===null?(i.next=i,zw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=u3(t,e,i,r),n!==null&&(i=$r(),ws(n,t,r,i),D3(n,e,r))}}function I3(t){var e=t.alternate;return t===In||e!==null&&e===In}function L3(t,e){fd=K0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tw(t,n)}}var Y0={readContext:is,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},wz={readContext:is,useCallback:function(t,e){return Gs().memoizedState=[t,e===void 0?null:e],t},useContext:is,useEffect:nR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,m0(4194308,4,b3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return m0(4194308,4,t,e)},useInsertionEffect:function(t,e){return m0(4,2,t,e)},useMemo:function(t,e){var n=Gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Az.bind(null,In,t),[r.memoizedState,t]},useRef:function(t){var e=Gs();return t={current:t},e.memoizedState=t},useState:tR,useDebugValue:Qw,useDeferredValue:function(t){return Gs().memoizedState=t},useTransition:function(){var t=tR(!1),e=t[0];return t=_z.bind(null,t[1]),Gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=In,i=Gs();if(Mn){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),cr===null)throw Error(Be(349));ou&30||y3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nR(_3.bind(null,r,s,t),[t]),r.flags|=2048,zd(9,x3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gs(),e=cr.identifierPrefix;if(Mn){var n=So,r=Ao;n=(r&~(1<<32-Ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ez={readContext:is,useCallback:T3,useContext:is,useEffect:Yw,useImperativeHandle:C3,useInsertionEffect:E3,useLayoutEffect:M3,useMemo:R3,useReducer:p_,useRef:w3,useState:function(){return p_(Hd)},useDebugValue:Qw,useDeferredValue:function(t){var e=ss();return P3(e,Zn.memoizedState,t)},useTransition:function(){var t=p_(Hd)[0],e=ss().memoizedState;return[t,e]},useMutableSource:g3,useSyncExternalStore:v3,useId:B3,unstable_isNewReconciler:!1},Mz={readContext:is,useCallback:T3,useContext:is,useEffect:Yw,useImperativeHandle:C3,useInsertionEffect:E3,useLayoutEffect:M3,useMemo:R3,useReducer:m_,useRef:w3,useState:function(){return m_(Hd)},useDebugValue:Qw,useDeferredValue:function(t){var e=ss();return Zn===null?e.memoizedState=t:P3(e,Zn.memoizedState,t)},useTransition:function(){var t=m_(Hd)[0],e=ss().memoizedState;return[t,e]},useMutableSource:g3,useSyncExternalStore:v3,useId:B3,unstable_isNewReconciler:!1};function gf(t,e){try{var n="",r=e;do n+=qG(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function g_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function RA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bz=typeof WeakMap=="function"?WeakMap:Map;function F3(t,e,n){n=To(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Z0||(Z0=!0,kA=r),RA(t,e)},n}function O3(t,e,n){n=To(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){RA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){RA(t,e),typeof r!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Gz.bind(null,t,e,n),e.then(t,t))}function iR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=To(-1,1),e.tag=2,Pa(n,e,1))),n.lanes|=1),t)}var Cz=ko.ReactCurrentOwner,si=!1;function Xr(t,e,n,r){e.child=t===null?p3(e,null,n,r):pf(e,t.child,n,r)}function oR(t,e,n,r,i){n=n.render;var s=e.ref;return rf(e,i),r=$w(t,e,n,r,s,i),n=Kw(),t!==null&&!si?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(Mn&&n&&Ow(e),e.flags|=1,Xr(t,e,r,i),e.child)}function aR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,N3(t,e,s,r,i)):(t=x0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dd,n(o,r)&&t.ref===e.ref)return No(t,e,i)}return e.flags|=1,t=La(s,r),t.ref=e.ref,t.return=e,e.child=t}function N3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dd(s,r)&&t.ref===e.ref)if(si=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(si=!0);else return e.lanes=t.lanes,No(t,e,i)}return PA(t,e,n,r,i)}function U3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(Vc,yi),yi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dn(Vc,yi),yi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,dn(Vc,yi),yi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,dn(Vc,yi),yi|=r;return Xr(t,e,i,n),e.child}function k3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function PA(t,e,n,r,i){var s=ai(n)?iu:Or.current;return s=hf(e,s),rf(e,i),n=$w(t,e,n,r,s,i),r=Kw(),t!==null&&!si?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(Mn&&r&&Ow(e),e.flags|=1,Xr(t,e,n,i),e.child)}function lR(t,e,n,r,i){if(ai(n)){var s=!0;z0(e)}else s=!1;if(rf(e,i),e.stateNode===null)g0(t,e),h3(e,n,r),TA(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=is(u):(u=ai(n)?iu:Or.current,u=hf(e,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qT(e,o,r,u),da=!1;var p=e.memoizedState;o.state=p,J0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||oi.current||da?(typeof f=="function"&&(CA(e,n,f,r),l=e.memoizedState),(a=da||ZT(e,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c3(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gs(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=is(l):(l=ai(n)?iu:Or.current,l=hf(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&qT(e,o,r,l),da=!1,p=e.memoizedState,o.state=p,J0(e,r,o,i);var v=e.memoizedState;a!==d||p!==v||oi.current||da?(typeof m=="function"&&(CA(e,n,m,r),v=e.memoizedState),(u=da||ZT(e,n,u,r,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return BA(t,e,n,r,s,i)}function BA(t,e,n,r,i,s){k3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&JT(e,n,!1),No(t,e,s);r=e.stateNode,Cz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pf(e,t.child,null,s),e.child=pf(e,null,a,s)):Xr(t,e,a,s),e.memoizedState=r.state,i&&JT(e,n,!0),e.child}function G3(t){var e=t.stateNode;e.pendingContext?jT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jT(t,e.context,!1),Ww(t,e.containerInfo)}function uR(t,e,n,r,i){return df(),Uw(i),e.flags|=256,Xr(t,e,n,r),e.child}var IA={dehydrated:null,treeContext:null,retryLane:0};function LA(t){return{baseLanes:t,cachePool:null,transitions:null}}function H3(t,e,n){var r=e.pendingProps,i=Tn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dn(Tn,i&1),t===null)return MA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hv(o,r,0,null),t=Zl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=LA(n),e.memoizedState=IA,t):Zw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Tz(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=La(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=La(a,s):(s=Zl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?LA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=IA,r}return s=t.child,t=s.sibling,r=La(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zw(t,e){return e=Hv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qm(t,e,n,r){return r!==null&&Uw(r),pf(e,t.child,null,n),t=Zw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=g_(Error(Be(422))),qm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hv({mode:"visible",children:r.children},i,0,null),s=Zl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pf(e,t.child,null,o),e.child.memoizedState=LA(o),e.memoizedState=IA,s);if(!(e.mode&1))return qm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Be(419)),r=g_(s,r,void 0),qm(t,e,o,r)}if(a=(o&t.childLanes)!==0,si||a){if(r=cr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oo(t,i),ws(r,t,i,-1))}return iE(),r=g_(Error(Be(421))),qm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Hz.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_i=Ra(i.nextSibling),Ei=e,Mn=!0,xs=null,t!==null&&(Yi[Qi++]=Ao,Yi[Qi++]=So,Yi[Qi++]=su,Ao=t.id,So=t.overflow,su=e),e=Zw(e,r.children),e.flags|=4096,e)}function cR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bA(t.return,e,n)}function v_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function z3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xr(t,e,r.children,n),r=Tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cR(t,n,e);else if(t.tag===19)cR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dn(Tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),v_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}v_(e,!0,n,null,s);break;case"together":v_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function g0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function No(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),au|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,n=La(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=La(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rz(t,e,n){switch(e.tag){case 3:G3(e),df();break;case 5:m3(e);break;case 1:ai(e.type)&&z0(e);break;case 4:Ww(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dn(X0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dn(Tn,Tn.current&1),e.flags|=128,null):n&e.child.childLanes?H3(t,e,n):(dn(Tn,Tn.current&1),t=No(t,e,n),t!==null?t.sibling:null);dn(Tn,Tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return z3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(Tn,Tn.current),r)break;return null;case 22:case 23:return e.lanes=0,U3(t,e,n)}return No(t,e,n)}var V3,DA,W3,X3;V3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};DA=function(){};W3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vl(Xs.current);var s=null;switch(n){case"input":i=nA(t,i),r=nA(t,r),s=[];break;case"select":i=Ln({},i,{value:void 0}),r=Ln({},r,{value:void 0}),s=[];break;case"textarea":i=sA(t,i),r=sA(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=G0)}aA(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&mn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};X3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sh(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function br(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Pz(t,e,n){var r=e.pendingProps;switch(Nw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(e),null;case 1:return ai(e.type)&&H0(),br(e),null;case 3:return r=e.stateNode,mf(),_n(oi),_n(Or),jw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xs!==null&&(zA(xs),xs=null))),DA(t,e),br(e),null;case 5:Xw(e);var i=Vl(kd.current);if(n=e.type,t!==null&&e.stateNode!=null)W3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return br(e),null}if(t=Vl(Xs.current),Qm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zs]=e,r[Nd]=s,t=(e.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(i=0;i<ed.length;i++)mn(ed[i],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":xT(r,s),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},mn("invalid",r);break;case"textarea":AT(r,s),mn("invalid",r)}aA(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ym(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ym(r.textContent,a,t),i=["children",""+a]):Cd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&mn("scroll",r)}switch(n){case"input":zm(r),_T(r,s,!0);break;case"textarea":zm(r),ST(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=G0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zs]=e,t[Nd]=r,V3(t,e,!1,!1),e.stateNode=t;e:{switch(o=lA(n,r),n){case"dialog":mn("cancel",t),mn("close",t),i=r;break;case"iframe":case"object":case"embed":mn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ed.length;i++)mn(ed[i],t);i=r;break;case"source":mn("error",t),i=r;break;case"img":case"image":case"link":mn("error",t),mn("load",t),i=r;break;case"details":mn("toggle",t),i=r;break;case"input":xT(t,r),i=nA(t,r),mn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ln({},r,{value:void 0}),mn("invalid",t);break;case"textarea":AT(t,r),i=sA(t,r),mn("invalid",t);break;default:i=r}aA(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?AD(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xD(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Td(t,l):typeof l=="number"&&Td(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mn("scroll",t):l!=null&&Sw(t,s,l,o))}switch(n){case"input":zm(t),_T(t,r,!1);break;case"textarea":zm(t),ST(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ka(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qc(t,!!r.multiple,s,!1):r.defaultValue!=null&&qc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=G0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return br(e),null;case 6:if(t&&e.stateNode!=null)X3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(n=Vl(kd.current),Vl(Xs.current),Qm(e)){if(r=e.stateNode,n=e.memoizedProps,r[zs]=e,(s=r.nodeValue!==n)&&(t=Ei,t!==null))switch(t.tag){case 3:Ym(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ym(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zs]=e,e.stateNode=r}return br(e),null;case 13:if(_n(Tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&_i!==null&&e.mode&1&&!(e.flags&128))l3(),df(),e.flags|=98560,s=!1;else if(s=Qm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[zs]=e}else df(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;br(e),s=!1}else xs!==null&&(zA(xs),xs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Tn.current&1?tr===0&&(tr=3):iE())),e.updateQueue!==null&&(e.flags|=4),br(e),null);case 4:return mf(),DA(t,e),t===null&&Fd(e.stateNode.containerInfo),br(e),null;case 10:return Hw(e.type._context),br(e),null;case 17:return ai(e.type)&&H0(),br(e),null;case 19:if(_n(Tn),s=e.memoizedState,s===null)return br(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Sh(s,!1);else{if(tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$0(t),o!==null){for(e.flags|=128,Sh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dn(Tn,Tn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vn()>vf&&(e.flags|=128,r=!0,Sh(s,!1),e.lanes=4194304)}else{if(!r)if(t=$0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mn)return br(e),null}else 2*Vn()-s.renderingStartTime>vf&&n!==1073741824&&(e.flags|=128,r=!0,Sh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vn(),e.sibling=null,n=Tn.current,dn(Tn,r?n&1|2:n&1),e):(br(e),null);case 22:case 23:return rE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yi&1073741824&&(br(e),e.subtreeFlags&6&&(e.flags|=8192)):br(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function Bz(t,e){switch(Nw(e),e.tag){case 1:return ai(e.type)&&H0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mf(),_n(oi),_n(Or),jw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xw(e),null;case 13:if(_n(Tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));df()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _n(Tn),null;case 4:return mf(),null;case 10:return Hw(e.type._context),null;case 22:case 23:return rE(),null;case 24:return null;default:return null}}var eg=!1,Br=!1,Iz=typeof WeakSet=="function"?WeakSet:Set,rt=null;function zc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(t,e,r)}else n.current=null}function FA(t,e,n){try{n()}catch(r){Un(t,e,r)}}var fR=!1;function Lz(t,e){if(yA=N0,t=KD(),Fw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++f===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xA={focusedElem:t,selectionRange:n},N0=!1,rt=e;rt!==null;)if(e=rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rt=t;else for(;rt!==null;){e=rt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,y=v.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:gs(e.type,_),y);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(E){Un(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}return v=fR,fR=!1,v}function hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&FA(e,n,s)}i=i.next}while(i!==r)}}function kv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function OA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j3(t){var e=t.alternate;e!==null&&(t.alternate=null,j3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zs],delete e[Nd],delete e[SA],delete e[mz],delete e[gz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J3(t){return t.tag===5||t.tag===3||t.tag===4}function hR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=G0));else if(r!==4&&(t=t.child,t!==null))for(NA(t,e,n),t=t.sibling;t!==null;)NA(t,e,n),t=t.sibling}function UA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(UA(t,e,n),t=t.sibling;t!==null;)UA(t,e,n),t=t.sibling}var mr=null,ys=!1;function ea(t,e,n){for(n=n.child;n!==null;)$3(t,e,n),n=n.sibling}function $3(t,e,n){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Bv,n)}catch{}switch(n.tag){case 5:Br||zc(n,e);case 6:var r=mr,i=ys;mr=null,ea(t,e,n),mr=r,ys=i,mr!==null&&(ys?(t=mr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mr.removeChild(n.stateNode));break;case 18:mr!==null&&(ys?(t=mr,n=n.stateNode,t.nodeType===8?c_(t.parentNode,n):t.nodeType===1&&c_(t,n),Id(t)):c_(mr,n.stateNode));break;case 4:r=mr,i=ys,mr=n.stateNode.containerInfo,ys=!0,ea(t,e,n),mr=r,ys=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&FA(n,e,o),i=i.next}while(i!==r)}ea(t,e,n);break;case 1:if(!Br&&(zc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,e,a)}ea(t,e,n);break;case 21:ea(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,ea(t,e,n),Br=r):ea(t,e,n);break;default:ea(t,e,n)}}function dR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Iz),e.forEach(function(r){var i=zz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function us(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mr=a.stateNode,ys=!1;break e;case 3:mr=a.stateNode.containerInfo,ys=!0;break e;case 4:mr=a.stateNode.containerInfo,ys=!0;break e}a=a.return}if(mr===null)throw Error(Be(160));$3(s,o,i),mr=null,ys=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Un(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K3(e,t),e=e.sibling}function K3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(us(e,t),ks(t),r&4){try{hd(3,t,t.return),kv(3,t)}catch(_){Un(t,t.return,_)}try{hd(5,t,t.return)}catch(_){Un(t,t.return,_)}}break;case 1:us(e,t),ks(t),r&512&&n!==null&&zc(n,n.return);break;case 5:if(us(e,t),ks(t),r&512&&n!==null&&zc(n,n.return),t.flags&32){var i=t.stateNode;try{Td(i,"")}catch(_){Un(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gD(i,s),lA(a,o);var u=lA(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?AD(i,d):f==="dangerouslySetInnerHTML"?xD(i,d):f==="children"?Td(i,d):Sw(i,f,d,u)}switch(a){case"input":rA(i,s);break;case"textarea":vD(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?qc(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?qc(i,!!s.multiple,s.defaultValue,!0):qc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nd]=s}catch(_){Un(t,t.return,_)}}break;case 6:if(us(e,t),ks(t),r&4){if(t.stateNode===null)throw Error(Be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Un(t,t.return,_)}}break;case 3:if(us(e,t),ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Id(e.containerInfo)}catch(_){Un(t,t.return,_)}break;case 4:us(e,t),ks(t);break;case 13:us(e,t),ks(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tE=Vn())),r&4&&dR(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(u=Br)||f,us(e,t),Br=u):us(e,t),ks(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(rt=t,f=t.child;f!==null;){for(d=rt=f;rt!==null;){switch(p=rt,m=p.child,p.tag){case 0:case 11:case 14:case 15:hd(4,p,p.return);break;case 1:zc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Un(r,n,_)}}break;case 5:zc(p,p.return);break;case 22:if(p.memoizedState!==null){mR(d);continue}}m!==null?(m.return=p,rt=m):mR(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_D("display",o))}catch(_){Un(t,t.return,_)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Un(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:us(e,t),ks(t),r&4&&dR(t);break;case 21:break;default:us(e,t),ks(t)}}function ks(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J3(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Td(i,""),r.flags&=-33);var s=hR(t);UA(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hR(t);NA(t,a,o);break;default:throw Error(Be(161))}}catch(l){Un(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dz(t,e,n){rt=t,Y3(t)}function Y3(t,e,n){for(var r=(t.mode&1)!==0;rt!==null;){var i=rt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||eg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Br;a=eg;var u=Br;if(eg=o,(Br=l)&&!u)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?gR(i):l!==null?(l.return=o,rt=l):gR(i);for(;s!==null;)rt=s,Y3(s),s=s.sibling;rt=i,eg=a,Br=u}pR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rt=s):pR(t)}}function pR(t){for(;rt!==null;){var e=rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||kv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Id(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Br||e.flags&512&&OA(e)}catch(p){Un(e,e.return,p)}}if(e===t){rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}}function mR(t){for(;rt!==null;){var e=rt;if(e===t){rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,rt=n;break}rt=e.return}}function gR(t){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kv(4,e)}catch(l){Un(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Un(e,i,l)}}var s=e.return;try{OA(e)}catch(l){Un(e,s,l)}break;case 5:var o=e.return;try{OA(e)}catch(l){Un(e,o,l)}}}catch(l){Un(e,e.return,l)}if(e===t){rt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,rt=a;break}rt=e.return}}var Fz=Math.ceil,Q0=ko.ReactCurrentDispatcher,qw=ko.ReactCurrentOwner,rs=ko.ReactCurrentBatchConfig,Yt=0,cr=null,$n=null,yr=0,yi=0,Vc=Za(0),tr=0,Vd=null,au=0,Gv=0,eE=0,dd=null,ii=null,tE=0,vf=1/0,vo=null,Z0=!1,kA=null,Ba=null,tg=!1,Ea=null,q0=0,pd=0,GA=null,v0=-1,y0=0;function $r(){return Yt&6?Vn():v0!==-1?v0:v0=Vn()}function Ia(t){return t.mode&1?Yt&2&&yr!==0?yr&-yr:yz.transition!==null?(y0===0&&(y0=LD()),y0):(t=an,t!==0||(t=window.event,t=t===void 0?16:GD(t.type)),t):1}function ws(t,e,n,r){if(50<pd)throw pd=0,GA=null,Error(Be(185));mp(t,n,r),(!(Yt&2)||t!==cr)&&(t===cr&&(!(Yt&2)&&(Gv|=n),tr===4&&xa(t,yr)),li(t,r),n===1&&Yt===0&&!(e.mode&1)&&(vf=Vn()+500,Ov&&qa()))}function li(t,e){var n=t.callbackNode;yH(t,e);var r=O0(t,t===cr?yr:0);if(r===0)n!==null&&MT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MT(n),e===1)t.tag===0?vz(vR.bind(null,t)):s3(vR.bind(null,t)),dz(function(){!(Yt&6)&&qa()}),n=null;else{switch(DD(r)){case 1:n=Cw;break;case 4:n=BD;break;case 16:n=F0;break;case 536870912:n=ID;break;default:n=F0}n=iF(n,Q3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q3(t,e){if(v0=-1,y0=0,Yt&6)throw Error(Be(327));var n=t.callbackNode;if(sf()&&t.callbackNode!==n)return null;var r=O0(t,t===cr?yr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ev(t,r);else{e=r;var i=Yt;Yt|=2;var s=q3();(cr!==t||yr!==e)&&(vo=null,vf=Vn()+500,Ql(t,e));do try{Uz();break}catch(a){Z3(t,a)}while(!0);Gw(),Q0.current=s,Yt=i,$n!==null?e=0:(cr=null,yr=0,e=tr)}if(e!==0){if(e===2&&(i=dA(t),i!==0&&(r=i,e=HA(t,i))),e===1)throw n=Vd,Ql(t,0),xa(t,r),li(t,Vn()),n;if(e===6)xa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Oz(i)&&(e=ev(t,r),e===2&&(s=dA(t),s!==0&&(r=s,e=HA(t,s))),e===1))throw n=Vd,Ql(t,0),xa(t,r),li(t,Vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:Il(t,ii,vo);break;case 3:if(xa(t,r),(r&130023424)===r&&(e=tE+500-Vn(),10<e)){if(O0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=AA(Il.bind(null,t,ii,vo),e);break}Il(t,ii,vo);break;case 4:if(xa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ss(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fz(r/1960))-r,10<r){t.timeoutHandle=AA(Il.bind(null,t,ii,vo),r);break}Il(t,ii,vo);break;case 5:Il(t,ii,vo);break;default:throw Error(Be(329))}}}return li(t,Vn()),t.callbackNode===n?Q3.bind(null,t):null}function HA(t,e){var n=dd;return t.current.memoizedState.isDehydrated&&(Ql(t,e).flags|=256),t=ev(t,e),t!==2&&(e=ii,ii=n,e!==null&&zA(e)),t}function zA(t){ii===null?ii=t:ii.push.apply(ii,t)}function Oz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Es(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xa(t,e){for(e&=~eE,e&=~Gv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ss(e),r=1<<n;t[n]=-1,e&=~r}}function vR(t){if(Yt&6)throw Error(Be(327));sf();var e=O0(t,0);if(!(e&1))return li(t,Vn()),null;var n=ev(t,e);if(t.tag!==0&&n===2){var r=dA(t);r!==0&&(e=r,n=HA(t,r))}if(n===1)throw n=Vd,Ql(t,0),xa(t,e),li(t,Vn()),n;if(n===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Il(t,ii,vo),li(t,Vn()),null}function nE(t,e){var n=Yt;Yt|=1;try{return t(e)}finally{Yt=n,Yt===0&&(vf=Vn()+500,Ov&&qa())}}function lu(t){Ea!==null&&Ea.tag===0&&!(Yt&6)&&sf();var e=Yt;Yt|=1;var n=rs.transition,r=an;try{if(rs.transition=null,an=1,t)return t()}finally{an=r,rs.transition=n,Yt=e,!(Yt&6)&&qa()}}function rE(){yi=Vc.current,_n(Vc)}function Ql(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hz(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(Nw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&H0();break;case 3:mf(),_n(oi),_n(Or),jw();break;case 5:Xw(r);break;case 4:mf();break;case 13:_n(Tn);break;case 19:_n(Tn);break;case 10:Hw(r.type._context);break;case 22:case 23:rE()}n=n.return}if(cr=t,$n=t=La(t.current,null),yr=yi=e,tr=0,Vd=null,eE=Gv=au=0,ii=dd=null,zl!==null){for(e=0;e<zl.length;e++)if(n=zl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zl=null}return t}function Z3(t,e){do{var n=$n;try{if(Gw(),p0.current=Y0,K0){for(var r=In.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}K0=!1}if(ou=0,ur=Zn=In=null,fd=!1,Gd=0,qw.current=null,n===null||n.return===null){tr=1,Vd=e,$n=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=iR(o);if(m!==null){m.flags&=-257,sR(m,o,a,s,e),m.mode&1&&rR(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){rR(s,u,e),iE();break e}l=Error(Be(426))}}else if(Mn&&a.mode&1){var y=iR(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),sR(y,o,a,s,e),Uw(gf(l,a));break e}}s=l=gf(l,a),tr!==4&&(tr=2),dd===null?dd=[s]:dd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=F3(s,l,e);YT(s,g);break e;case 1:a=l;var S=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ba===null||!Ba.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=O3(s,a,e);YT(s,E);break e}}s=s.return}while(s!==null)}tF(n)}catch(T){e=T,$n===n&&n!==null&&($n=n=n.return);continue}break}while(!0)}function q3(){var t=Q0.current;return Q0.current=Y0,t===null?Y0:t}function iE(){(tr===0||tr===3||tr===2)&&(tr=4),cr===null||!(au&268435455)&&!(Gv&268435455)||xa(cr,yr)}function ev(t,e){var n=Yt;Yt|=2;var r=q3();(cr!==t||yr!==e)&&(vo=null,Ql(t,e));do try{Nz();break}catch(i){Z3(t,i)}while(!0);if(Gw(),Yt=n,Q0.current=r,$n!==null)throw Error(Be(261));return cr=null,yr=0,tr}function Nz(){for(;$n!==null;)eF($n)}function Uz(){for(;$n!==null&&!uH();)eF($n)}function eF(t){var e=rF(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?tF(t):$n=e,qw.current=null}function tF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Bz(n,e),n!==null){n.flags&=32767,$n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tr=6,$n=null;return}}else if(n=Pz(n,e,yi),n!==null){$n=n;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);tr===0&&(tr=5)}function Il(t,e,n){var r=an,i=rs.transition;try{rs.transition=null,an=1,kz(t,e,n,r)}finally{rs.transition=i,an=r}return null}function kz(t,e,n,r){do sf();while(Ea!==null);if(Yt&6)throw Error(Be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xH(t,s),t===cr&&($n=cr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tg||(tg=!0,iF(F0,function(){return sf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rs.transition,rs.transition=null;var o=an;an=1;var a=Yt;Yt|=4,qw.current=null,Lz(t,n),K3(n,t),sz(xA),N0=!!yA,xA=yA=null,t.current=n,Dz(n),cH(),Yt=a,an=o,rs.transition=s}else t.current=n;if(tg&&(tg=!1,Ea=t,q0=i),s=t.pendingLanes,s===0&&(Ba=null),dH(n.stateNode),li(t,Vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Z0)throw Z0=!1,t=kA,kA=null,t;return q0&1&&t.tag!==0&&sf(),s=t.pendingLanes,s&1?t===GA?pd++:(pd=0,GA=t):pd=0,qa(),null}function sf(){if(Ea!==null){var t=DD(q0),e=rs.transition,n=an;try{if(rs.transition=null,an=16>t?16:t,Ea===null)var r=!1;else{if(t=Ea,Ea=null,q0=0,Yt&6)throw Error(Be(331));var i=Yt;for(Yt|=4,rt=t.current;rt!==null;){var s=rt,o=s.child;if(rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(rt=u;rt!==null;){var f=rt;switch(f.tag){case 0:case 11:case 15:hd(8,f,s)}var d=f.child;if(d!==null)d.return=f,rt=d;else for(;rt!==null;){f=rt;var p=f.sibling,m=f.return;if(j3(f),f===u){rt=null;break}if(p!==null){p.return=m,rt=p;break}rt=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,rt=o;else e:for(;rt!==null;){if(s=rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,rt=g;break e}rt=s.return}}var S=t.current;for(rt=S;rt!==null;){o=rt;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,rt=A;else e:for(o=S;rt!==null;){if(a=rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kv(9,a)}}catch(T){Un(a,a.return,T)}if(a===o){rt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,rt=E;break e}rt=a.return}}if(Yt=i,qa(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Bv,t)}catch{}r=!0}return r}finally{an=n,rs.transition=e}}return!1}function yR(t,e,n){e=gf(n,e),e=F3(t,e,1),t=Pa(t,e,1),e=$r(),t!==null&&(mp(t,1,e),li(t,e))}function Un(t,e,n){if(t.tag===3)yR(t,t,n);else for(;e!==null;){if(e.tag===3){yR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ba===null||!Ba.has(r))){t=gf(n,t),t=O3(e,t,1),e=Pa(e,t,1),t=$r(),e!==null&&(mp(e,1,t),li(e,t));break}}e=e.return}}function Gz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&n,cr===t&&(yr&n)===n&&(tr===4||tr===3&&(yr&130023424)===yr&&500>Vn()-tE?Ql(t,0):eE|=n),li(t,e)}function nF(t,e){e===0&&(t.mode&1?(e=Xm,Xm<<=1,!(Xm&130023424)&&(Xm=4194304)):e=1);var n=$r();t=Oo(t,e),t!==null&&(mp(t,e,n),li(t,n))}function Hz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nF(t,n)}function zz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),nF(t,n)}var rF;rF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||oi.current)si=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return si=!1,Rz(t,e,n);si=!!(t.flags&131072)}else si=!1,Mn&&e.flags&1048576&&o3(e,W0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;g0(t,e),t=e.pendingProps;var i=hf(e,Or.current);rf(e,n),i=$w(null,e,r,t,i,n);var s=Kw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ai(r)?(s=!0,z0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vw(e),i.updater=Nv,e.stateNode=i,i._reactInternals=e,TA(e,r,t,n),e=BA(null,e,r,!0,s,n)):(e.tag=0,Mn&&s&&Ow(e),Xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(g0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wz(r),t=gs(r,t),i){case 0:e=PA(null,e,r,t,n);break e;case 1:e=lR(null,e,r,t,n);break e;case 11:e=oR(null,e,r,t,n);break e;case 14:e=aR(null,e,r,gs(r.type,t),n);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),PA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),lR(t,e,r,i,n);case 3:e:{if(G3(e),t===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c3(t,e),J0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gf(Error(Be(423)),e),e=uR(t,e,r,n,i);break e}else if(r!==i){i=gf(Error(Be(424)),e),e=uR(t,e,r,n,i);break e}else for(_i=Ra(e.stateNode.containerInfo.firstChild),Ei=e,Mn=!0,xs=null,n=p3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(df(),r===i){e=No(t,e,n);break e}Xr(t,e,r,n)}e=e.child}return e;case 5:return m3(e),t===null&&MA(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_A(r,i)?o=null:s!==null&&_A(r,s)&&(e.flags|=32),k3(t,e),Xr(t,e,o,n),e.child;case 6:return t===null&&MA(e),null;case 13:return H3(t,e,n);case 4:return Ww(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pf(e,null,r,n):Xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),oR(t,e,r,i,n);case 7:return Xr(t,e,e.pendingProps,n),e.child;case 8:return Xr(t,e,e.pendingProps.children,n),e.child;case 12:return Xr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,dn(X0,r._currentValue),r._currentValue=o,s!==null)if(Es(s.value,o)){if(s.children===i.children&&!oi.current){e=No(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=To(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bA(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bA(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rf(e,n),i=is(i),r=r(i),e.flags|=1,Xr(t,e,r,n),e.child;case 14:return r=e.type,i=gs(r,e.pendingProps),i=gs(r.type,i),aR(t,e,r,i,n);case 15:return N3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gs(r,i),g0(t,e),e.tag=1,ai(r)?(t=!0,z0(e)):t=!1,rf(e,n),h3(e,r,i),TA(e,r,i,n),BA(null,e,r,!0,t,n);case 19:return z3(t,e,n);case 22:return U3(t,e,n)}throw Error(Be(156,e.tag))};function iF(t,e){return PD(t,e)}function Vz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(t,e,n,r){return new Vz(t,e,n,r)}function sE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wz(t){if(typeof t=="function")return sE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ew)return 11;if(t===Mw)return 14}return 2}function La(t,e){var n=t.alternate;return n===null?(n=ts(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function x0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Lc:return Zl(n.children,i,s,e);case ww:o=8,i|=8;break;case Z1:return t=ts(12,n,e,i|2),t.elementType=Z1,t.lanes=s,t;case q1:return t=ts(13,n,e,i),t.elementType=q1,t.lanes=s,t;case eA:return t=ts(19,n,e,i),t.elementType=eA,t.lanes=s,t;case dD:return Hv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fD:o=10;break e;case hD:o=9;break e;case Ew:o=11;break e;case Mw:o=14;break e;case ha:o=16,r=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=ts(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zl(t,e,n,r){return t=ts(7,t,r,e),t.lanes=n,t}function Hv(t,e,n,r){return t=ts(22,t,r,e),t.elementType=dD,t.lanes=n,t.stateNode={isHidden:!1},t}function y_(t,e,n){return t=ts(6,t,null,e),t.lanes=n,t}function x_(t,e,n){return e=ts(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qx(0),this.expirationTimes=qx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oE(t,e,n,r,i,s,o,a,l){return t=new Xz(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ts(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vw(s),t}function jz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ic,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sF(t){if(!t)return Ga;t=t._reactInternals;e:{if(pu(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ai(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var n=t.type;if(ai(n))return i3(t,n,e)}return e}function oF(t,e,n,r,i,s,o,a,l){return t=oE(n,r,!0,t,i,s,o,a,l),t.context=sF(null),n=t.current,r=$r(),i=Ia(n),s=To(r,i),s.callback=e??null,Pa(n,s,i),t.current.lanes=i,mp(t,i,r),li(t,r),t}function zv(t,e,n,r){var i=e.current,s=$r(),o=Ia(i);return n=sF(n),e.context===null?e.context=n:e.pendingContext=n,e=To(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pa(i,e,o),t!==null&&(ws(t,i,o,s),d0(t,i,o)),o}function tv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aE(t,e){xR(t,e),(t=t.alternate)&&xR(t,e)}function Jz(){return null}var aF=typeof reportError=="function"?reportError:function(t){console.error(t)};function lE(t){this._internalRoot=t}Vv.prototype.render=lE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));zv(t,e,null,null)};Vv.prototype.unmount=lE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lu(function(){zv(null,t,null,null)}),e[Fo]=null}};function Vv(t){this._internalRoot=t}Vv.prototype.unstable_scheduleHydration=function(t){if(t){var e=ND();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ya.length&&e!==0&&e<ya[n].priority;n++);ya.splice(n,0,t),n===0&&kD(t)}};function uE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _R(){}function $z(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=tv(o);s.call(u)}}var o=oF(e,r,t,0,null,!1,!1,"",_R);return t._reactRootContainer=o,t[Fo]=o.current,Fd(t.nodeType===8?t.parentNode:t),lu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tv(l);a.call(u)}}var l=oE(t,0,!1,null,null,!1,!1,"",_R);return t._reactRootContainer=l,t[Fo]=l.current,Fd(t.nodeType===8?t.parentNode:t),lu(function(){zv(e,l,n,r)}),l}function Xv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tv(o);a.call(l)}}zv(e,o,t,i)}else o=$z(n,e,t,i,r);return tv(o)}FD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qh(e.pendingLanes);n!==0&&(Tw(e,n|1),li(e,Vn()),!(Yt&6)&&(vf=Vn()+500,qa()))}break;case 13:lu(function(){var r=Oo(t,1);if(r!==null){var i=$r();ws(r,t,1,i)}}),aE(t,1)}};Rw=function(t){if(t.tag===13){var e=Oo(t,134217728);if(e!==null){var n=$r();ws(e,t,134217728,n)}aE(t,134217728)}};OD=function(t){if(t.tag===13){var e=Ia(t),n=Oo(t,e);if(n!==null){var r=$r();ws(n,t,e,r)}aE(t,e)}};ND=function(){return an};UD=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};cA=function(t,e,n){switch(e){case"input":if(rA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fv(r);if(!i)throw Error(Be(90));mD(r),rA(r,i)}}}break;case"textarea":vD(t,n);break;case"select":e=n.value,e!=null&&qc(t,!!n.multiple,e,!1)}};ED=nE;MD=lu;var Kz={usingClientEntryPoint:!1,Events:[vp,Nc,Fv,SD,wD,nE]},wh={findFiberByHostInstance:Hl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Yz={bundleType:wh.bundleType,version:wh.version,rendererPackageName:wh.rendererPackageName,rendererConfig:wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TD(t),t===null?null:t.stateNode},findFiberByHostInstance:wh.findFiberByHostInstance||Jz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{Bv=ng.inject(Yz),Ws=ng}catch{}}Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kz;Ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uE(e))throw Error(Be(200));return jz(t,e,null,n)};Ii.createRoot=function(t,e){if(!uE(t))throw Error(Be(299));var n=!1,r="",i=aF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oE(t,1,!1,null,null,n,!1,r,i),t[Fo]=e.current,Fd(t.nodeType===8?t.parentNode:t),new lE(e)};Ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=TD(e),t=t===null?null:t.stateNode,t};Ii.flushSync=function(t){return lu(t)};Ii.hydrate=function(t,e,n){if(!Wv(e))throw Error(Be(200));return Xv(null,t,e,!0,n)};Ii.hydrateRoot=function(t,e,n){if(!uE(t))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oF(e,null,t,1,n??null,i,!1,s,o),t[Fo]=e.current,Fd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vv(e)};Ii.render=function(t,e,n){if(!Wv(e))throw Error(Be(200));return Xv(null,t,e,!1,n)};Ii.unmountComponentAtNode=function(t){if(!Wv(t))throw Error(Be(40));return t._reactRootContainer?(lu(function(){Xv(null,null,t,!1,function(){t._reactRootContainer=null,t[Fo]=null})}),!0):!1};Ii.unstable_batchedUpdates=nE;Ii.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wv(n))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return Xv(t,e,n,!1,r)};Ii.version="18.2.0-next-9e3b772b8-20220608";function lF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lF)}catch(t){console.error(t)}}lF(),oD.exports=Ii;var Qz=oD.exports,AR=Qz;Y1.createRoot=AR.createRoot,Y1.hydrateRoot=AR.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mu="162",Zz={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qz={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uF=0,VA=1,cF=2,e5=3,fF=0,jv=1,md=2,vs=3,Zs=0,Kr=1,Zi=2,Ro=0,ql=1,WA=2,XA=3,jA=4,hF=5,_a=100,dF=101,pF=102,JA=103,$A=104,mF=200,gF=201,vF=202,yF=203,nv=204,rv=205,xF=206,_F=207,AF=208,SF=209,wF=210,EF=211,MF=212,bF=213,CF=214,TF=0,RF=1,PF=2,Wd=3,BF=4,IF=5,LF=6,DF=7,xp=0,FF=1,OF=2,js=0,NF=1,UF=2,kF=3,cE=4,GF=5,HF=6,zF=7,KA="attached",VF="detached",Jv=300,qs=301,Ha=302,yf=303,Xd=304,Lf=306,za=1e3,vr=1001,xf=1002,En=1003,jd=1004,t5=1004,Aa=1005,n5=1005,on=1006,of=1007,r5=1007,ns=1008,i5=1008,Js=1009,WF=1010,XF=1011,$v=1012,fE=1013,wo=1014,er=1015,Lr=1016,hE=1017,dE=1018,Da=1020,jF=1021,Ir=1023,JF=1024,$F=1025,Fa=1026,uu=1027,Kv=1028,pE=1029,KF=1030,mE=1031,gE=1033,_0=33776,A0=33777,S0=33778,w0=33779,YA=35840,QA=35841,ZA=35842,qA=35843,vE=36196,eS=37492,tS=37496,nS=37808,rS=37809,iS=37810,sS=37811,oS=37812,aS=37813,lS=37814,uS=37815,cS=37816,fS=37817,hS=37818,dS=37819,pS=37820,mS=37821,E0=36492,gS=36494,vS=36495,YF=36283,yS=36284,xS=36285,_S=36286,QF=2200,ZF=2201,qF=2202,_f=2300,cu=2301,M0=2302,Wl=2400,Xl=2401,Jd=2402,Yv=2500,yE=2501,eO=0,xE=1,iv=2,tO=3200,nO=3201,el=0,rO=1,xo="",Ki="srgb",Go="srgb-linear",Qv="display-p3",_p="display-p3-linear",$d="linear",hn="srgb",Kd="rec709",Yd="p3",s5=0,Ll=7680,o5=7681,a5=7682,l5=7683,u5=34055,c5=34056,f5=5386,h5=512,d5=513,p5=514,m5=515,g5=516,v5=517,y5=518,AS=519,iO=512,sO=513,oO=514,_E=515,aO=516,lO=517,uO=518,cO=519,Qd=35044,x5=35048,_5=35040,A5=35045,S5=35049,w5=35041,E5=35046,M5=35050,b5=35042,C5="100",SS="300 es",sv=1035,Vs=2e3,Zd=2001;class Ho{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Cr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let SR=1234567;const eu=Math.PI/180,Af=180/Math.PI;function Mi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cr[t&255]+Cr[t>>8&255]+Cr[t>>16&255]+Cr[t>>24&255]+"-"+Cr[e&255]+Cr[e>>8&255]+"-"+Cr[e>>16&15|64]+Cr[e>>24&255]+"-"+Cr[n&63|128]+Cr[n>>8&255]+"-"+Cr[n>>16&255]+Cr[n>>24&255]+Cr[r&255]+Cr[r>>8&255]+Cr[r>>16&255]+Cr[r>>24&255]).toLowerCase()}function kn(t,e,n){return Math.max(e,Math.min(n,t))}function AE(t,e){return(t%e+e)%e}function T5(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function R5(t,e,n){return t!==e?(n-t)/(e-t):0}function gd(t,e,n){return(1-n)*t+n*e}function P5(t,e,n,r){return gd(t,e,1-Math.exp(-n*r))}function B5(t,e=1){return e-Math.abs(AE(t,e*2)-e)}function I5(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function L5(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function D5(t,e){return t+Math.floor(Math.random()*(e-t+1))}function F5(t,e){return t+Math.random()*(e-t)}function O5(t){return t*(.5-Math.random())}function N5(t){t!==void 0&&(SR=t);let e=SR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function U5(t){return t*eu}function k5(t){return t*Af}function wS(t){return(t&t-1)===0&&t!==0}function G5(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ov(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function H5(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),f=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*f,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*f,a*u);break;case"XZX":t.set(a*f,l*v,l*m,a*u);break;case"YXY":t.set(l*m,a*f,l*v,a*u);break;case"ZYZ":t.set(l*v,l*m,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Jr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ft(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const af={DEG2RAD:eu,RAD2DEG:Af,generateUUID:Mi,clamp:kn,euclideanModulo:AE,mapLinear:T5,inverseLerp:R5,lerp:gd,damp:P5,pingpong:B5,smoothstep:I5,smootherstep:L5,randInt:D5,randFloat:F5,randFloatSpread:O5,seededRandom:N5,degToRad:U5,radToDeg:k5,isPowerOfTwo:wS,ceilPowerOfTwo:G5,floorPowerOfTwo:ov,setQuaternionFromProperEuler:H5,normalize:Ft,denormalize:Jr};class Ae{constructor(e=0,n=0){Ae.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(kn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dt{constructor(e,n,r,i,s,o,a,l,u){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],d=r[7],p=r[2],m=r[5],v=r[8],_=i[0],y=i[3],g=i[6],S=i[1],A=i[4],E=i[7],T=i[2],C=i[5],P=i[8];return s[0]=o*_+a*S+l*T,s[3]=o*y+a*A+l*C,s[6]=o*g+a*E+l*P,s[1]=u*_+f*S+d*T,s[4]=u*y+f*A+d*C,s[7]=u*g+f*E+d*P,s[2]=p*_+m*S+v*T,s[5]=p*y+m*A+v*C,s[8]=p*g+m*E+v*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=f*o-a*u,p=a*l-f*s,m=u*s-o*l,v=n*d+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=d*_,e[1]=(i*u-f*r)*_,e[2]=(a*r-i*o)*_,e[3]=p*_,e[4]=(f*n-i*l)*_,e[5]=(i*s-a*n)*_,e[6]=m*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(__.makeScale(e,n)),this}rotate(e){return this.premultiply(__.makeRotation(-e)),this}translate(e,n){return this.premultiply(__.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const __=new Dt;function fO(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const z5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wc(t,e){return new z5[t](e)}function qd(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function hO(){const t=qd("canvas");return t.style.display="block",t}const wR={};function dO(t){t in wR||(wR[t]=!0,console.warn(t))}const ER=new Dt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),MR=new Dt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),rg={[Go]:{transfer:$d,primaries:Kd,toReference:t=>t,fromReference:t=>t},[Ki]:{transfer:hn,primaries:Kd,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[_p]:{transfer:$d,primaries:Yd,toReference:t=>t.applyMatrix3(MR),fromReference:t=>t.applyMatrix3(ER)},[Qv]:{transfer:hn,primaries:Yd,toReference:t=>t.convertSRGBToLinear().applyMatrix3(MR),fromReference:t=>t.applyMatrix3(ER).convertLinearToSRGB()}},V5=new Set([Go,_p]),sn={enabled:!0,_workingColorSpace:Go,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!V5.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=rg[e].toReference,i=rg[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return rg[t].primaries},getTransfer:function(t){return t===xo?$d:rg[t].transfer}};function lf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function A_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Vu;class SE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Vu===void 0&&(Vu=qd("canvas")),Vu.width=e.width,Vu.height=e.height;const r=Vu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Vu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=qd("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=lf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(lf(n[r]/255)*255):n[r]=lf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let W5=0;class jl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:W5++}),this.uuid=Mi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(S_(i[o].image)):s.push(S_(i[o]))}else s=S_(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function S_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?SE.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let X5=0;class pn extends Ho{constructor(e=pn.DEFAULT_IMAGE,n=pn.DEFAULT_MAPPING,r=vr,i=vr,s=on,o=ns,a=Ir,l=Js,u=pn.DEFAULT_ANISOTROPY,f=xo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:X5++}),this.uuid=Mi(),this.name="",this.source=new jl(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Jv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case za:e.x=e.x-Math.floor(e.x);break;case vr:e.x=e.x<0?0:1;break;case xf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case za:e.y=e.y-Math.floor(e.y);break;case vr:e.y=e.y<0?0:1;break;case xf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}pn.DEFAULT_IMAGE=null;pn.DEFAULT_MAPPING=Jv;pn.DEFAULT_ANISOTROPY=1;class Kt{constructor(e=0,n=0,r=0,i=1){Kt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],f=l[4],d=l[8],p=l[1],m=l[5],v=l[9],_=l[2],y=l[6],g=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-_)<.01&&Math.abs(v-y)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+_)<.1&&Math.abs(v+y)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const A=(u+1)/2,E=(m+1)/2,T=(g+1)/2,C=(f+p)/4,P=(d+_)/4,L=(v+y)/4;return A>E&&A>T?A<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(A),i=C/r,s=P/r):E>T?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=C/i,s=L/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=P/s,i=L/s),this.set(r,i,s,n),this}let S=Math.sqrt((y-v)*(y-v)+(d-_)*(d-_)+(p-f)*(p-f));return Math.abs(S)<.001&&(S=1),this.x=(y-v)/S,this.y=(d-_)/S,this.z=(p-f)/S,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class pO extends Ho{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Kt(0,0,e,n),this.scissorTest=!1,this.viewport=new Kt(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:on,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const s=new pn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new jl(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ci extends pO{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Zv extends pn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=En,this.minFilter=En,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class j5 extends Ci{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Zv(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class wE extends pn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=En,this.minFilter=En,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class J5 extends Ci{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new wE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Wn{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],_=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=_;return}if(d!==_||l!==p||u!==m||f!==v){let y=1-a;const g=l*p+u*m+f*v+d*_,S=g>=0?1:-1,A=1-g*g;if(A>Number.EPSILON){const T=Math.sqrt(A),C=Math.atan2(T,g*S);y=Math.sin(y*C)/T,a=Math.sin(a*C)/T}const E=a*S;if(l=l*y+p*E,u=u*y+m*E,f=f*y+v*E,d=d*y+_*E,y===1-a){const T=1/Math.sqrt(l*l+u*u+f*f+d*d);l*=T,u*=T,f*=T,d*=T}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+f*d+l*m-u*p,e[n+1]=l*v+f*p+u*d-a*m,e[n+2]=u*v+f*m+a*p-l*d,e[n+3]=f*v-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*d+u*m*v,this._y=u*m*d-p*f*v,this._z=u*f*v+p*m*d,this._w=u*f*d-p*m*v;break;case"YXZ":this._x=p*f*d+u*m*v,this._y=u*m*d-p*f*v,this._z=u*f*v-p*m*d,this._w=u*f*d+p*m*v;break;case"ZXY":this._x=p*f*d-u*m*v,this._y=u*m*d+p*f*v,this._z=u*f*v+p*m*d,this._w=u*f*d-p*m*v;break;case"ZYX":this._x=p*f*d-u*m*v,this._y=u*m*d+p*f*v,this._z=u*f*v-p*m*d,this._w=u*f*d+p*m*v;break;case"YZX":this._x=p*f*d+u*m*v,this._y=u*m*d+p*f*v,this._z=u*f*v-p*m*d,this._w=u*f*d-p*m*v;break;case"XZY":this._x=p*f*d-u*m*v,this._y=u*m*d-p*f*v,this._z=u*f*v+p*m*d,this._w=u*f*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],f=n[6],d=n[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(f-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(kn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),d=Math.sin((1-n)*f)/u,p=Math.sin(n*f)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,r=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(bR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(bR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),f=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*u+o*d-a*f,this.y=r+l*f+a*u-s*d,this.z=i+l*d+s*f-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return w_.copy(this).projectOnVector(e),this.sub(w_)}reflect(e){return this.sub(w_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(kn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const w_=new G,bR=new Wn;class xr{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(cs.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(cs.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=cs.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,cs):cs.fromBufferAttribute(s,o),cs.applyMatrix4(e.matrixWorld),this.expandByPoint(cs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ig.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ig.copy(r.boundingBox)),ig.applyMatrix4(e.matrixWorld),this.union(ig)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,cs),cs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Eh),sg.subVectors(this.max,Eh),Wu.subVectors(e.a,Eh),Xu.subVectors(e.b,Eh),ju.subVectors(e.c,Eh),ta.subVectors(Xu,Wu),na.subVectors(ju,Xu),gl.subVectors(Wu,ju);let n=[0,-ta.z,ta.y,0,-na.z,na.y,0,-gl.z,gl.y,ta.z,0,-ta.x,na.z,0,-na.x,gl.z,0,-gl.x,-ta.y,ta.x,0,-na.y,na.x,0,-gl.y,gl.x,0];return!E_(n,Wu,Xu,ju,sg)||(n=[1,0,0,0,1,0,0,0,1],!E_(n,Wu,Xu,ju,sg))?!1:(og.crossVectors(ta,na),n=[og.x,og.y,og.z],E_(n,Wu,Xu,ju,sg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(lo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),lo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),lo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),lo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),lo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),lo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),lo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),lo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(lo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const lo=[new G,new G,new G,new G,new G,new G,new G,new G],cs=new G,ig=new xr,Wu=new G,Xu=new G,ju=new G,ta=new G,na=new G,gl=new G,Eh=new G,sg=new G,og=new G,vl=new G;function E_(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){vl.fromArray(t,s);const a=i.x*Math.abs(vl.x)+i.y*Math.abs(vl.y)+i.z*Math.abs(vl.z),l=e.dot(vl),u=n.dot(vl),f=r.dot(vl);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const $5=new xr,Mh=new G,M_=new G;class fr{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):$5.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mh.subVectors(e,this.center);const n=Mh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Mh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(M_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mh.copy(e.center).add(M_)),this.expandByPoint(Mh.copy(e.center).sub(M_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const uo=new G,b_=new G,ag=new G,ra=new G,C_=new G,lg=new G,T_=new G;class Df{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,uo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=uo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(uo.copy(this.origin).addScaledVector(this.direction,n),uo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){b_.copy(e).add(n).multiplyScalar(.5),ag.copy(n).sub(e).normalize(),ra.copy(this.origin).sub(b_);const s=e.distanceTo(n)*.5,o=-this.direction.dot(ag),a=ra.dot(this.direction),l=-ra.dot(ag),u=ra.lengthSq(),f=Math.abs(1-o*o);let d,p,m,v;if(f>0)if(d=o*l-a,p=o*a-l,v=s*f,d>=0)if(p>=-v)if(p<=v){const _=1/f;d*=_,p*=_,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(b_).addScaledVector(ag,p),m}intersectSphere(e,n){uo.subVectors(e.center,this.origin);const r=uo.dot(this.direction),i=uo.dot(uo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,uo)!==null}intersectTriangle(e,n,r,i,s){C_.subVectors(n,e),lg.subVectors(r,e),T_.crossVectors(C_,lg);let o=this.direction.dot(T_),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ra.subVectors(this.origin,e);const l=a*this.direction.dot(lg.crossVectors(ra,lg));if(l<0)return null;const u=a*this.direction.dot(C_.cross(ra));if(u<0||l+u>o)return null;const f=-a*ra.dot(T_);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ct{constructor(e,n,r,i,s,o,a,l,u,f,d,p,m,v,_,y){ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,f,d,p,m,v,_,y)}set(e,n,r,i,s,o,a,l,u,f,d,p,m,v,_,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=f,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=_,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ct().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ju.setFromMatrixColumn(e,0).length(),s=1/Ju.setFromMatrixColumn(e,1).length(),o=1/Ju.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*d,v=a*f,_=a*d;n[0]=l*f,n[4]=-l*d,n[8]=u,n[1]=m+v*u,n[5]=p-_*u,n[9]=-a*l,n[2]=_-p*u,n[6]=v+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*d,v=u*f,_=u*d;n[0]=p+_*a,n[4]=v*a-m,n[8]=o*u,n[1]=o*d,n[5]=o*f,n[9]=-a,n[2]=m*a-v,n[6]=_+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*d,v=u*f,_=u*d;n[0]=p-_*a,n[4]=-o*d,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*f,n[9]=_-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*d,v=a*f,_=a*d;n[0]=l*f,n[4]=v*u-m,n[8]=p*u+_,n[1]=l*d,n[5]=_*u+p,n[9]=m*u-v,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,_=a*u;n[0]=l*f,n[4]=_-p*d,n[8]=v*d+m,n[1]=d,n[5]=o*f,n[9]=-a*f,n[2]=-u*f,n[6]=m*d+v,n[10]=p-_*d}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,_=a*u;n[0]=l*f,n[4]=-d,n[8]=u*f,n[1]=p*d+_,n[5]=o*f,n[9]=m*d-v,n[2]=v*d-m,n[6]=a*f,n[10]=_*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(K5,e,Y5)}lookAt(e,n,r){const i=this.elements;return mi.subVectors(e,n),mi.lengthSq()===0&&(mi.z=1),mi.normalize(),ia.crossVectors(r,mi),ia.lengthSq()===0&&(Math.abs(r.z)===1?mi.x+=1e-4:mi.z+=1e-4,mi.normalize(),ia.crossVectors(r,mi)),ia.normalize(),ug.crossVectors(mi,ia),i[0]=ia.x,i[4]=ug.x,i[8]=mi.x,i[1]=ia.y,i[5]=ug.y,i[9]=mi.y,i[2]=ia.z,i[6]=ug.z,i[10]=mi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],d=r[5],p=r[9],m=r[13],v=r[2],_=r[6],y=r[10],g=r[14],S=r[3],A=r[7],E=r[11],T=r[15],C=i[0],P=i[4],L=i[8],N=i[12],b=i[1],B=i[5],q=i[9],se=i[13],X=i[2],re=i[6],ne=i[10],he=i[14],H=i[3],Z=i[7],Y=i[11],ae=i[15];return s[0]=o*C+a*b+l*X+u*H,s[4]=o*P+a*B+l*re+u*Z,s[8]=o*L+a*q+l*ne+u*Y,s[12]=o*N+a*se+l*he+u*ae,s[1]=f*C+d*b+p*X+m*H,s[5]=f*P+d*B+p*re+m*Z,s[9]=f*L+d*q+p*ne+m*Y,s[13]=f*N+d*se+p*he+m*ae,s[2]=v*C+_*b+y*X+g*H,s[6]=v*P+_*B+y*re+g*Z,s[10]=v*L+_*q+y*ne+g*Y,s[14]=v*N+_*se+y*he+g*ae,s[3]=S*C+A*b+E*X+T*H,s[7]=S*P+A*B+E*re+T*Z,s[11]=S*L+A*q+E*ne+T*Y,s[15]=S*N+A*se+E*he+T*ae,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],d=e[6],p=e[10],m=e[14],v=e[3],_=e[7],y=e[11],g=e[15];return v*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*m-r*l*m)+_*(+n*l*m-n*u*p+s*o*p-i*o*m+i*u*f-s*l*f)+y*(+n*u*d-n*a*m-s*o*d+r*o*m+s*a*f-r*u*f)+g*(-i*a*f-n*l*d+n*a*p+i*o*d-r*o*p+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=e[9],p=e[10],m=e[11],v=e[12],_=e[13],y=e[14],g=e[15],S=d*y*u-_*p*u+_*l*m-a*y*m-d*l*g+a*p*g,A=v*p*u-f*y*u-v*l*m+o*y*m+f*l*g-o*p*g,E=f*_*u-v*d*u+v*a*m-o*_*m-f*a*g+o*d*g,T=v*d*l-f*_*l-v*a*p+o*_*p+f*a*y-o*d*y,C=n*S+r*A+i*E+s*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=S*P,e[1]=(_*p*s-d*y*s-_*i*m+r*y*m+d*i*g-r*p*g)*P,e[2]=(a*y*s-_*l*s+_*i*u-r*y*u-a*i*g+r*l*g)*P,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*m-r*l*m)*P,e[4]=A*P,e[5]=(f*y*s-v*p*s+v*i*m-n*y*m-f*i*g+n*p*g)*P,e[6]=(v*l*s-o*y*s-v*i*u+n*y*u+o*i*g-n*l*g)*P,e[7]=(o*p*s-f*l*s+f*i*u-n*p*u-o*i*m+n*l*m)*P,e[8]=E*P,e[9]=(v*d*s-f*_*s-v*r*m+n*_*m+f*r*g-n*d*g)*P,e[10]=(o*_*s-v*a*s+v*r*u-n*_*u-o*r*g+n*a*g)*P,e[11]=(f*a*s-o*d*s-f*r*u+n*d*u+o*r*m-n*a*m)*P,e[12]=T*P,e[13]=(f*_*i-v*d*i+v*r*p-n*_*p-f*r*y+n*d*y)*P,e[14]=(v*a*i-o*_*i-v*r*l+n*_*l+o*r*y-n*a*y)*P,e[15]=(o*d*i-f*a*i+f*r*l-n*d*l-o*r*p+n*a*p)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,f=o+o,d=a+a,p=s*u,m=s*f,v=s*d,_=o*f,y=o*d,g=a*d,S=l*u,A=l*f,E=l*d,T=r.x,C=r.y,P=r.z;return i[0]=(1-(_+g))*T,i[1]=(m+E)*T,i[2]=(v-A)*T,i[3]=0,i[4]=(m-E)*C,i[5]=(1-(p+g))*C,i[6]=(y+S)*C,i[7]=0,i[8]=(v+A)*P,i[9]=(y-S)*P,i[10]=(1-(p+_))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Ju.set(i[0],i[1],i[2]).length();const o=Ju.set(i[4],i[5],i[6]).length(),a=Ju.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],fs.copy(this);const u=1/s,f=1/o,d=1/a;return fs.elements[0]*=u,fs.elements[1]*=u,fs.elements[2]*=u,fs.elements[4]*=f,fs.elements[5]*=f,fs.elements[6]*=f,fs.elements[8]*=d,fs.elements[9]*=d,fs.elements[10]*=d,n.setFromRotationMatrix(fs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Vs){const l=this.elements,u=2*s/(n-e),f=2*s/(r-i),d=(n+e)/(n-e),p=(r+i)/(r-i);let m,v;if(a===Vs)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Zd)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Vs){const l=this.elements,u=1/(n-e),f=1/(r-i),d=1/(o-s),p=(n+e)*u,m=(r+i)*f;let v,_;if(a===Vs)v=(o+s)*d,_=-2*d;else if(a===Zd)v=s*d,_=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ju=new G,fs=new ct,K5=new G(0,0,0),Y5=new G(1,1,1),ia=new G,ug=new G,mi=new G,CR=new ct,TR=new Wn;class Nr{constructor(e=0,n=0,r=0,i=Nr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],d=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(kn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-kn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(kn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-kn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(kn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-kn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return CR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(CR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return TR.setFromEuler(this),this.setFromQuaternion(TR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Nr.DEFAULT_ORDER="XYZ";class tu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Q5=0;const RR=new G,$u=new Wn,co=new ct,cg=new G,bh=new G,Z5=new G,q5=new Wn,PR=new G(1,0,0),BR=new G(0,1,0),IR=new G(0,0,1),e8={type:"added"},t8={type:"removed"},R_={type:"childadded",child:null},P_={type:"childremoved",child:null};class jt extends Ho{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Q5++}),this.uuid=Mi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jt.DEFAULT_UP.clone();const e=new G,n=new Nr,r=new Wn,i=new G(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ct},normalMatrix:{value:new Dt}}),this.matrix=new ct,this.matrixWorld=new ct,this.matrixAutoUpdate=jt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new tu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return $u.setFromAxisAngle(e,n),this.quaternion.multiply($u),this}rotateOnWorldAxis(e,n){return $u.setFromAxisAngle(e,n),this.quaternion.premultiply($u),this}rotateX(e){return this.rotateOnAxis(PR,e)}rotateY(e){return this.rotateOnAxis(BR,e)}rotateZ(e){return this.rotateOnAxis(IR,e)}translateOnAxis(e,n){return RR.copy(e).applyQuaternion(this.quaternion),this.position.add(RR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(PR,e)}translateY(e){return this.translateOnAxis(BR,e)}translateZ(e){return this.translateOnAxis(IR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(co.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?cg.copy(e):cg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),bh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?co.lookAt(bh,cg,this.up):co.lookAt(cg,bh,this.up),this.quaternion.setFromRotationMatrix(co),i&&(co.extractRotation(i.matrixWorld),$u.setFromRotationMatrix(co),this.quaternion.premultiply($u.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(e8),R_.child=e,this.dispatchEvent(R_),R_.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(t8),P_.child=e,this.dispatchEvent(P_),P_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),co.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),co.multiply(e.parent.matrixWorld)),e.applyMatrix4(co),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bh,e,Z5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bh,q5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}jt.DEFAULT_UP=new G(0,1,0);jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hs=new G,fo=new G,B_=new G,ho=new G,Ku=new G,Yu=new G,LR=new G,I_=new G,L_=new G,D_=new G;class xi{constructor(e=new G,n=new G,r=new G){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),hs.subVectors(e,n),i.cross(hs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){hs.subVectors(i,n),fo.subVectors(r,n),B_.subVectors(e,n);const o=hs.dot(hs),a=hs.dot(fo),l=hs.dot(B_),u=fo.dot(fo),f=fo.dot(B_),d=o*u-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(u*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ho)===null?!1:ho.x>=0&&ho.y>=0&&ho.x+ho.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,ho)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ho.x),l.addScaledVector(o,ho.y),l.addScaledVector(a,ho.z),l)}static isFrontFacing(e,n,r,i){return hs.subVectors(r,n),fo.subVectors(e,n),hs.cross(fo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hs.subVectors(this.c,this.b),fo.subVectors(this.a,this.b),hs.cross(fo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return xi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return xi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return xi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Ku.subVectors(i,r),Yu.subVectors(s,r),I_.subVectors(e,r);const l=Ku.dot(I_),u=Yu.dot(I_);if(l<=0&&u<=0)return n.copy(r);L_.subVectors(e,i);const f=Ku.dot(L_),d=Yu.dot(L_);if(f>=0&&d<=f)return n.copy(i);const p=l*d-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Ku,o);D_.subVectors(e,s);const m=Ku.dot(D_),v=Yu.dot(D_);if(v>=0&&m<=v)return n.copy(s);const _=m*u-l*v;if(_<=0&&u>=0&&v<=0)return a=u/(u-v),n.copy(r).addScaledVector(Yu,a);const y=f*v-m*d;if(y<=0&&d-f>=0&&m-v>=0)return LR.subVectors(s,i),a=(d-f)/(d-f+(m-v)),n.copy(i).addScaledVector(LR,a);const g=1/(y+_+p);return o=_*g,a=p*g,n.copy(r).addScaledVector(Ku,o).addScaledVector(Yu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sa={h:0,s:0,l:0},fg={h:0,s:0,l:0};function F_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class He{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ki){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=sn.workingColorSpace){return this.r=e,this.g=n,this.b=r,sn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=sn.workingColorSpace){if(e=AE(e,1),n=kn(n,0,1),r=kn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=F_(o,s,e+1/3),this.g=F_(o,s,e),this.b=F_(o,s,e-1/3)}return sn.toWorkingColorSpace(this,i),this}setStyle(e,n=Ki){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ki){const r=mO[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=lf(e.r),this.g=lf(e.g),this.b=lf(e.b),this}copyLinearToSRGB(e){return this.r=A_(e.r),this.g=A_(e.g),this.b=A_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ki){return sn.fromWorkingColorSpace(Tr.copy(this),e),Math.round(kn(Tr.r*255,0,255))*65536+Math.round(kn(Tr.g*255,0,255))*256+Math.round(kn(Tr.b*255,0,255))}getHexString(e=Ki){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=sn.workingColorSpace){sn.fromWorkingColorSpace(Tr.copy(this),n);const r=Tr.r,i=Tr.g,s=Tr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=f<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=sn.workingColorSpace){return sn.fromWorkingColorSpace(Tr.copy(this),n),e.r=Tr.r,e.g=Tr.g,e.b=Tr.b,e}getStyle(e=Ki){sn.fromWorkingColorSpace(Tr.copy(this),e);const n=Tr.r,r=Tr.g,i=Tr.b;return e!==Ki?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(sa),this.setHSL(sa.h+e,sa.s+n,sa.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(sa),e.getHSL(fg);const r=gd(sa.h,fg.h,n),i=gd(sa.s,fg.s,n),s=gd(sa.l,fg.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Tr=new He;He.NAMES=mO;let n8=0,Kn=class extends Ho{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:n8++}),this.uuid=Mi(),this.name="",this.type="Material",this.blending=ql,this.side=Zs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=nv,this.blendDst=rv,this.blendEquation=_a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new He(0,0,0),this.blendAlpha=0,this.depthFunc=Wd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ll,this.stencilZFail=Ll,this.stencilZPass=Ll,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ql&&(r.blending=this.blending),this.side!==Zs&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==nv&&(r.blendSrc=this.blendSrc),this.blendDst!==rv&&(r.blendDst=this.blendDst),this.blendEquation!==_a&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Wd&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AS&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ll&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ll&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ll&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};class Ai extends Kn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Nr,this.combine=xp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _o=r8();function r8(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ri(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=kn(t,-65504,65504),_o.floatView[0]=t;const e=_o.uint32View[0],n=e>>23&511;return _o.baseTable[n]+((e&8388607)>>_o.shiftTable[n])}function td(t){const e=t>>10;return _o.uint32View[0]=_o.mantissaTable[_o.offsetTable[e]+(t&1023)]+_o.exponentTable[e],_o.floatView[0]}const Jl={toHalfFloat:ri,fromHalfFloat:td},Jn=new G,hg=new Ae;class Qt{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Qd,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=er,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return dO("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)hg.fromBufferAttribute(this,n),hg.applyMatrix3(e),this.setXY(n,hg.x,hg.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix3(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix4(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyNormalMatrix(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.transformDirection(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Jr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ft(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Jr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Jr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Jr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Jr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qd&&(e.usage=this.usage),e}}class i8 extends Qt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class s8 extends Qt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class o8 extends Qt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class a8 extends Qt{constructor(e,n,r){super(new Int16Array(e),n,r)}}class EE extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class l8 extends Qt{constructor(e,n,r){super(new Int32Array(e),n,r)}}class ME extends Qt{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class u8 extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=td(this.array[e*this.itemSize]);return this.normalized&&(n=Jr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=ri(n),this}getY(e){let n=td(this.array[e*this.itemSize+1]);return this.normalized&&(n=Jr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=ri(n),this}getZ(e){let n=td(this.array[e*this.itemSize+2]);return this.normalized&&(n=Jr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=ri(n),this}getW(e){let n=td(this.array[e*this.itemSize+3]);return this.normalized&&(n=Jr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=ri(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=ri(n),this.array[e+1]=ri(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=ri(n),this.array[e+1]=ri(r),this.array[e+2]=ri(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=ri(n),this.array[e+1]=ri(r),this.array[e+2]=ri(i),this.array[e+3]=ri(s),this}}class at extends Qt{constructor(e,n,r){super(new Float32Array(e),n,r)}}let c8=0;const Wi=new ct,O_=new jt,Qu=new G,gi=new xr,Ch=new xr,lr=new G;class Rt extends Ho{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:c8++}),this.uuid=Mi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(fO(e)?ME:EE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Wi.makeRotationFromQuaternion(e),this.applyMatrix4(Wi),this}rotateX(e){return Wi.makeRotationX(e),this.applyMatrix4(Wi),this}rotateY(e){return Wi.makeRotationY(e),this.applyMatrix4(Wi),this}rotateZ(e){return Wi.makeRotationZ(e),this.applyMatrix4(Wi),this}translate(e,n,r){return Wi.makeTranslation(e,n,r),this.applyMatrix4(Wi),this}scale(e,n,r){return Wi.makeScale(e,n,r),this.applyMatrix4(Wi),this}lookAt(e){return O_.lookAt(e),O_.updateMatrix(),this.applyMatrix4(O_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qu).negate(),this.translate(Qu.x,Qu.y,Qu.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];gi.setFromBufferAttribute(s),this.morphTargetsRelative?(lr.addVectors(this.boundingBox.min,gi.min),this.boundingBox.expandByPoint(lr),lr.addVectors(this.boundingBox.max,gi.max),this.boundingBox.expandByPoint(lr)):(this.boundingBox.expandByPoint(gi.min),this.boundingBox.expandByPoint(gi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new G,1/0);return}if(e){const r=this.boundingSphere.center;if(gi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Ch.setFromBufferAttribute(a),this.morphTargetsRelative?(lr.addVectors(gi.min,Ch.min),gi.expandByPoint(lr),lr.addVectors(gi.max,Ch.max),gi.expandByPoint(lr)):(gi.expandByPoint(Ch.min),gi.expandByPoint(Ch.max))}gi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)lr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(lr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)lr.fromBufferAttribute(a,u),l&&(Qu.fromBufferAttribute(e,u),lr.add(Qu)),i=Math.max(i,r.distanceToSquared(lr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<r.count;L++)a[L]=new G,l[L]=new G;const u=new G,f=new G,d=new G,p=new Ae,m=new Ae,v=new Ae,_=new G,y=new G;function g(L,N,b){u.fromBufferAttribute(r,L),f.fromBufferAttribute(r,N),d.fromBufferAttribute(r,b),p.fromBufferAttribute(s,L),m.fromBufferAttribute(s,N),v.fromBufferAttribute(s,b),f.sub(u),d.sub(u),m.sub(p),v.sub(p);const B=1/(m.x*v.y-v.x*m.y);isFinite(B)&&(_.copy(f).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(B),y.copy(d).multiplyScalar(m.x).addScaledVector(f,-v.x).multiplyScalar(B),a[L].add(_),a[N].add(_),a[b].add(_),l[L].add(y),l[N].add(y),l[b].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let L=0,N=S.length;L<N;++L){const b=S[L],B=b.start,q=b.count;for(let se=B,X=B+q;se<X;se+=3)g(e.getX(se+0),e.getX(se+1),e.getX(se+2))}const A=new G,E=new G,T=new G,C=new G;function P(L){T.fromBufferAttribute(i,L),C.copy(T);const N=a[L];A.copy(N),A.sub(T.multiplyScalar(T.dot(N))).normalize(),E.crossVectors(C,N);const B=E.dot(l[L])<0?-1:1;o.setXYZW(L,A.x,A.y,A.z,B)}for(let L=0,N=S.length;L<N;++L){const b=S[L],B=b.start,q=b.count;for(let se=B,X=B+q;se<X;se+=3)P(e.getX(se+0)),P(e.getX(se+1)),P(e.getX(se+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new G,s=new G,o=new G,a=new G,l=new G,u=new G,f=new G,d=new G;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),_=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,_),o.fromBufferAttribute(n,y),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,y),a.add(f),l.add(f),u.add(f),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)lr.fromBufferAttribute(e,n),lr.normalize(),e.setXYZ(n,lr.x,lr.y,lr.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,d=a.normalized,p=new u.constructor(l.length*f);let m=0,v=0;for(let _=0,y=l.length;_<y;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*f;for(let g=0;g<f;g++)p[v++]=u[m++]}return new Qt(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Rt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,d=u.length;f<d;f++){const p=u[f],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const s=e.morphAttributes;for(const u in s){const f=[],d=s[u];for(let p=0,m=d.length;p<m;p++)f.push(d[p].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DR=new ct,yl=new Df,dg=new fr,FR=new G,Zu=new G,qu=new G,ec=new G,N_=new G,pg=new G,mg=new Ae,gg=new Ae,vg=new Ae,OR=new G,NR=new G,UR=new G,yg=new G,xg=new G;class Bn extends jt{constructor(e=new Rt,n=new Ai){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){pg.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],d=s[l];f!==0&&(N_.fromBufferAttribute(d,e),o?pg.addScaledVector(N_,f):pg.addScaledVector(N_.sub(n),f))}n.add(pg)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),dg.copy(r.boundingSphere),dg.applyMatrix4(s),yl.copy(e.ray).recast(e.near),!(dg.containsPoint(yl.origin)===!1&&(yl.intersectSphere(dg,FR)===null||yl.origin.distanceToSquared(FR)>(e.far-e.near)**2))&&(DR.copy(s).invert(),yl.copy(e.ray).applyMatrix4(DR),!(r.boundingBox!==null&&yl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,yl)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const y=p[v],g=o[y.materialIndex],S=Math.max(y.start,m.start),A=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let E=S,T=A;E<T;E+=3){const C=a.getX(E),P=a.getX(E+1),L=a.getX(E+2);i=_g(this,g,e,r,u,f,d,C,P,L),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let y=v,g=_;y<g;y+=3){const S=a.getX(y),A=a.getX(y+1),E=a.getX(y+2);i=_g(this,o,e,r,u,f,d,S,A,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const y=p[v],g=o[y.materialIndex],S=Math.max(y.start,m.start),A=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let E=S,T=A;E<T;E+=3){const C=E,P=E+1,L=E+2;i=_g(this,g,e,r,u,f,d,C,P,L),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let y=v,g=_;y<g;y+=3){const S=y,A=y+1,E=y+2;i=_g(this,o,e,r,u,f,d,S,A,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function f8(t,e,n,r,i,s,o,a){let l;if(e.side===Kr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Zs,a),l===null)return null;xg.copy(a),xg.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(xg);return u<n.near||u>n.far?null:{distance:u,point:xg.clone(),object:t}}function _g(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,Zu),t.getVertexPosition(l,qu),t.getVertexPosition(u,ec);const f=f8(t,e,n,r,Zu,qu,ec,yg);if(f){i&&(mg.fromBufferAttribute(i,a),gg.fromBufferAttribute(i,l),vg.fromBufferAttribute(i,u),f.uv=xi.getInterpolation(yg,Zu,qu,ec,mg,gg,vg,new Ae)),s&&(mg.fromBufferAttribute(s,a),gg.fromBufferAttribute(s,l),vg.fromBufferAttribute(s,u),f.uv1=xi.getInterpolation(yg,Zu,qu,ec,mg,gg,vg,new Ae)),o&&(OR.fromBufferAttribute(o,a),NR.fromBufferAttribute(o,l),UR.fromBufferAttribute(o,u),f.normal=xi.getInterpolation(yg,Zu,qu,ec,OR,NR,UR,new G),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new G,materialIndex:0};xi.getNormal(Zu,qu,ec,d.normal),f.face=d}return f}class gu extends Rt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new at(u,3)),this.setAttribute("normal",new at(f,3)),this.setAttribute("uv",new at(d,2));function v(_,y,g,S,A,E,T,C,P,L,N){const b=E/P,B=T/L,q=E/2,se=T/2,X=C/2,re=P+1,ne=L+1;let he=0,H=0;const Z=new G;for(let Y=0;Y<ne;Y++){const ae=Y*B-se;for(let ge=0;ge<re;ge++){const Oe=ge*b-q;Z[_]=Oe*S,Z[y]=ae*A,Z[g]=X,u.push(Z.x,Z.y,Z.z),Z[_]=0,Z[y]=0,Z[g]=C>0?1:-1,f.push(Z.x,Z.y,Z.z),d.push(ge/P),d.push(1-Y/L),he+=1}}for(let Y=0;Y<L;Y++)for(let ae=0;ae<P;ae++){const ge=p+ae+re*Y,Oe=p+ae+re*(Y+1),oe=p+(ae+1)+re*(Y+1),Se=p+(ae+1)+re*Y;l.push(ge,Oe,Se),l.push(Oe,oe,Se),H+=6}a.addGroup(m,H,N),m+=H,p+=he}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Sf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Wr(t){const e={};for(let n=0;n<t.length;n++){const r=Sf(t[n]);for(const i in r)e[i]=r[i]}return e}function h8(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function gO(t){return t.getRenderTarget()===null?t.outputColorSpace:sn.workingColorSpace}const bE={clone:Sf,merge:Wr};var d8=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,p8=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ti extends Kn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=d8,this.fragmentShader=p8,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sf(e.uniforms),this.uniformsGroups=h8(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Ap extends jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ct,this.projectionMatrix=new ct,this.projectionMatrixInverse=new ct,this.coordinateSystem=Vs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const oa=new G,kR=new Ae,GR=new Ae;class qn extends Ap{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Af*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(eu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Af*2*Math.atan(Math.tan(eu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){oa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(oa.x,oa.y).multiplyScalar(-e/oa.z),oa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(oa.x,oa.y).multiplyScalar(-e/oa.z)}getViewSize(e,n){return this.getViewBounds(e,kR,GR),n.subVectors(GR,kR)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(eu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const tc=-90,nc=1;class vO extends jt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new qn(tc,nc,e,n);i.layers=this.layers,this.add(i);const s=new qn(tc,nc,e,n);s.layers=this.layers,this.add(s);const o=new qn(tc,nc,e,n);o.layers=this.layers,this.add(o);const a=new qn(tc,nc,e,n);a.layers=this.layers,this.add(a);const l=new qn(tc,nc,e,n);l.layers=this.layers,this.add(l);const u=new qn(tc,nc,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Vs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Zd)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(d,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Sp extends pn{constructor(e,n,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],n=n!==void 0?n:qs,super(e,n,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class CE extends Ci{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Sp(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:on}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new gu(5,5,5),s=new Ti({name:"CubemapFromEquirect",uniforms:Sf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Kr,blending:Ro});s.uniforms.tEquirect.value=n;const o=new Bn(i,s),a=n.minFilter;return n.minFilter===ns&&(n.minFilter=on),new vO(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const U_=new G,m8=new G,g8=new Dt;class pa{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=U_.subVectors(r,n).cross(m8.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(U_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||g8.getNormalMatrix(e),i=this.coplanarPoint(U_).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const xl=new fr,Ag=new G;class wp{constructor(e=new pa,n=new pa,r=new pa,i=new pa,s=new pa,o=new pa){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Vs){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],d=i[6],p=i[7],m=i[8],v=i[9],_=i[10],y=i[11],g=i[12],S=i[13],A=i[14],E=i[15];if(r[0].setComponents(l-s,p-u,y-m,E-g).normalize(),r[1].setComponents(l+s,p+u,y+m,E+g).normalize(),r[2].setComponents(l+o,p+f,y+v,E+S).normalize(),r[3].setComponents(l-o,p-f,y-v,E-S).normalize(),r[4].setComponents(l-a,p-d,y-_,E-A).normalize(),n===Vs)r[5].setComponents(l+a,p+d,y+_,E+A).normalize();else if(n===Zd)r[5].setComponents(a,d,_,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),xl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),xl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(xl)}intersectsSprite(e){return xl.center.set(0,0,0),xl.radius=.7071067811865476,xl.applyMatrix4(e.matrixWorld),this.intersectsSphere(xl)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Ag.x=i.normal.x>0?e.max.x:e.min.x,Ag.y=i.normal.y>0?e.max.y:e.min.y,Ag.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ag)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yO(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function v8(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,f){const d=u.array,p=u.usage,m=d.byteLength,v=t.createBuffer();t.bindBuffer(f,v),t.bufferData(f,d,p),u.onUploadCallback();let _;if(d instanceof Float32Array)_=t.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)_=t.SHORT;else if(d instanceof Uint32Array)_=t.UNSIGNED_INT;else if(d instanceof Int32Array)_=t.INT;else if(d instanceof Int8Array)_=t.BYTE;else if(d instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:v,type:_,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version,size:m}}function s(u,f,d){const p=f.array,m=f._updateRange,v=f.updateRanges;if(t.bindBuffer(d,u),m.count===-1&&v.length===0&&t.bufferSubData(d,0,p),v.length!==0){for(let _=0,y=v.length;_<y;_++){const g=v[_];n?t.bufferSubData(d,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):t.bufferSubData(d,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}f.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f&&(t.deleteBuffer(f.buffer),r.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);if(d===void 0)r.set(u,i(u,f));else if(d.version<u.version){if(d.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(d.buffer,u,f),d.version=u.version}}return{get:o,remove:a,update:l}}class Ff extends Rt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,d=e/a,p=n/l,m=[],v=[],_=[],y=[];for(let g=0;g<f;g++){const S=g*p-o;for(let A=0;A<u;A++){const E=A*d-s;v.push(E,-S,0),_.push(0,0,1),y.push(A/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const A=S+u*g,E=S+u*(g+1),T=S+1+u*(g+1),C=S+1+u*g;m.push(A,E,C),m.push(E,T,C)}this.setIndex(m),this.setAttribute("position",new at(v,3)),this.setAttribute("normal",new at(_,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ff(e.width,e.height,e.widthSegments,e.heightSegments)}}var y8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,x8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,_8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,A8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,S8=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,w8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,E8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,M8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b8=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,C8=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,T8=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,R8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,P8=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,B8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,I8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,L8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,D8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,F8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,O8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,N8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,U8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,k8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,G8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,H8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,z8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,V8=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,W8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,X8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,j8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,J8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$8="gl_FragColor = linearToOutputTexel( gl_FragColor );",K8=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Y8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Q8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Z8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,q8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,eV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,tV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,nV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,iV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,sV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,oV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,aV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,cV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,dV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,pV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,vV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_V=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,AV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,SV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,EV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,MV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,bV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,CV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,TV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,PV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,BV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,IV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,LV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,DV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,FV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,OV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,NV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,UV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,VV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,WV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,XV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,JV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,$V=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,KV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,YV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,QV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ZV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,qV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,e9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,t9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,n9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,r9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,i9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,s9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,o9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,a9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,l9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,u9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,c9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,f9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,h9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,d9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,p9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,m9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,g9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,v9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const y9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,x9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,A9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,S9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,w9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,E9=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,M9=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,b9=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,C9=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,T9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,R9=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P9=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,B9=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,I9=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,L9=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,F9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,O9=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,N9=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U9=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,k9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,G9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,V9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,W9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,X9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,J9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$9=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Y9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Q9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ot={alphahash_fragment:y8,alphahash_pars_fragment:x8,alphamap_fragment:_8,alphamap_pars_fragment:A8,alphatest_fragment:S8,alphatest_pars_fragment:w8,aomap_fragment:E8,aomap_pars_fragment:M8,batching_pars_vertex:b8,batching_vertex:C8,begin_vertex:T8,beginnormal_vertex:R8,bsdfs:P8,iridescence_fragment:B8,bumpmap_pars_fragment:I8,clipping_planes_fragment:L8,clipping_planes_pars_fragment:D8,clipping_planes_pars_vertex:F8,clipping_planes_vertex:O8,color_fragment:N8,color_pars_fragment:U8,color_pars_vertex:k8,color_vertex:G8,common:H8,cube_uv_reflection_fragment:z8,defaultnormal_vertex:V8,displacementmap_pars_vertex:W8,displacementmap_vertex:X8,emissivemap_fragment:j8,emissivemap_pars_fragment:J8,colorspace_fragment:$8,colorspace_pars_fragment:K8,envmap_fragment:Y8,envmap_common_pars_fragment:Q8,envmap_pars_fragment:Z8,envmap_pars_vertex:q8,envmap_physical_pars_fragment:fV,envmap_vertex:eV,fog_vertex:tV,fog_pars_vertex:nV,fog_fragment:rV,fog_pars_fragment:iV,gradientmap_pars_fragment:sV,lightmap_fragment:oV,lightmap_pars_fragment:aV,lights_lambert_fragment:lV,lights_lambert_pars_fragment:uV,lights_pars_begin:cV,lights_toon_fragment:hV,lights_toon_pars_fragment:dV,lights_phong_fragment:pV,lights_phong_pars_fragment:mV,lights_physical_fragment:gV,lights_physical_pars_fragment:vV,lights_fragment_begin:yV,lights_fragment_maps:xV,lights_fragment_end:_V,logdepthbuf_fragment:AV,logdepthbuf_pars_fragment:SV,logdepthbuf_pars_vertex:wV,logdepthbuf_vertex:EV,map_fragment:MV,map_pars_fragment:bV,map_particle_fragment:CV,map_particle_pars_fragment:TV,metalnessmap_fragment:RV,metalnessmap_pars_fragment:PV,morphinstance_vertex:BV,morphcolor_vertex:IV,morphnormal_vertex:LV,morphtarget_pars_vertex:DV,morphtarget_vertex:FV,normal_fragment_begin:OV,normal_fragment_maps:NV,normal_pars_fragment:UV,normal_pars_vertex:kV,normal_vertex:GV,normalmap_pars_fragment:HV,clearcoat_normal_fragment_begin:zV,clearcoat_normal_fragment_maps:VV,clearcoat_pars_fragment:WV,iridescence_pars_fragment:XV,opaque_fragment:jV,packing:JV,premultiplied_alpha_fragment:$V,project_vertex:KV,dithering_fragment:YV,dithering_pars_fragment:QV,roughnessmap_fragment:ZV,roughnessmap_pars_fragment:qV,shadowmap_pars_fragment:e9,shadowmap_pars_vertex:t9,shadowmap_vertex:n9,shadowmask_pars_fragment:r9,skinbase_vertex:i9,skinning_pars_vertex:s9,skinning_vertex:o9,skinnormal_vertex:a9,specularmap_fragment:l9,specularmap_pars_fragment:u9,tonemapping_fragment:c9,tonemapping_pars_fragment:f9,transmission_fragment:h9,transmission_pars_fragment:d9,uv_pars_fragment:p9,uv_pars_vertex:m9,uv_vertex:g9,worldpos_vertex:v9,background_vert:y9,background_frag:x9,backgroundCube_vert:_9,backgroundCube_frag:A9,cube_vert:S9,cube_frag:w9,depth_vert:E9,depth_frag:M9,distanceRGBA_vert:b9,distanceRGBA_frag:C9,equirect_vert:T9,equirect_frag:R9,linedashed_vert:P9,linedashed_frag:B9,meshbasic_vert:I9,meshbasic_frag:L9,meshlambert_vert:D9,meshlambert_frag:F9,meshmatcap_vert:O9,meshmatcap_frag:N9,meshnormal_vert:U9,meshnormal_frag:k9,meshphong_vert:G9,meshphong_frag:H9,meshphysical_vert:z9,meshphysical_frag:V9,meshtoon_vert:W9,meshtoon_frag:X9,points_vert:j9,points_frag:J9,shadow_vert:$9,shadow_frag:K9,sprite_vert:Y9,sprite_frag:Q9},ke={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},envMapRotation:{value:new Dt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}}},_s={basic:{uniforms:Wr([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:Wr([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,ke.lights,{emissive:{value:new He(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:Wr([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,ke.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:Wr([ke.common,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.roughnessmap,ke.metalnessmap,ke.fog,ke.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:Wr([ke.common,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.gradientmap,ke.fog,ke.lights,{emissive:{value:new He(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:Wr([ke.common,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:Wr([ke.points,ke.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:Wr([ke.common,ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:Wr([ke.common,ke.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:Wr([ke.common,ke.bumpmap,ke.normalmap,ke.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:Wr([ke.sprite,ke.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dt}},vertexShader:Ot.backgroundCube_vert,fragmentShader:Ot.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:Wr([ke.common,ke.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:Wr([ke.lights,ke.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};_s.physical={uniforms:Wr([_s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new Ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt},anisotropyVector:{value:new Ae},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dt}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};const Sg={r:0,b:0,g:0},_l=new Nr,Z9=new ct;function q9(t,e,n,r,i,s,o){const a=new He(0);let l=s===!0?0:1,u,f,d=null,p=0,m=null;function v(y,g){let S=!1,A=g.isScene===!0?g.background:null;A&&A.isTexture&&(A=(g.backgroundBlurriness>0?n:e).get(A)),A===null?_(a,l):A&&A.isColor&&(_(A,1),S=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),A&&(A.isCubeTexture||A.mapping===Lf)?(f===void 0&&(f=new Bn(new gu(1,1,1),new Ti({name:"BackgroundCubeMaterial",uniforms:Sf(_s.backgroundCube.uniforms),vertexShader:_s.backgroundCube.vertexShader,fragmentShader:_s.backgroundCube.fragmentShader,side:Kr,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(T,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),_l.copy(g.backgroundRotation),_l.x*=-1,_l.y*=-1,_l.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(_l.y*=-1,_l.z*=-1),f.material.uniforms.envMap.value=A,f.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(Z9.makeRotationFromEuler(_l)),f.material.toneMapped=sn.getTransfer(A.colorSpace)!==hn,(d!==A||p!==A.version||m!==t.toneMapping)&&(f.material.needsUpdate=!0,d=A,p=A.version,m=t.toneMapping),f.layers.enableAll(),y.unshift(f,f.geometry,f.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new Bn(new Ff(2,2),new Ti({name:"BackgroundMaterial",uniforms:Sf(_s.background.uniforms),vertexShader:_s.background.vertexShader,fragmentShader:_s.background.fragmentShader,side:Zs,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=sn.getTransfer(A.colorSpace)!==hn,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||p!==A.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=A,p=A.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function _(y,g){y.getRGB(Sg,gO(t)),r.buffers.color.setClear(Sg.r,Sg.g,Sg.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(y,g=1){a.set(y),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,_(a,l)},render:v}}function e6(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,f=!1;function d(X,re,ne,he,H){let Z=!1;if(o){const Y=_(he,ne,re);u!==Y&&(u=Y,m(u.object)),Z=g(X,he,ne,H),Z&&S(X,he,ne,H)}else{const Y=re.wireframe===!0;(u.geometry!==he.id||u.program!==ne.id||u.wireframe!==Y)&&(u.geometry=he.id,u.program=ne.id,u.wireframe=Y,Z=!0)}H!==null&&n.update(H,t.ELEMENT_ARRAY_BUFFER),(Z||f)&&(f=!1,L(X,re,ne,he),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(H).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(X){return r.isWebGL2?t.bindVertexArray(X):s.bindVertexArrayOES(X)}function v(X){return r.isWebGL2?t.deleteVertexArray(X):s.deleteVertexArrayOES(X)}function _(X,re,ne){const he=ne.wireframe===!0;let H=a[X.id];H===void 0&&(H={},a[X.id]=H);let Z=H[re.id];Z===void 0&&(Z={},H[re.id]=Z);let Y=Z[he];return Y===void 0&&(Y=y(p()),Z[he]=Y),Y}function y(X){const re=[],ne=[],he=[];for(let H=0;H<i;H++)re[H]=0,ne[H]=0,he[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:re,enabledAttributes:ne,attributeDivisors:he,object:X,attributes:{},index:null}}function g(X,re,ne,he){const H=u.attributes,Z=re.attributes;let Y=0;const ae=ne.getAttributes();for(const ge in ae)if(ae[ge].location>=0){const oe=H[ge];let Se=Z[ge];if(Se===void 0&&(ge==="instanceMatrix"&&X.instanceMatrix&&(Se=X.instanceMatrix),ge==="instanceColor"&&X.instanceColor&&(Se=X.instanceColor)),oe===void 0||oe.attribute!==Se||Se&&oe.data!==Se.data)return!0;Y++}return u.attributesNum!==Y||u.index!==he}function S(X,re,ne,he){const H={},Z=re.attributes;let Y=0;const ae=ne.getAttributes();for(const ge in ae)if(ae[ge].location>=0){let oe=Z[ge];oe===void 0&&(ge==="instanceMatrix"&&X.instanceMatrix&&(oe=X.instanceMatrix),ge==="instanceColor"&&X.instanceColor&&(oe=X.instanceColor));const Se={};Se.attribute=oe,oe&&oe.data&&(Se.data=oe.data),H[ge]=Se,Y++}u.attributes=H,u.attributesNum=Y,u.index=he}function A(){const X=u.newAttributes;for(let re=0,ne=X.length;re<ne;re++)X[re]=0}function E(X){T(X,0)}function T(X,re){const ne=u.newAttributes,he=u.enabledAttributes,H=u.attributeDivisors;ne[X]=1,he[X]===0&&(t.enableVertexAttribArray(X),he[X]=1),H[X]!==re&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](X,re),H[X]=re)}function C(){const X=u.newAttributes,re=u.enabledAttributes;for(let ne=0,he=re.length;ne<he;ne++)re[ne]!==X[ne]&&(t.disableVertexAttribArray(ne),re[ne]=0)}function P(X,re,ne,he,H,Z,Y){Y===!0?t.vertexAttribIPointer(X,re,ne,H,Z):t.vertexAttribPointer(X,re,ne,he,H,Z)}function L(X,re,ne,he){if(r.isWebGL2===!1&&(X.isInstancedMesh||he.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const H=he.attributes,Z=ne.getAttributes(),Y=re.defaultAttributeValues;for(const ae in Z){const ge=Z[ae];if(ge.location>=0){let Oe=H[ae];if(Oe===void 0&&(ae==="instanceMatrix"&&X.instanceMatrix&&(Oe=X.instanceMatrix),ae==="instanceColor"&&X.instanceColor&&(Oe=X.instanceColor)),Oe!==void 0){const oe=Oe.normalized,Se=Oe.itemSize,we=n.get(Oe);if(we===void 0)continue;const We=we.buffer,Ye=we.type,et=we.bytesPerElement,Et=r.isWebGL2===!0&&(Ye===t.INT||Ye===t.UNSIGNED_INT||Oe.gpuType===fE);if(Oe.isInterleavedBufferAttribute){const tt=Oe.data,$=tt.stride,Ce=Oe.offset;if(tt.isInstancedInterleavedBuffer){for(let _e=0;_e<ge.locationSize;_e++)T(ge.location+_e,tt.meshPerAttribute);X.isInstancedMesh!==!0&&he._maxInstanceCount===void 0&&(he._maxInstanceCount=tt.meshPerAttribute*tt.count)}else for(let _e=0;_e<ge.locationSize;_e++)E(ge.location+_e);t.bindBuffer(t.ARRAY_BUFFER,We);for(let _e=0;_e<ge.locationSize;_e++)P(ge.location+_e,Se/ge.locationSize,Ye,oe,$*et,(Ce+Se/ge.locationSize*_e)*et,Et)}else{if(Oe.isInstancedBufferAttribute){for(let tt=0;tt<ge.locationSize;tt++)T(ge.location+tt,Oe.meshPerAttribute);X.isInstancedMesh!==!0&&he._maxInstanceCount===void 0&&(he._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let tt=0;tt<ge.locationSize;tt++)E(ge.location+tt);t.bindBuffer(t.ARRAY_BUFFER,We);for(let tt=0;tt<ge.locationSize;tt++)P(ge.location+tt,Se/ge.locationSize,Ye,oe,Se*et,Se/ge.locationSize*tt*et,Et)}}else if(Y!==void 0){const oe=Y[ae];if(oe!==void 0)switch(oe.length){case 2:t.vertexAttrib2fv(ge.location,oe);break;case 3:t.vertexAttrib3fv(ge.location,oe);break;case 4:t.vertexAttrib4fv(ge.location,oe);break;default:t.vertexAttrib1fv(ge.location,oe)}}}}C()}function N(){q();for(const X in a){const re=a[X];for(const ne in re){const he=re[ne];for(const H in he)v(he[H].object),delete he[H];delete re[ne]}delete a[X]}}function b(X){if(a[X.id]===void 0)return;const re=a[X.id];for(const ne in re){const he=re[ne];for(const H in he)v(he[H].object),delete he[H];delete re[ne]}delete a[X.id]}function B(X){for(const re in a){const ne=a[re];if(ne[X.id]===void 0)continue;const he=ne[X.id];for(const H in he)v(he[H].object),delete he[H];delete ne[X.id]}}function q(){se(),f=!0,u!==l&&(u=l,m(u.object))}function se(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:q,resetDefaultState:se,dispose:N,releaseStatesOfGeometry:b,releaseStatesOfProgram:B,initAttributes:A,enableAttribute:E,disableUnusedAttributes:C}}function t6(t,e,n,r){const i=r.isWebGL2;let s;function o(f){s=f}function a(f,d){t.drawArrays(s,f,d),n.update(d,s,1)}function l(f,d,p){if(p===0)return;let m,v;if(i)m=t,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,f,d,p),n.update(d,s,p)}function u(f,d,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(f[v],d[v]);else{m.multiDrawArraysWEBGL(s,f,0,d,0,p);let v=0;for(let _=0;_<p;_++)v+=d[_];n.update(v,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=u}function n6(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=p>0,E=o||e.has("OES_texture_float"),T=A&&E,C=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:S,vertexTextures:A,floatFragmentTextures:E,floatVertexTextures:T,maxSamples:C}}function r6(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new pa,a=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=f(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,_=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||v===null||v.length===0||s&&!y)s?f(null):u();else{const S=s?0:r,A=S*4;let E=g.clippingState||null;l.value=E,E=f(v,p,A,m);for(let T=0;T!==A;++T)E[T]=n[T];g.clippingState=E,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,p,m,v){const _=d!==null?d.length:0;let y=null;if(_!==0){if(y=l.value,v!==!0||y===null){const g=m+_*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<g)&&(y=new Float32Array(g));for(let A=0,E=m;A!==_;++A,E+=4)o.copy(d[A]).applyMatrix4(S,a),o.normal.toArray(y,E),y[E+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,y}}function i6(t){let e=new WeakMap;function n(o,a){return a===yf?o.mapping=qs:a===Xd&&(o.mapping=Ha),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===yf||a===Xd)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new CE(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Of extends Ap{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Xc=4,HR=[.125,.215,.35,.446,.526,.582],Gl=20,k_=new Of,zR=new He;let G_=null,H_=0,z_=0;const Dl=(1+Math.sqrt(5))/2,rc=1/Dl,VR=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Dl,rc),new G(0,Dl,-rc),new G(rc,0,Dl),new G(-rc,0,Dl),new G(Dl,rc,0),new G(-Dl,rc,0)];class ES{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){G_=this._renderer.getRenderTarget(),H_=this._renderer.getActiveCubeFace(),z_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(G_,H_,z_),e.scissorTest=!1,wg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===qs||e.mapping===Ha?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),G_=this._renderer.getRenderTarget(),H_=this._renderer.getActiveCubeFace(),z_=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:on,minFilter:on,generateMipmaps:!1,type:Lr,format:Ir,colorSpace:Go,depthBuffer:!1},i=WR(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WR(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=s6(s)),this._blurMaterial=o6(s,e,n)}return i}_compileMaterial(e){const n=new Bn(this._lodPlanes[0],e);this._renderer.compile(n,k_)}_sceneToCubeUV(e,n,r,i){const a=new qn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,p=f.toneMapping;f.getClearColor(zR),f.toneMapping=js,f.autoClear=!1;const m=new Ai({name:"PMREM.Background",side:Kr,depthWrite:!1,depthTest:!1}),v=new Bn(new gu,m);let _=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,_=!0):(m.color.copy(zR),_=!0);for(let g=0;g<6;g++){const S=g%3;S===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):S===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const A=this._cubeSize;wg(i,S*A,g>2?A:0,A,A),f.setRenderTarget(i),_&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===qs||e.mapping===Ha;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=jR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Bn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;wg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,k_)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=VR[(i-1)%VR.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new Bn(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Gl-1),_=s/v,y=isFinite(s)?1+Math.floor(f*_):Gl;y>Gl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Gl}`);const g=[];let S=0;for(let P=0;P<Gl;++P){const L=P/_,N=Math.exp(-L*L/2);g.push(N),P===0?S+=N:P<y&&(S+=2*N)}for(let P=0;P<g.length;P++)g[P]=g[P]/S;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=v,p.mipInt.value=A-r;const E=this._sizeLods[i],T=3*E*(i>A-Xc?i-A+Xc:0),C=4*(this._cubeSize-E);wg(n,T,C,3*E,2*E),l.setRenderTarget(n),l.render(d,k_)}}function s6(t){const e=[],n=[],r=[];let i=t;const s=t-Xc+1+HR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Xc?l=HR[o-t+Xc-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,d=1+u,p=[f,f,d,f,d,d,f,f,d,d,f,d],m=6,v=6,_=3,y=2,g=1,S=new Float32Array(_*v*m),A=new Float32Array(y*v*m),E=new Float32Array(g*v*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,L=C>2?0:-1,N=[P,L,0,P+2/3,L,0,P+2/3,L+1,0,P,L,0,P+2/3,L+1,0,P,L+1,0];S.set(N,_*v*C),A.set(p,y*v*C);const b=[C,C,C,C,C,C];E.set(b,g*v*C)}const T=new Rt;T.setAttribute("position",new Qt(S,_)),T.setAttribute("uv",new Qt(A,y)),T.setAttribute("faceIndex",new Qt(E,g)),e.push(T),i>Xc&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function WR(t,e,n){const r=new Ci(t,e,n);return r.texture.mapping=Lf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function wg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function o6(t,e,n){const r=new Float32Array(Gl),i=new G(0,1,0);return new Ti({name:"SphericalGaussianBlur",defines:{n:Gl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:TE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ro,depthTest:!1,depthWrite:!1})}function XR(){return new Ti({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:TE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ro,depthTest:!1,depthWrite:!1})}function jR(){return new Ti({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:TE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ro,depthTest:!1,depthWrite:!1})}function TE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function a6(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===yf||l===Xd,f=l===qs||l===Ha;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new ES(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||f&&d&&i(d)){n===null&&(n=new ES(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function l6(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function u6(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const _=p.morphAttributes[v];for(let y=0,g=_.length;y<g;y++)e.remove(_[y])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const _=m[v];for(let y=0,g=_.length;y<g;y++)e.update(_[y],t.ARRAY_BUFFER)}}function u(d){const p=[],m=d.index,v=d.attributes.position;let _=0;if(m!==null){const S=m.array;_=m.version;for(let A=0,E=S.length;A<E;A+=3){const T=S[A+0],C=S[A+1],P=S[A+2];p.push(T,C,C,P,P,T)}}else if(v!==void 0){const S=v.array;_=v.version;for(let A=0,E=S.length/3-1;A<E;A+=3){const T=A+0,C=A+1,P=A+2;p.push(T,C,C,P,P,T)}}else return;const y=new(fO(p)?ME:EE)(p,1);y.version=_;const g=s.get(d);g&&e.remove(g),s.set(d,y)}function f(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function c6(t,e,n,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function u(m){a=m.type,l=m.bytesPerElement}function f(m,v){t.drawElements(s,v,a,m*l),n.update(v,s,1)}function d(m,v,_){if(_===0)return;let y,g;if(i)y=t,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](s,v,a,m*l,_),n.update(v,s,_)}function p(m,v,_){if(_===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<_;g++)this.render(m[g]/l,v[g]);else{y.multiDrawElementsWEBGL(s,v,0,a,m,0,_);let g=0;for(let S=0;S<_;S++)g+=v[S];n.update(g,s,1)}}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=d,this.renderMultiDraw=p}function f6(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function h6(t,e){return t[0]-e[0]}function d6(t,e){return Math.abs(e[1])-Math.abs(t[1])}function p6(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Kt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,_=v!==void 0?v.length:0;let y=s.get(f);if(y===void 0||y.count!==_){let se=function(){B.dispose(),s.delete(f),f.removeEventListener("dispose",se)};var m=se;y!==void 0&&y.texture.dispose();const g=f.morphAttributes.position!==void 0,S=f.morphAttributes.normal!==void 0,A=f.morphAttributes.color!==void 0,E=f.morphAttributes.position||[],T=f.morphAttributes.normal||[],C=f.morphAttributes.color||[];let P=0;g===!0&&(P=1),S===!0&&(P=2),A===!0&&(P=3);let L=f.attributes.position.count*P,N=1;L>e.maxTextureSize&&(N=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const b=new Float32Array(L*N*4*_),B=new Zv(b,L,N,_);B.type=er,B.needsUpdate=!0;const q=P*4;for(let X=0;X<_;X++){const re=E[X],ne=T[X],he=C[X],H=L*N*4*X;for(let Z=0;Z<re.count;Z++){const Y=Z*q;g===!0&&(o.fromBufferAttribute(re,Z),b[H+Y+0]=o.x,b[H+Y+1]=o.y,b[H+Y+2]=o.z,b[H+Y+3]=0),S===!0&&(o.fromBufferAttribute(ne,Z),b[H+Y+4]=o.x,b[H+Y+5]=o.y,b[H+Y+6]=o.z,b[H+Y+7]=0),A===!0&&(o.fromBufferAttribute(he,Z),b[H+Y+8]=o.x,b[H+Y+9]=o.y,b[H+Y+10]=o.z,b[H+Y+11]=he.itemSize===4?o.w:1)}}y={count:_,texture:B,size:new Ae(L,N)},s.set(f,y),f.addEventListener("dispose",se)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)d.getUniforms().setValue(t,"morphTexture",u.morphTexture,n);else{let g=0;for(let A=0;A<p.length;A++)g+=p[A];const S=f.morphTargetsRelative?1:1-g;d.getUniforms().setValue(t,"morphTargetBaseInfluence",S),d.getUniforms().setValue(t,"morphTargetInfluences",p)}d.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const v=p===void 0?0:p.length;let _=r[f.id];if(_===void 0||_.length!==v){_=[];for(let E=0;E<v;E++)_[E]=[E,0];r[f.id]=_}for(let E=0;E<v;E++){const T=_[E];T[0]=E,T[1]=p[E]}_.sort(d6);for(let E=0;E<8;E++)E<v&&_[E][1]?(a[E][0]=_[E][0],a[E][1]=_[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(h6);const y=f.morphAttributes.position,g=f.morphAttributes.normal;let S=0;for(let E=0;E<8;E++){const T=a[E],C=T[0],P=T[1];C!==Number.MAX_SAFE_INTEGER&&P?(y&&f.getAttribute("morphTarget"+E)!==y[C]&&f.setAttribute("morphTarget"+E,y[C]),g&&f.getAttribute("morphNormal"+E)!==g[C]&&f.setAttribute("morphNormal"+E,g[C]),i[E]=P,S+=P):(y&&f.hasAttribute("morphTarget"+E)===!0&&f.deleteAttribute("morphTarget"+E),g&&f.hasAttribute("morphNormal"+E)===!0&&f.deleteAttribute("morphNormal"+E),i[E]=0)}const A=f.morphTargetsRelative?1:1-S;d.getUniforms().setValue(t,"morphTargetBaseInfluence",A),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function m6(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class RE extends pn{constructor(e,n,r,i,s,o,a,l,u,f){if(f=f!==void 0?f:Fa,f!==Fa&&f!==uu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===Fa&&(r=wo),r===void 0&&f===uu&&(r=Da),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:En,this.minFilter=l!==void 0?l:En,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const xO=new pn,_O=new RE(1,1);_O.compareFunction=_E;const AO=new Zv,SO=new wE,wO=new Sp,JR=[],$R=[],KR=new Float32Array(16),YR=new Float32Array(9),QR=new Float32Array(4);function Nf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=JR[i];if(s===void 0&&(s=new Float32Array(i),JR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function rr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ir(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function qv(t,e){let n=$R[e];n===void 0&&(n=new Int32Array(e),$R[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function g6(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function v6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(rr(n,e))return;t.uniform2fv(this.addr,e),ir(n,e)}}function y6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(rr(n,e))return;t.uniform3fv(this.addr,e),ir(n,e)}}function x6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(rr(n,e))return;t.uniform4fv(this.addr,e),ir(n,e)}}function _6(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(rr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ir(n,e)}else{if(rr(n,r))return;QR.set(r),t.uniformMatrix2fv(this.addr,!1,QR),ir(n,r)}}function A6(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(rr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ir(n,e)}else{if(rr(n,r))return;YR.set(r),t.uniformMatrix3fv(this.addr,!1,YR),ir(n,r)}}function S6(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(rr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ir(n,e)}else{if(rr(n,r))return;KR.set(r),t.uniformMatrix4fv(this.addr,!1,KR),ir(n,r)}}function w6(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function E6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(rr(n,e))return;t.uniform2iv(this.addr,e),ir(n,e)}}function M6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(rr(n,e))return;t.uniform3iv(this.addr,e),ir(n,e)}}function b6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(rr(n,e))return;t.uniform4iv(this.addr,e),ir(n,e)}}function C6(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function T6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(rr(n,e))return;t.uniform2uiv(this.addr,e),ir(n,e)}}function R6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(rr(n,e))return;t.uniform3uiv(this.addr,e),ir(n,e)}}function P6(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(rr(n,e))return;t.uniform4uiv(this.addr,e),ir(n,e)}}function B6(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?_O:xO;n.setTexture2D(e||s,i)}function I6(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||SO,i)}function L6(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||wO,i)}function D6(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||AO,i)}function F6(t){switch(t){case 5126:return g6;case 35664:return v6;case 35665:return y6;case 35666:return x6;case 35674:return _6;case 35675:return A6;case 35676:return S6;case 5124:case 35670:return w6;case 35667:case 35671:return E6;case 35668:case 35672:return M6;case 35669:case 35673:return b6;case 5125:return C6;case 36294:return T6;case 36295:return R6;case 36296:return P6;case 35678:case 36198:case 36298:case 36306:case 35682:return B6;case 35679:case 36299:case 36307:return I6;case 35680:case 36300:case 36308:case 36293:return L6;case 36289:case 36303:case 36311:case 36292:return D6}}function O6(t,e){t.uniform1fv(this.addr,e)}function N6(t,e){const n=Nf(e,this.size,2);t.uniform2fv(this.addr,n)}function U6(t,e){const n=Nf(e,this.size,3);t.uniform3fv(this.addr,n)}function k6(t,e){const n=Nf(e,this.size,4);t.uniform4fv(this.addr,n)}function G6(t,e){const n=Nf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function H6(t,e){const n=Nf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function z6(t,e){const n=Nf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function V6(t,e){t.uniform1iv(this.addr,e)}function W6(t,e){t.uniform2iv(this.addr,e)}function X6(t,e){t.uniform3iv(this.addr,e)}function j6(t,e){t.uniform4iv(this.addr,e)}function J6(t,e){t.uniform1uiv(this.addr,e)}function $6(t,e){t.uniform2uiv(this.addr,e)}function K6(t,e){t.uniform3uiv(this.addr,e)}function Y6(t,e){t.uniform4uiv(this.addr,e)}function Q6(t,e,n){const r=this.cache,i=e.length,s=qv(n,i);rr(r,s)||(t.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||xO,s[o])}function Z6(t,e,n){const r=this.cache,i=e.length,s=qv(n,i);rr(r,s)||(t.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||SO,s[o])}function q6(t,e,n){const r=this.cache,i=e.length,s=qv(n,i);rr(r,s)||(t.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||wO,s[o])}function eW(t,e,n){const r=this.cache,i=e.length,s=qv(n,i);rr(r,s)||(t.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||AO,s[o])}function tW(t){switch(t){case 5126:return O6;case 35664:return N6;case 35665:return U6;case 35666:return k6;case 35674:return G6;case 35675:return H6;case 35676:return z6;case 5124:case 35670:return V6;case 35667:case 35671:return W6;case 35668:case 35672:return X6;case 35669:case 35673:return j6;case 5125:return J6;case 36294:return $6;case 36295:return K6;case 36296:return Y6;case 35678:case 36198:case 36298:case 36306:case 35682:return Q6;case 35679:case 36299:case 36307:return Z6;case 35680:case 36300:case 36308:case 36293:return q6;case 36289:case 36303:case 36311:case 36292:return eW}}class nW{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=F6(n.type)}}class rW{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=tW(n.type)}}class iW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const V_=/(\w+)(\])?(\[|\.)?/g;function ZR(t,e){t.seq.push(e),t.map[e.id]=e}function sW(t,e,n){const r=t.name,i=r.length;for(V_.lastIndex=0;;){const s=V_.exec(r),o=V_.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){ZR(n,u===void 0?new nW(a,t,e):new rW(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new iW(a),ZR(n,d)),n=d}}}class b0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);sW(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function qR(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const oW=37297;let aW=0;function lW(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function uW(t){const e=sn.getPrimaries(sn.workingColorSpace),n=sn.getPrimaries(t);let r;switch(e===n?r="":e===Yd&&n===Kd?r="LinearDisplayP3ToLinearSRGB":e===Kd&&n===Yd&&(r="LinearSRGBToLinearDisplayP3"),t){case Go:case _p:return[r,"LinearTransferOETF"];case Ki:case Qv:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function e2(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+lW(t.getShaderSource(e),o)}else return i}function cW(t,e){const n=uW(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function fW(t,e){let n;switch(e){case NF:n="Linear";break;case UF:n="Reinhard";break;case kF:n="OptimizedCineon";break;case cE:n="ACESFilmic";break;case HF:n="AgX";break;case zF:n="Neutral";break;case GF:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function hW(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jc).join(`
`)}function dW(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(jc).join(`
`)}function pW(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function mW(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function jc(t){return t!==""}function t2(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function n2(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gW=/^[ \t]*#include +<([\w\d./]+)>/gm;function MS(t){return t.replace(gW,yW)}const vW=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function yW(t,e){let n=Ot[e];if(n===void 0){const r=vW.get(e);if(r!==void 0)n=Ot[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return MS(n)}const xW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function r2(t){return t.replace(xW,_W)}function _W(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function i2(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function AW(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===jv?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===md?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===vs&&(e="SHADOWMAP_TYPE_VSM"),e}function SW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case qs:case Ha:e="ENVMAP_TYPE_CUBE";break;case Lf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function wW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ha:e="ENVMAP_MODE_REFRACTION";break}return e}function EW(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case xp:e="ENVMAP_BLENDING_MULTIPLY";break;case FF:e="ENVMAP_BLENDING_MIX";break;case OF:e="ENVMAP_BLENDING_ADD";break}return e}function MW(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function bW(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=AW(n),u=SW(n),f=wW(n),d=EW(n),p=MW(n),m=n.isWebGL2?"":hW(n),v=dW(n),_=pW(s),y=i.createProgram();let g,S,A=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(jc).join(`
`),g.length>0&&(g+=`
`),S=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(jc).join(`
`),S.length>0&&(S+=`
`)):(g=[i2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jc).join(`
`),S=[m,i2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==js?"#define TONE_MAPPING":"",n.toneMapping!==js?Ot.tonemapping_pars_fragment:"",n.toneMapping!==js?fW("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ot.colorspace_pars_fragment,cW("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(jc).join(`
`)),o=MS(o),o=t2(o,n),o=n2(o,n),a=MS(a),a=t2(a,n),a=n2(a,n),o=r2(o),a=r2(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,S=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===SS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===SS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const E=A+g+o,T=A+S+a,C=qR(i,i.VERTEX_SHADER,E),P=qR(i,i.FRAGMENT_SHADER,T);i.attachShader(y,C),i.attachShader(y,P),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function L(q){if(t.debug.checkShaderErrors){const se=i.getProgramInfoLog(y).trim(),X=i.getShaderInfoLog(C).trim(),re=i.getShaderInfoLog(P).trim();let ne=!0,he=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(ne=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,C,P);else{const H=e2(i,C,"vertex"),Z=e2(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+se+`
`+H+`
`+Z)}else se!==""?console.warn("THREE.WebGLProgram: Program Info Log:",se):(X===""||re==="")&&(he=!1);he&&(q.diagnostics={runnable:ne,programLog:se,vertexShader:{log:X,prefix:g},fragmentShader:{log:re,prefix:S}})}i.deleteShader(C),i.deleteShader(P),N=new b0(i,y),b=mW(i,y)}let N;this.getUniforms=function(){return N===void 0&&L(this),N};let b;this.getAttributes=function(){return b===void 0&&L(this),b};let B=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=i.getProgramParameter(y,oW)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=aW++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=P,this}let CW=0;class TW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new RW(e),n.set(e,r)),r}}class RW{constructor(e){this.id=CW++,this.code=e,this.usedTimes=0}}function PW(t,e,n,r,i,s,o){const a=new tu,l=new TW,u=new Set,f=[],d=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(b){return u.add(b),b===0?"uv":`uv${b}`}function g(b,B,q,se,X){const re=se.fog,ne=X.geometry,he=b.isMeshStandardMaterial?se.environment:null,H=(b.isMeshStandardMaterial?n:e).get(b.envMap||he),Z=H&&H.mapping===Lf?H.image.height:null,Y=_[b.type];b.precision!==null&&(v=i.getMaxPrecision(b.precision),v!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",v,"instead."));const ae=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,ge=ae!==void 0?ae.length:0;let Oe=0;ne.morphAttributes.position!==void 0&&(Oe=1),ne.morphAttributes.normal!==void 0&&(Oe=2),ne.morphAttributes.color!==void 0&&(Oe=3);let oe,Se,we,We;if(Y){const tn=_s[Y];oe=tn.vertexShader,Se=tn.fragmentShader}else oe=b.vertexShader,Se=b.fragmentShader,l.update(b),we=l.getVertexShaderID(b),We=l.getFragmentShaderID(b);const Ye=t.getRenderTarget(),et=X.isInstancedMesh===!0,Et=X.isBatchedMesh===!0,tt=!!b.map,$=!!b.matcap,Ce=!!H,_e=!!b.aoMap,Ie=!!b.lightMap,Ee=!!b.bumpMap,Qe=!!b.normalMap,Je=!!b.displacementMap,ot=!!b.emissiveMap,bt=!!b.metalnessMap,V=!!b.roughnessMap,F=b.anisotropy>0,pe=b.clearcoat>0,xe=b.iridescence>0,Re=b.sheen>0,be=b.transmission>0,St=F&&!!b.anisotropyMap,mt=pe&&!!b.clearcoatMap,De=pe&&!!b.clearcoatNormalMap,ze=pe&&!!b.clearcoatRoughnessMap,wt=xe&&!!b.iridescenceMap,Fe=xe&&!!b.iridescenceThicknessMap,ln=Re&&!!b.sheenColorMap,pt=Re&&!!b.sheenRoughnessMap,ht=!!b.specularMap,it=!!b.specularColorMap,Ke=!!b.specularIntensityMap,gt=be&&!!b.transmissionMap,Ct=be&&!!b.thicknessMap,Pe=!!b.gradientMap,ee=!!b.alphaMap,Ve=b.alphaTest>0,ce=!!b.alphaHash,Ne=!!b.extensions;let Xe=js;b.toneMapped&&(Ye===null||Ye.isXRRenderTarget===!0)&&(Xe=t.toneMapping);const Nt={isWebGL2:d,shaderID:Y,shaderType:b.type,shaderName:b.name,vertexShader:oe,fragmentShader:Se,defines:b.defines,customVertexShaderID:we,customFragmentShaderID:We,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:v,batching:Et,instancing:et,instancingColor:et&&X.instanceColor!==null,instancingMorph:et&&X.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:Ye===null?t.outputColorSpace:Ye.isXRRenderTarget===!0?Ye.texture.colorSpace:Go,alphaToCoverage:!!b.alphaToCoverage,map:tt,matcap:$,envMap:Ce,envMapMode:Ce&&H.mapping,envMapCubeUVHeight:Z,aoMap:_e,lightMap:Ie,bumpMap:Ee,normalMap:Qe,displacementMap:m&&Je,emissiveMap:ot,normalMapObjectSpace:Qe&&b.normalMapType===rO,normalMapTangentSpace:Qe&&b.normalMapType===el,metalnessMap:bt,roughnessMap:V,anisotropy:F,anisotropyMap:St,clearcoat:pe,clearcoatMap:mt,clearcoatNormalMap:De,clearcoatRoughnessMap:ze,iridescence:xe,iridescenceMap:wt,iridescenceThicknessMap:Fe,sheen:Re,sheenColorMap:ln,sheenRoughnessMap:pt,specularMap:ht,specularColorMap:it,specularIntensityMap:Ke,transmission:be,transmissionMap:gt,thicknessMap:Ct,gradientMap:Pe,opaque:b.transparent===!1&&b.blending===ql&&b.alphaToCoverage===!1,alphaMap:ee,alphaTest:Ve,alphaHash:ce,combine:b.combine,mapUv:tt&&y(b.map.channel),aoMapUv:_e&&y(b.aoMap.channel),lightMapUv:Ie&&y(b.lightMap.channel),bumpMapUv:Ee&&y(b.bumpMap.channel),normalMapUv:Qe&&y(b.normalMap.channel),displacementMapUv:Je&&y(b.displacementMap.channel),emissiveMapUv:ot&&y(b.emissiveMap.channel),metalnessMapUv:bt&&y(b.metalnessMap.channel),roughnessMapUv:V&&y(b.roughnessMap.channel),anisotropyMapUv:St&&y(b.anisotropyMap.channel),clearcoatMapUv:mt&&y(b.clearcoatMap.channel),clearcoatNormalMapUv:De&&y(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ze&&y(b.clearcoatRoughnessMap.channel),iridescenceMapUv:wt&&y(b.iridescenceMap.channel),iridescenceThicknessMapUv:Fe&&y(b.iridescenceThicknessMap.channel),sheenColorMapUv:ln&&y(b.sheenColorMap.channel),sheenRoughnessMapUv:pt&&y(b.sheenRoughnessMap.channel),specularMapUv:ht&&y(b.specularMap.channel),specularColorMapUv:it&&y(b.specularColorMap.channel),specularIntensityMapUv:Ke&&y(b.specularIntensityMap.channel),transmissionMapUv:gt&&y(b.transmissionMap.channel),thicknessMapUv:Ct&&y(b.thicknessMap.channel),alphaMapUv:ee&&y(b.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(Qe||F),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!ne.attributes.uv&&(tt||ee),fog:!!re,useFog:b.fog===!0,fogExp2:!!re&&re.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:X.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:ge,morphTextureStride:Oe,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:t.shadowMap.enabled&&q.length>0,shadowMapType:t.shadowMap.type,toneMapping:Xe,useLegacyLights:t._useLegacyLights,decodeVideoTexture:tt&&b.map.isVideoTexture===!0&&sn.getTransfer(b.map.colorSpace)===hn,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Zi,flipSided:b.side===Kr,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Ne&&b.extensions.derivatives===!0,extensionFragDepth:Ne&&b.extensions.fragDepth===!0,extensionDrawBuffers:Ne&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ne&&b.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Ne&&b.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Ne&&b.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return Nt.vertexUv1s=u.has(1),Nt.vertexUv2s=u.has(2),Nt.vertexUv3s=u.has(3),u.clear(),Nt}function S(b){const B=[];if(b.shaderID?B.push(b.shaderID):(B.push(b.customVertexShaderID),B.push(b.customFragmentShaderID)),b.defines!==void 0)for(const q in b.defines)B.push(q),B.push(b.defines[q]);return b.isRawShaderMaterial===!1&&(A(B,b),E(B,b),B.push(t.outputColorSpace)),B.push(b.customProgramCacheKey),B.join()}function A(b,B){b.push(B.precision),b.push(B.outputColorSpace),b.push(B.envMapMode),b.push(B.envMapCubeUVHeight),b.push(B.mapUv),b.push(B.alphaMapUv),b.push(B.lightMapUv),b.push(B.aoMapUv),b.push(B.bumpMapUv),b.push(B.normalMapUv),b.push(B.displacementMapUv),b.push(B.emissiveMapUv),b.push(B.metalnessMapUv),b.push(B.roughnessMapUv),b.push(B.anisotropyMapUv),b.push(B.clearcoatMapUv),b.push(B.clearcoatNormalMapUv),b.push(B.clearcoatRoughnessMapUv),b.push(B.iridescenceMapUv),b.push(B.iridescenceThicknessMapUv),b.push(B.sheenColorMapUv),b.push(B.sheenRoughnessMapUv),b.push(B.specularMapUv),b.push(B.specularColorMapUv),b.push(B.specularIntensityMapUv),b.push(B.transmissionMapUv),b.push(B.thicknessMapUv),b.push(B.combine),b.push(B.fogExp2),b.push(B.sizeAttenuation),b.push(B.morphTargetsCount),b.push(B.morphAttributeCount),b.push(B.numDirLights),b.push(B.numPointLights),b.push(B.numSpotLights),b.push(B.numSpotLightMaps),b.push(B.numHemiLights),b.push(B.numRectAreaLights),b.push(B.numDirLightShadows),b.push(B.numPointLightShadows),b.push(B.numSpotLightShadows),b.push(B.numSpotLightShadowsWithMaps),b.push(B.numLightProbes),b.push(B.shadowMapType),b.push(B.toneMapping),b.push(B.numClippingPlanes),b.push(B.numClipIntersection),b.push(B.depthPacking)}function E(b,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.instancingMorph&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.normalMapObjectSpace&&a.enable(7),B.normalMapTangentSpace&&a.enable(8),B.clearcoat&&a.enable(9),B.iridescence&&a.enable(10),B.alphaTest&&a.enable(11),B.vertexColors&&a.enable(12),B.vertexAlphas&&a.enable(13),B.vertexUv1s&&a.enable(14),B.vertexUv2s&&a.enable(15),B.vertexUv3s&&a.enable(16),B.vertexTangents&&a.enable(17),B.anisotropy&&a.enable(18),B.alphaHash&&a.enable(19),B.batching&&a.enable(20),b.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),B.alphaToCoverage&&a.enable(20),b.push(a.mask)}function T(b){const B=_[b.type];let q;if(B){const se=_s[B];q=bE.clone(se.uniforms)}else q=b.uniforms;return q}function C(b,B){let q;for(let se=0,X=f.length;se<X;se++){const re=f[se];if(re.cacheKey===B){q=re,++q.usedTimes;break}}return q===void 0&&(q=new bW(t,B,b,s),f.push(q)),q}function P(b){if(--b.usedTimes===0){const B=f.indexOf(b);f[B]=f[f.length-1],f.pop(),b.destroy()}}function L(b){l.remove(b)}function N(){l.dispose()}return{getParameters:g,getProgramCacheKey:S,getUniforms:T,acquireProgram:C,releaseProgram:P,releaseShaderCache:L,programs:f,dispose:N}}function BW(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function IW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function s2(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function o2(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,m,v,_,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:_,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=_,g.group=y),e++,g}function a(d,p,m,v,_,y){const g=o(d,p,m,v,_,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(d,p,m,v,_,y){const g=o(d,p,m,v,_,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(d,p){n.length>1&&n.sort(d||IW),r.length>1&&r.sort(p||s2),i.length>1&&i.sort(p||s2)}function f(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function LW(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new o2,t.set(r,[o])):i>=s.length?(o=new o2,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function DW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new He};break;case"SpotLight":n={position:new G,direction:new G,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new He,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new He,groundColor:new He};break;case"RectAreaLight":n={color:new He,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function FW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let OW=0;function NW(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function UW(t,e){const n=new DW,r=FW(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new G);const s=new G,o=new ct,a=new ct;function l(f,d){let p=0,m=0,v=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let _=0,y=0,g=0,S=0,A=0,E=0,T=0,C=0,P=0,L=0,N=0;f.sort(NW);const b=d===!0?Math.PI:1;for(let q=0,se=f.length;q<se;q++){const X=f[q],re=X.color,ne=X.intensity,he=X.distance,H=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)p+=re.r*ne*b,m+=re.g*ne*b,v+=re.b*ne*b;else if(X.isLightProbe){for(let Z=0;Z<9;Z++)i.probe[Z].addScaledVector(X.sh.coefficients[Z],ne);N++}else if(X.isDirectionalLight){const Z=n.get(X);if(Z.color.copy(X.color).multiplyScalar(X.intensity*b),X.castShadow){const Y=X.shadow,ae=r.get(X);ae.shadowBias=Y.bias,ae.shadowNormalBias=Y.normalBias,ae.shadowRadius=Y.radius,ae.shadowMapSize=Y.mapSize,i.directionalShadow[_]=ae,i.directionalShadowMap[_]=H,i.directionalShadowMatrix[_]=X.shadow.matrix,E++}i.directional[_]=Z,_++}else if(X.isSpotLight){const Z=n.get(X);Z.position.setFromMatrixPosition(X.matrixWorld),Z.color.copy(re).multiplyScalar(ne*b),Z.distance=he,Z.coneCos=Math.cos(X.angle),Z.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),Z.decay=X.decay,i.spot[g]=Z;const Y=X.shadow;if(X.map&&(i.spotLightMap[P]=X.map,P++,Y.updateMatrices(X),X.castShadow&&L++),i.spotLightMatrix[g]=Y.matrix,X.castShadow){const ae=r.get(X);ae.shadowBias=Y.bias,ae.shadowNormalBias=Y.normalBias,ae.shadowRadius=Y.radius,ae.shadowMapSize=Y.mapSize,i.spotShadow[g]=ae,i.spotShadowMap[g]=H,C++}g++}else if(X.isRectAreaLight){const Z=n.get(X);Z.color.copy(re).multiplyScalar(ne),Z.halfWidth.set(X.width*.5,0,0),Z.halfHeight.set(0,X.height*.5,0),i.rectArea[S]=Z,S++}else if(X.isPointLight){const Z=n.get(X);if(Z.color.copy(X.color).multiplyScalar(X.intensity*b),Z.distance=X.distance,Z.decay=X.decay,X.castShadow){const Y=X.shadow,ae=r.get(X);ae.shadowBias=Y.bias,ae.shadowNormalBias=Y.normalBias,ae.shadowRadius=Y.radius,ae.shadowMapSize=Y.mapSize,ae.shadowCameraNear=Y.camera.near,ae.shadowCameraFar=Y.camera.far,i.pointShadow[y]=ae,i.pointShadowMap[y]=H,i.pointShadowMatrix[y]=X.shadow.matrix,T++}i.point[y]=Z,y++}else if(X.isHemisphereLight){const Z=n.get(X);Z.skyColor.copy(X.color).multiplyScalar(ne*b),Z.groundColor.copy(X.groundColor).multiplyScalar(ne*b),i.hemi[A]=Z,A++}}S>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ke.LTC_FLOAT_1,i.rectAreaLTC2=ke.LTC_FLOAT_2):(i.rectAreaLTC1=ke.LTC_HALF_1,i.rectAreaLTC2=ke.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ke.LTC_FLOAT_1,i.rectAreaLTC2=ke.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ke.LTC_HALF_1,i.rectAreaLTC2=ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const B=i.hash;(B.directionalLength!==_||B.pointLength!==y||B.spotLength!==g||B.rectAreaLength!==S||B.hemiLength!==A||B.numDirectionalShadows!==E||B.numPointShadows!==T||B.numSpotShadows!==C||B.numSpotMaps!==P||B.numLightProbes!==N)&&(i.directional.length=_,i.spot.length=g,i.rectArea.length=S,i.point.length=y,i.hemi.length=A,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=C+P-L,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=N,B.directionalLength=_,B.pointLength=y,B.spotLength=g,B.rectAreaLength=S,B.hemiLength=A,B.numDirectionalShadows=E,B.numPointShadows=T,B.numSpotShadows=C,B.numSpotMaps=P,B.numLightProbes=N,i.version=OW++)}function u(f,d){let p=0,m=0,v=0,_=0,y=0;const g=d.matrixWorldInverse;for(let S=0,A=f.length;S<A;S++){const E=f[S];if(E.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(E.isSpotLight){const T=i.spot[v];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(E.isRectAreaLight){const T=i.rectArea[_];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),_++}else if(E.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const T=i.hemi[y];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(g),y++}}}return{setup:l,setupView:u,state:i}}function a2(t,e){const n=new UW(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function u(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function kW(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new a2(t,e),n.set(s,[l])):o>=a.length?(l=new a2(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class PE extends Kn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=tO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class BE extends Kn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const GW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,HW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zW(t,e,n){let r=new wp;const i=new Ae,s=new Ae,o=new Kt,a=new PE({depthPacking:nO}),l=new BE,u={},f=n.maxTextureSize,d={[Zs]:Kr,[Kr]:Zs,[Zi]:Zi},p=new Ti({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:GW,fragmentShader:HW}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Rt;v.setAttribute("position",new Qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Bn(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jv;let g=this.type;this.render=function(C,P,L){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;const N=t.getRenderTarget(),b=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),q=t.state;q.setBlending(Ro),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const se=g!==vs&&this.type===vs,X=g===vs&&this.type!==vs;for(let re=0,ne=C.length;re<ne;re++){const he=C[re],H=he.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const Z=H.getFrameExtents();if(i.multiply(Z),s.copy(H.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/Z.x),i.x=s.x*Z.x,H.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/Z.y),i.y=s.y*Z.y,H.mapSize.y=s.y)),H.map===null||se===!0||X===!0){const ae=this.type!==vs?{minFilter:En,magFilter:En}:{};H.map!==null&&H.map.dispose(),H.map=new Ci(i.x,i.y,ae),H.map.texture.name=he.name+".shadowMap",H.camera.updateProjectionMatrix()}t.setRenderTarget(H.map),t.clear();const Y=H.getViewportCount();for(let ae=0;ae<Y;ae++){const ge=H.getViewport(ae);o.set(s.x*ge.x,s.y*ge.y,s.x*ge.z,s.y*ge.w),q.viewport(o),H.updateMatrices(he,ae),r=H.getFrustum(),E(P,L,H.camera,he,this.type)}H.isPointLightShadow!==!0&&this.type===vs&&S(H,L),H.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(N,b,B)};function S(C,P){const L=e.update(_);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ci(i.x,i.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(P,null,L,p,_,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(P,null,L,m,_,null)}function A(C,P,L,N){let b=null;const B=L.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(B!==void 0)b=B;else if(b=L.isPointLight===!0?l:a,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const q=b.uuid,se=P.uuid;let X=u[q];X===void 0&&(X={},u[q]=X);let re=X[se];re===void 0&&(re=b.clone(),X[se]=re,P.addEventListener("dispose",T)),b=re}if(b.visible=P.visible,b.wireframe=P.wireframe,N===vs?b.side=P.shadowSide!==null?P.shadowSide:P.side:b.side=P.shadowSide!==null?P.shadowSide:d[P.side],b.alphaMap=P.alphaMap,b.alphaTest=P.alphaTest,b.map=P.map,b.clipShadows=P.clipShadows,b.clippingPlanes=P.clippingPlanes,b.clipIntersection=P.clipIntersection,b.displacementMap=P.displacementMap,b.displacementScale=P.displacementScale,b.displacementBias=P.displacementBias,b.wireframeLinewidth=P.wireframeLinewidth,b.linewidth=P.linewidth,L.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const q=t.properties.get(b);q.light=L}return b}function E(C,P,L,N,b){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&b===vs)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,C.matrixWorld);const se=e.update(C),X=C.material;if(Array.isArray(X)){const re=se.groups;for(let ne=0,he=re.length;ne<he;ne++){const H=re[ne],Z=X[H.materialIndex];if(Z&&Z.visible){const Y=A(C,Z,N,b);C.onBeforeShadow(t,C,P,L,se,Y,H),t.renderBufferDirect(L,null,se,Y,C,H),C.onAfterShadow(t,C,P,L,se,Y,H)}}}else if(X.visible){const re=A(C,X,N,b);C.onBeforeShadow(t,C,P,L,se,re,null),t.renderBufferDirect(L,null,se,re,C,null),C.onAfterShadow(t,C,P,L,se,re,null)}}const q=C.children;for(let se=0,X=q.length;se<X;se++)E(q[se],P,L,N,b)}function T(C){C.target.removeEventListener("dispose",T);for(const L in u){const N=u[L],b=C.target.uuid;b in N&&(N[b].dispose(),delete N[b])}}}function VW(t,e,n){const r=n.isWebGL2;function i(){let ee=!1;const Ve=new Kt;let ce=null;const Ne=new Kt(0,0,0,0);return{setMask:function(Xe){ce!==Xe&&!ee&&(t.colorMask(Xe,Xe,Xe,Xe),ce=Xe)},setLocked:function(Xe){ee=Xe},setClear:function(Xe,Nt,tn,Dn,dr){dr===!0&&(Xe*=Dn,Nt*=Dn,tn*=Dn),Ve.set(Xe,Nt,tn,Dn),Ne.equals(Ve)===!1&&(t.clearColor(Xe,Nt,tn,Dn),Ne.copy(Ve))},reset:function(){ee=!1,ce=null,Ne.set(-1,0,0,0)}}}function s(){let ee=!1,Ve=null,ce=null,Ne=null;return{setTest:function(Xe){Xe?et(t.DEPTH_TEST):Et(t.DEPTH_TEST)},setMask:function(Xe){Ve!==Xe&&!ee&&(t.depthMask(Xe),Ve=Xe)},setFunc:function(Xe){if(ce!==Xe){switch(Xe){case TF:t.depthFunc(t.NEVER);break;case RF:t.depthFunc(t.ALWAYS);break;case PF:t.depthFunc(t.LESS);break;case Wd:t.depthFunc(t.LEQUAL);break;case BF:t.depthFunc(t.EQUAL);break;case IF:t.depthFunc(t.GEQUAL);break;case LF:t.depthFunc(t.GREATER);break;case DF:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ce=Xe}},setLocked:function(Xe){ee=Xe},setClear:function(Xe){Ne!==Xe&&(t.clearDepth(Xe),Ne=Xe)},reset:function(){ee=!1,Ve=null,ce=null,Ne=null}}}function o(){let ee=!1,Ve=null,ce=null,Ne=null,Xe=null,Nt=null,tn=null,Dn=null,dr=null;return{setTest:function(nn){ee||(nn?et(t.STENCIL_TEST):Et(t.STENCIL_TEST))},setMask:function(nn){Ve!==nn&&!ee&&(t.stencilMask(nn),Ve=nn)},setFunc:function(nn,Yn,Zr){(ce!==nn||Ne!==Yn||Xe!==Zr)&&(t.stencilFunc(nn,Yn,Zr),ce=nn,Ne=Yn,Xe=Zr)},setOp:function(nn,Yn,Zr){(Nt!==nn||tn!==Yn||Dn!==Zr)&&(t.stencilOp(nn,Yn,Zr),Nt=nn,tn=Yn,Dn=Zr)},setLocked:function(nn){ee=nn},setClear:function(nn){dr!==nn&&(t.clearStencil(nn),dr=nn)},reset:function(){ee=!1,Ve=null,ce=null,Ne=null,Xe=null,Nt=null,tn=null,Dn=null,dr=null}}}const a=new i,l=new s,u=new o,f=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,_=[],y=null,g=!1,S=null,A=null,E=null,T=null,C=null,P=null,L=null,N=new He(0,0,0),b=0,B=!1,q=null,se=null,X=null,re=null,ne=null;const he=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,Z=0;const Y=t.getParameter(t.VERSION);Y.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Y)[1]),H=Z>=1):Y.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),H=Z>=2);let ae=null,ge={};const Oe=t.getParameter(t.SCISSOR_BOX),oe=t.getParameter(t.VIEWPORT),Se=new Kt().fromArray(Oe),we=new Kt().fromArray(oe);function We(ee,Ve,ce,Ne){const Xe=new Uint8Array(4),Nt=t.createTexture();t.bindTexture(ee,Nt),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let tn=0;tn<ce;tn++)r&&(ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ve,0,t.RGBA,1,1,Ne,0,t.RGBA,t.UNSIGNED_BYTE,Xe):t.texImage2D(Ve+tn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Xe);return Nt}const Ye={};Ye[t.TEXTURE_2D]=We(t.TEXTURE_2D,t.TEXTURE_2D,1),Ye[t.TEXTURE_CUBE_MAP]=We(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ye[t.TEXTURE_2D_ARRAY]=We(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ye[t.TEXTURE_3D]=We(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),et(t.DEPTH_TEST),l.setFunc(Wd),Je(!1),ot(VA),et(t.CULL_FACE),Ee(Ro);function et(ee){p[ee]!==!0&&(t.enable(ee),p[ee]=!0)}function Et(ee){p[ee]!==!1&&(t.disable(ee),p[ee]=!1)}function tt(ee,Ve){return m[ee]!==Ve?(t.bindFramebuffer(ee,Ve),m[ee]=Ve,r&&(ee===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Ve),ee===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Ve)),!0):!1}function $(ee,Ve){let ce=_,Ne=!1;if(ee){ce=v.get(Ve),ce===void 0&&(ce=[],v.set(Ve,ce));const Xe=ee.textures;if(ce.length!==Xe.length||ce[0]!==t.COLOR_ATTACHMENT0){for(let Nt=0,tn=Xe.length;Nt<tn;Nt++)ce[Nt]=t.COLOR_ATTACHMENT0+Nt;ce.length=Xe.length,Ne=!0}}else ce[0]!==t.BACK&&(ce[0]=t.BACK,Ne=!0);if(Ne)if(n.isWebGL2)t.drawBuffers(ce);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ce);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function Ce(ee){return y!==ee?(t.useProgram(ee),y=ee,!0):!1}const _e={[_a]:t.FUNC_ADD,[dF]:t.FUNC_SUBTRACT,[pF]:t.FUNC_REVERSE_SUBTRACT};if(r)_e[JA]=t.MIN,_e[$A]=t.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(_e[JA]=ee.MIN_EXT,_e[$A]=ee.MAX_EXT)}const Ie={[mF]:t.ZERO,[gF]:t.ONE,[vF]:t.SRC_COLOR,[nv]:t.SRC_ALPHA,[wF]:t.SRC_ALPHA_SATURATE,[AF]:t.DST_COLOR,[xF]:t.DST_ALPHA,[yF]:t.ONE_MINUS_SRC_COLOR,[rv]:t.ONE_MINUS_SRC_ALPHA,[SF]:t.ONE_MINUS_DST_COLOR,[_F]:t.ONE_MINUS_DST_ALPHA,[EF]:t.CONSTANT_COLOR,[MF]:t.ONE_MINUS_CONSTANT_COLOR,[bF]:t.CONSTANT_ALPHA,[CF]:t.ONE_MINUS_CONSTANT_ALPHA};function Ee(ee,Ve,ce,Ne,Xe,Nt,tn,Dn,dr,nn){if(ee===Ro){g===!0&&(Et(t.BLEND),g=!1);return}if(g===!1&&(et(t.BLEND),g=!0),ee!==hF){if(ee!==S||nn!==B){if((A!==_a||C!==_a)&&(t.blendEquation(t.FUNC_ADD),A=_a,C=_a),nn)switch(ee){case ql:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case WA:t.blendFunc(t.ONE,t.ONE);break;case XA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case jA:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case ql:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case WA:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case XA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case jA:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}E=null,T=null,P=null,L=null,N.set(0,0,0),b=0,S=ee,B=nn}return}Xe=Xe||Ve,Nt=Nt||ce,tn=tn||Ne,(Ve!==A||Xe!==C)&&(t.blendEquationSeparate(_e[Ve],_e[Xe]),A=Ve,C=Xe),(ce!==E||Ne!==T||Nt!==P||tn!==L)&&(t.blendFuncSeparate(Ie[ce],Ie[Ne],Ie[Nt],Ie[tn]),E=ce,T=Ne,P=Nt,L=tn),(Dn.equals(N)===!1||dr!==b)&&(t.blendColor(Dn.r,Dn.g,Dn.b,dr),N.copy(Dn),b=dr),S=ee,B=!1}function Qe(ee,Ve){ee.side===Zi?Et(t.CULL_FACE):et(t.CULL_FACE);let ce=ee.side===Kr;Ve&&(ce=!ce),Je(ce),ee.blending===ql&&ee.transparent===!1?Ee(Ro):Ee(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.blendColor,ee.blendAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const Ne=ee.stencilWrite;u.setTest(Ne),Ne&&(u.setMask(ee.stencilWriteMask),u.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),u.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),V(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?et(t.SAMPLE_ALPHA_TO_COVERAGE):Et(t.SAMPLE_ALPHA_TO_COVERAGE)}function Je(ee){q!==ee&&(ee?t.frontFace(t.CW):t.frontFace(t.CCW),q=ee)}function ot(ee){ee!==uF?(et(t.CULL_FACE),ee!==se&&(ee===VA?t.cullFace(t.BACK):ee===cF?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Et(t.CULL_FACE),se=ee}function bt(ee){ee!==X&&(H&&t.lineWidth(ee),X=ee)}function V(ee,Ve,ce){ee?(et(t.POLYGON_OFFSET_FILL),(re!==Ve||ne!==ce)&&(t.polygonOffset(Ve,ce),re=Ve,ne=ce)):Et(t.POLYGON_OFFSET_FILL)}function F(ee){ee?et(t.SCISSOR_TEST):Et(t.SCISSOR_TEST)}function pe(ee){ee===void 0&&(ee=t.TEXTURE0+he-1),ae!==ee&&(t.activeTexture(ee),ae=ee)}function xe(ee,Ve,ce){ce===void 0&&(ae===null?ce=t.TEXTURE0+he-1:ce=ae);let Ne=ge[ce];Ne===void 0&&(Ne={type:void 0,texture:void 0},ge[ce]=Ne),(Ne.type!==ee||Ne.texture!==Ve)&&(ae!==ce&&(t.activeTexture(ce),ae=ce),t.bindTexture(ee,Ve||Ye[ee]),Ne.type=ee,Ne.texture=Ve)}function Re(){const ee=ge[ae];ee!==void 0&&ee.type!==void 0&&(t.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function St(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function mt(){try{t.texSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function De(){try{t.texSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ze(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function wt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Fe(){try{t.texStorage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ln(){try{t.texStorage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function pt(){try{t.texImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ht(){try{t.texImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function it(ee){Se.equals(ee)===!1&&(t.scissor(ee.x,ee.y,ee.z,ee.w),Se.copy(ee))}function Ke(ee){we.equals(ee)===!1&&(t.viewport(ee.x,ee.y,ee.z,ee.w),we.copy(ee))}function gt(ee,Ve){let ce=d.get(Ve);ce===void 0&&(ce=new WeakMap,d.set(Ve,ce));let Ne=ce.get(ee);Ne===void 0&&(Ne=t.getUniformBlockIndex(Ve,ee.name),ce.set(ee,Ne))}function Ct(ee,Ve){const Ne=d.get(Ve).get(ee);f.get(Ve)!==Ne&&(t.uniformBlockBinding(Ve,Ne,ee.__bindingPointIndex),f.set(Ve,Ne))}function Pe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},ae=null,ge={},m={},v=new WeakMap,_=[],y=null,g=!1,S=null,A=null,E=null,T=null,C=null,P=null,L=null,N=new He(0,0,0),b=0,B=!1,q=null,se=null,X=null,re=null,ne=null,Se.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:et,disable:Et,bindFramebuffer:tt,drawBuffers:$,useProgram:Ce,setBlending:Ee,setMaterial:Qe,setFlipSided:Je,setCullFace:ot,setLineWidth:bt,setPolygonOffset:V,setScissorTest:F,activeTexture:pe,bindTexture:xe,unbindTexture:Re,compressedTexImage2D:be,compressedTexImage3D:St,texImage2D:pt,texImage3D:ht,updateUBOMapping:gt,uniformBlockBinding:Ct,texStorage2D:Fe,texStorage3D:ln,texSubImage2D:mt,texSubImage3D:De,compressedTexSubImage2D:ze,compressedTexSubImage3D:wt,scissor:it,viewport:Ke,reset:Pe}}function WW(t,e,n,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new Ae,d=new WeakMap;let p;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(V,F){return v?new OffscreenCanvas(V,F):qd("canvas")}function y(V,F,pe,xe){let Re=1;const be=bt(V);if((be.width>xe||be.height>xe)&&(Re=xe/Math.max(be.width,be.height)),Re<1||F===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap||typeof VideoFrame<"u"&&V instanceof VideoFrame){const St=F?ov:Math.floor,mt=St(Re*be.width),De=St(Re*be.height);p===void 0&&(p=_(mt,De));const ze=pe?_(mt,De):p;return ze.width=mt,ze.height=De,ze.getContext("2d").drawImage(V,0,0,mt,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+be.width+"x"+be.height+") to ("+mt+"x"+De+")."),ze}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+be.width+"x"+be.height+")."),V;return V}function g(V){const F=bt(V);return wS(F.width)&&wS(F.height)}function S(V){return a?!1:V.wrapS!==vr||V.wrapT!==vr||V.minFilter!==En&&V.minFilter!==on}function A(V,F){return V.generateMipmaps&&F&&V.minFilter!==En&&V.minFilter!==on}function E(V){t.generateMipmap(V)}function T(V,F,pe,xe,Re=!1){if(a===!1)return F;if(V!==null){if(t[V]!==void 0)return t[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let be=F;if(F===t.RED&&(pe===t.FLOAT&&(be=t.R32F),pe===t.HALF_FLOAT&&(be=t.R16F),pe===t.UNSIGNED_BYTE&&(be=t.R8)),F===t.RED_INTEGER&&(pe===t.UNSIGNED_BYTE&&(be=t.R8UI),pe===t.UNSIGNED_SHORT&&(be=t.R16UI),pe===t.UNSIGNED_INT&&(be=t.R32UI),pe===t.BYTE&&(be=t.R8I),pe===t.SHORT&&(be=t.R16I),pe===t.INT&&(be=t.R32I)),F===t.RG&&(pe===t.FLOAT&&(be=t.RG32F),pe===t.HALF_FLOAT&&(be=t.RG16F),pe===t.UNSIGNED_BYTE&&(be=t.RG8)),F===t.RG_INTEGER&&(pe===t.UNSIGNED_BYTE&&(be=t.RG8UI),pe===t.UNSIGNED_SHORT&&(be=t.RG16UI),pe===t.UNSIGNED_INT&&(be=t.RG32UI),pe===t.BYTE&&(be=t.RG8I),pe===t.SHORT&&(be=t.RG16I),pe===t.INT&&(be=t.RG32I)),F===t.RGBA){const St=Re?$d:sn.getTransfer(xe);pe===t.FLOAT&&(be=t.RGBA32F),pe===t.HALF_FLOAT&&(be=t.RGBA16F),pe===t.UNSIGNED_BYTE&&(be=St===hn?t.SRGB8_ALPHA8:t.RGBA8),pe===t.UNSIGNED_SHORT_4_4_4_4&&(be=t.RGBA4),pe===t.UNSIGNED_SHORT_5_5_5_1&&(be=t.RGB5_A1)}return(be===t.R16F||be===t.R32F||be===t.RG16F||be===t.RG32F||be===t.RGBA16F||be===t.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function C(V,F,pe){return A(V,pe)===!0||V.isFramebufferTexture&&V.minFilter!==En&&V.minFilter!==on?Math.log2(Math.max(F.width,F.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?F.mipmaps.length:1}function P(V){return V===En||V===jd||V===Aa?t.NEAREST:t.LINEAR}function L(V){const F=V.target;F.removeEventListener("dispose",L),b(F),F.isVideoTexture&&d.delete(F)}function N(V){const F=V.target;F.removeEventListener("dispose",N),q(F)}function b(V){const F=r.get(V);if(F.__webglInit===void 0)return;const pe=V.source,xe=m.get(pe);if(xe){const Re=xe[F.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&B(V),Object.keys(xe).length===0&&m.delete(pe)}r.remove(V)}function B(V){const F=r.get(V);t.deleteTexture(F.__webglTexture);const pe=V.source,xe=m.get(pe);delete xe[F.__cacheKey],o.memory.textures--}function q(V){const F=r.get(V);if(V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(F.__webglFramebuffer[xe]))for(let Re=0;Re<F.__webglFramebuffer[xe].length;Re++)t.deleteFramebuffer(F.__webglFramebuffer[xe][Re]);else t.deleteFramebuffer(F.__webglFramebuffer[xe]);F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer[xe])}else{if(Array.isArray(F.__webglFramebuffer))for(let xe=0;xe<F.__webglFramebuffer.length;xe++)t.deleteFramebuffer(F.__webglFramebuffer[xe]);else t.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&t.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let xe=0;xe<F.__webglColorRenderbuffer.length;xe++)F.__webglColorRenderbuffer[xe]&&t.deleteRenderbuffer(F.__webglColorRenderbuffer[xe]);F.__webglDepthRenderbuffer&&t.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const pe=V.textures;for(let xe=0,Re=pe.length;xe<Re;xe++){const be=r.get(pe[xe]);be.__webglTexture&&(t.deleteTexture(be.__webglTexture),o.memory.textures--),r.remove(pe[xe])}r.remove(V)}let se=0;function X(){se=0}function re(){const V=se;return V>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+i.maxTextures),se+=1,V}function ne(V){const F=[];return F.push(V.wrapS),F.push(V.wrapT),F.push(V.wrapR||0),F.push(V.magFilter),F.push(V.minFilter),F.push(V.anisotropy),F.push(V.internalFormat),F.push(V.format),F.push(V.type),F.push(V.generateMipmaps),F.push(V.premultiplyAlpha),F.push(V.flipY),F.push(V.unpackAlignment),F.push(V.colorSpace),F.join()}function he(V,F){const pe=r.get(V);if(V.isVideoTexture&&Je(V),V.isRenderTargetTexture===!1&&V.version>0&&pe.__version!==V.version){const xe=V.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(pe,V,F);return}}n.bindTexture(t.TEXTURE_2D,pe.__webglTexture,t.TEXTURE0+F)}function H(V,F){const pe=r.get(V);if(V.version>0&&pe.__version!==V.version){we(pe,V,F);return}n.bindTexture(t.TEXTURE_2D_ARRAY,pe.__webglTexture,t.TEXTURE0+F)}function Z(V,F){const pe=r.get(V);if(V.version>0&&pe.__version!==V.version){we(pe,V,F);return}n.bindTexture(t.TEXTURE_3D,pe.__webglTexture,t.TEXTURE0+F)}function Y(V,F){const pe=r.get(V);if(V.version>0&&pe.__version!==V.version){We(pe,V,F);return}n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture,t.TEXTURE0+F)}const ae={[za]:t.REPEAT,[vr]:t.CLAMP_TO_EDGE,[xf]:t.MIRRORED_REPEAT},ge={[En]:t.NEAREST,[jd]:t.NEAREST_MIPMAP_NEAREST,[Aa]:t.NEAREST_MIPMAP_LINEAR,[on]:t.LINEAR,[of]:t.LINEAR_MIPMAP_NEAREST,[ns]:t.LINEAR_MIPMAP_LINEAR},Oe={[iO]:t.NEVER,[cO]:t.ALWAYS,[sO]:t.LESS,[_E]:t.LEQUAL,[oO]:t.EQUAL,[uO]:t.GEQUAL,[aO]:t.GREATER,[lO]:t.NOTEQUAL};function oe(V,F,pe){if(F.type===er&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===on||F.magFilter===of||F.magFilter===Aa||F.magFilter===ns||F.minFilter===on||F.minFilter===of||F.minFilter===Aa||F.minFilter===ns)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),pe?(t.texParameteri(V,t.TEXTURE_WRAP_S,ae[F.wrapS]),t.texParameteri(V,t.TEXTURE_WRAP_T,ae[F.wrapT]),(V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY)&&t.texParameteri(V,t.TEXTURE_WRAP_R,ae[F.wrapR]),t.texParameteri(V,t.TEXTURE_MAG_FILTER,ge[F.magFilter]),t.texParameteri(V,t.TEXTURE_MIN_FILTER,ge[F.minFilter])):(t.texParameteri(V,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(V,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY)&&t.texParameteri(V,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(F.wrapS!==vr||F.wrapT!==vr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(V,t.TEXTURE_MAG_FILTER,P(F.magFilter)),t.texParameteri(V,t.TEXTURE_MIN_FILTER,P(F.minFilter)),F.minFilter!==En&&F.minFilter!==on&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(t.texParameteri(V,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(V,t.TEXTURE_COMPARE_FUNC,Oe[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===En||F.minFilter!==Aa&&F.minFilter!==ns||F.type===er&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===Lr&&e.has("OES_texture_half_float_linear")===!1)return;if(F.anisotropy>1||r.get(F).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(V,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy}}}function Se(V,F){let pe=!1;V.__webglInit===void 0&&(V.__webglInit=!0,F.addEventListener("dispose",L));const xe=F.source;let Re=m.get(xe);Re===void 0&&(Re={},m.set(xe,Re));const be=ne(F);if(be!==V.__cacheKey){Re[be]===void 0&&(Re[be]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,pe=!0),Re[be].usedTimes++;const St=Re[V.__cacheKey];St!==void 0&&(Re[V.__cacheKey].usedTimes--,St.usedTimes===0&&B(F)),V.__cacheKey=be,V.__webglTexture=Re[be].texture}return pe}function we(V,F,pe){let xe=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(xe=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(xe=t.TEXTURE_3D);const Re=Se(V,F),be=F.source;n.bindTexture(xe,V.__webglTexture,t.TEXTURE0+pe);const St=r.get(be);if(be.version!==St.__version||Re===!0){n.activeTexture(t.TEXTURE0+pe);const mt=sn.getPrimaries(sn.workingColorSpace),De=F.colorSpace===xo?null:sn.getPrimaries(F.colorSpace),ze=F.colorSpace===xo||mt===De?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const wt=S(F)&&g(F.image)===!1;let Fe=y(F.image,wt,!1,i.maxTextureSize);Fe=ot(F,Fe);const ln=g(Fe)||a,pt=s.convert(F.format,F.colorSpace);let ht=s.convert(F.type),it=T(F.internalFormat,pt,ht,F.colorSpace,F.isVideoTexture);oe(xe,F,ln);let Ke;const gt=F.mipmaps,Ct=a&&F.isVideoTexture!==!0&&it!==vE,Pe=St.__version===void 0||Re===!0,ee=be.dataReady,Ve=C(F,Fe,ln);if(F.isDepthTexture)it=t.DEPTH_COMPONENT,a?F.type===er?it=t.DEPTH_COMPONENT32F:F.type===wo?it=t.DEPTH_COMPONENT24:F.type===Da?it=t.DEPTH24_STENCIL8:it=t.DEPTH_COMPONENT16:F.type===er&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Fa&&it===t.DEPTH_COMPONENT&&F.type!==$v&&F.type!==wo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=wo,ht=s.convert(F.type)),F.format===uu&&it===t.DEPTH_COMPONENT&&(it=t.DEPTH_STENCIL,F.type!==Da&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=Da,ht=s.convert(F.type))),Pe&&(Ct?n.texStorage2D(t.TEXTURE_2D,1,it,Fe.width,Fe.height):n.texImage2D(t.TEXTURE_2D,0,it,Fe.width,Fe.height,0,pt,ht,null));else if(F.isDataTexture)if(gt.length>0&&ln){Ct&&Pe&&n.texStorage2D(t.TEXTURE_2D,Ve,it,gt[0].width,gt[0].height);for(let ce=0,Ne=gt.length;ce<Ne;ce++)Ke=gt[ce],Ct?ee&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,Ke.width,Ke.height,pt,ht,Ke.data):n.texImage2D(t.TEXTURE_2D,ce,it,Ke.width,Ke.height,0,pt,ht,Ke.data);F.generateMipmaps=!1}else Ct?(Pe&&n.texStorage2D(t.TEXTURE_2D,Ve,it,Fe.width,Fe.height),ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Fe.width,Fe.height,pt,ht,Fe.data)):n.texImage2D(t.TEXTURE_2D,0,it,Fe.width,Fe.height,0,pt,ht,Fe.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Ct&&Pe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,it,gt[0].width,gt[0].height,Fe.depth);for(let ce=0,Ne=gt.length;ce<Ne;ce++)Ke=gt[ce],F.format!==Ir?pt!==null?Ct?ee&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,Ke.width,Ke.height,Fe.depth,pt,Ke.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ce,it,Ke.width,Ke.height,Fe.depth,0,Ke.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,Ke.width,Ke.height,Fe.depth,pt,ht,Ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ce,it,Ke.width,Ke.height,Fe.depth,0,pt,ht,Ke.data)}else{Ct&&Pe&&n.texStorage2D(t.TEXTURE_2D,Ve,it,gt[0].width,gt[0].height);for(let ce=0,Ne=gt.length;ce<Ne;ce++)Ke=gt[ce],F.format!==Ir?pt!==null?Ct?ee&&n.compressedTexSubImage2D(t.TEXTURE_2D,ce,0,0,Ke.width,Ke.height,pt,Ke.data):n.compressedTexImage2D(t.TEXTURE_2D,ce,it,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?ee&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,Ke.width,Ke.height,pt,ht,Ke.data):n.texImage2D(t.TEXTURE_2D,ce,it,Ke.width,Ke.height,0,pt,ht,Ke.data)}else if(F.isDataArrayTexture)Ct?(Pe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,it,Fe.width,Fe.height,Fe.depth),ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Fe.width,Fe.height,Fe.depth,pt,ht,Fe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,it,Fe.width,Fe.height,Fe.depth,0,pt,ht,Fe.data);else if(F.isData3DTexture)Ct?(Pe&&n.texStorage3D(t.TEXTURE_3D,Ve,it,Fe.width,Fe.height,Fe.depth),ee&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Fe.width,Fe.height,Fe.depth,pt,ht,Fe.data)):n.texImage3D(t.TEXTURE_3D,0,it,Fe.width,Fe.height,Fe.depth,0,pt,ht,Fe.data);else if(F.isFramebufferTexture){if(Pe)if(Ct)n.texStorage2D(t.TEXTURE_2D,Ve,it,Fe.width,Fe.height);else{let ce=Fe.width,Ne=Fe.height;for(let Xe=0;Xe<Ve;Xe++)n.texImage2D(t.TEXTURE_2D,Xe,it,ce,Ne,0,pt,ht,null),ce>>=1,Ne>>=1}}else if(gt.length>0&&ln){if(Ct&&Pe){const ce=bt(gt[0]);n.texStorage2D(t.TEXTURE_2D,Ve,it,ce.width,ce.height)}for(let ce=0,Ne=gt.length;ce<Ne;ce++)Ke=gt[ce],Ct?ee&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,pt,ht,Ke):n.texImage2D(t.TEXTURE_2D,ce,it,pt,ht,Ke);F.generateMipmaps=!1}else if(Ct){if(Pe){const ce=bt(Fe);n.texStorage2D(t.TEXTURE_2D,Ve,it,ce.width,ce.height)}ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,pt,ht,Fe)}else n.texImage2D(t.TEXTURE_2D,0,it,pt,ht,Fe);A(F,ln)&&E(xe),St.__version=be.version,F.onUpdate&&F.onUpdate(F)}V.__version=F.version}function We(V,F,pe){if(F.image.length!==6)return;const xe=Se(V,F),Re=F.source;n.bindTexture(t.TEXTURE_CUBE_MAP,V.__webglTexture,t.TEXTURE0+pe);const be=r.get(Re);if(Re.version!==be.__version||xe===!0){n.activeTexture(t.TEXTURE0+pe);const St=sn.getPrimaries(sn.workingColorSpace),mt=F.colorSpace===xo?null:sn.getPrimaries(F.colorSpace),De=F.colorSpace===xo||St===mt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,De);const ze=F.isCompressedTexture||F.image[0].isCompressedTexture,wt=F.image[0]&&F.image[0].isDataTexture,Fe=[];for(let ce=0;ce<6;ce++)!ze&&!wt?Fe[ce]=y(F.image[ce],!1,!0,i.maxCubemapSize):Fe[ce]=wt?F.image[ce].image:F.image[ce],Fe[ce]=ot(F,Fe[ce]);const ln=Fe[0],pt=g(ln)||a,ht=s.convert(F.format,F.colorSpace),it=s.convert(F.type),Ke=T(F.internalFormat,ht,it,F.colorSpace),gt=a&&F.isVideoTexture!==!0,Ct=be.__version===void 0||xe===!0,Pe=Re.dataReady;let ee=C(F,ln,pt);oe(t.TEXTURE_CUBE_MAP,F,pt);let Ve;if(ze){gt&&Ct&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ee,Ke,ln.width,ln.height);for(let ce=0;ce<6;ce++){Ve=Fe[ce].mipmaps;for(let Ne=0;Ne<Ve.length;Ne++){const Xe=Ve[Ne];F.format!==Ir?ht!==null?gt?Pe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne,0,0,Xe.width,Xe.height,ht,Xe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne,Ke,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):gt?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne,0,0,Xe.width,Xe.height,ht,it,Xe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne,Ke,Xe.width,Xe.height,0,ht,it,Xe.data)}}}else{if(Ve=F.mipmaps,gt&&Ct){Ve.length>0&&ee++;const ce=bt(Fe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ee,Ke,ce.width,ce.height)}for(let ce=0;ce<6;ce++)if(wt){gt?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,Fe[ce].width,Fe[ce].height,ht,it,Fe[ce].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Ke,Fe[ce].width,Fe[ce].height,0,ht,it,Fe[ce].data);for(let Ne=0;Ne<Ve.length;Ne++){const Nt=Ve[Ne].image[ce].image;gt?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne+1,0,0,Nt.width,Nt.height,ht,it,Nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne+1,Ke,Nt.width,Nt.height,0,ht,it,Nt.data)}}else{gt?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,ht,it,Fe[ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Ke,ht,it,Fe[ce]);for(let Ne=0;Ne<Ve.length;Ne++){const Xe=Ve[Ne];gt?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne+1,0,0,ht,it,Xe.image[ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Ne+1,Ke,ht,it,Xe.image[ce])}}}A(F,pt)&&E(t.TEXTURE_CUBE_MAP),be.__version=Re.version,F.onUpdate&&F.onUpdate(F)}V.__version=F.version}function Ye(V,F,pe,xe,Re,be){const St=s.convert(pe.format,pe.colorSpace),mt=s.convert(pe.type),De=T(pe.internalFormat,St,mt,pe.colorSpace);if(!r.get(F).__hasExternalTextures){const wt=Math.max(1,F.width>>be),Fe=Math.max(1,F.height>>be);Re===t.TEXTURE_3D||Re===t.TEXTURE_2D_ARRAY?n.texImage3D(Re,be,De,wt,Fe,F.depth,0,St,mt,null):n.texImage2D(Re,be,De,wt,Fe,0,St,mt,null)}n.bindFramebuffer(t.FRAMEBUFFER,V),Qe(F)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,xe,Re,r.get(pe).__webglTexture,0,Ee(F)):(Re===t.TEXTURE_2D||Re>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,xe,Re,r.get(pe).__webglTexture,be),n.bindFramebuffer(t.FRAMEBUFFER,null)}function et(V,F,pe){if(t.bindRenderbuffer(t.RENDERBUFFER,V),F.depthBuffer&&!F.stencilBuffer){let xe=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(pe||Qe(F)){const Re=F.depthTexture;Re&&Re.isDepthTexture&&(Re.type===er?xe=t.DEPTH_COMPONENT32F:Re.type===wo&&(xe=t.DEPTH_COMPONENT24));const be=Ee(F);Qe(F)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,xe,F.width,F.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,be,xe,F.width,F.height)}else t.renderbufferStorage(t.RENDERBUFFER,xe,F.width,F.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,V)}else if(F.depthBuffer&&F.stencilBuffer){const xe=Ee(F);pe&&Qe(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,xe,t.DEPTH24_STENCIL8,F.width,F.height):Qe(F)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,xe,t.DEPTH24_STENCIL8,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,V)}else{const xe=F.textures;for(let Re=0;Re<xe.length;Re++){const be=xe[Re],St=s.convert(be.format,be.colorSpace),mt=s.convert(be.type),De=T(be.internalFormat,St,mt,be.colorSpace),ze=Ee(F);pe&&Qe(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,De,F.width,F.height):Qe(F)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,De,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,De,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Et(V,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,V),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),he(F.depthTexture,0);const xe=r.get(F.depthTexture).__webglTexture,Re=Ee(F);if(F.depthTexture.format===Fa)Qe(F)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0,Re):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0);else if(F.depthTexture.format===uu)Qe(F)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0,Re):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function tt(V){const F=r.get(V),pe=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!F.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");Et(F.__webglFramebuffer,V)}else if(pe){F.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[xe]),F.__webglDepthbuffer[xe]=t.createRenderbuffer(),et(F.__webglDepthbuffer[xe],V,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),et(F.__webglDepthbuffer,V,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function $(V,F,pe){const xe=r.get(V);F!==void 0&&Ye(xe.__webglFramebuffer,V,V.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),pe!==void 0&&tt(V)}function Ce(V){const F=V.texture,pe=r.get(V),xe=r.get(F);V.addEventListener("dispose",N);const Re=V.textures,be=V.isWebGLCubeRenderTarget===!0,St=Re.length>1,mt=g(V)||a;if(St||(xe.__webglTexture===void 0&&(xe.__webglTexture=t.createTexture()),xe.__version=F.version,o.memory.textures++),be){pe.__webglFramebuffer=[];for(let De=0;De<6;De++)if(a&&F.mipmaps&&F.mipmaps.length>0){pe.__webglFramebuffer[De]=[];for(let ze=0;ze<F.mipmaps.length;ze++)pe.__webglFramebuffer[De][ze]=t.createFramebuffer()}else pe.__webglFramebuffer[De]=t.createFramebuffer()}else{if(a&&F.mipmaps&&F.mipmaps.length>0){pe.__webglFramebuffer=[];for(let De=0;De<F.mipmaps.length;De++)pe.__webglFramebuffer[De]=t.createFramebuffer()}else pe.__webglFramebuffer=t.createFramebuffer();if(St)if(i.drawBuffers)for(let De=0,ze=Re.length;De<ze;De++){const wt=r.get(Re[De]);wt.__webglTexture===void 0&&(wt.__webglTexture=t.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&V.samples>0&&Qe(V)===!1){pe.__webglMultisampledFramebuffer=t.createFramebuffer(),pe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,pe.__webglMultisampledFramebuffer);for(let De=0;De<Re.length;De++){const ze=Re[De];pe.__webglColorRenderbuffer[De]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,pe.__webglColorRenderbuffer[De]);const wt=s.convert(ze.format,ze.colorSpace),Fe=s.convert(ze.type),ln=T(ze.internalFormat,wt,Fe,ze.colorSpace,V.isXRRenderTarget===!0),pt=Ee(V);t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,ln,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,pe.__webglColorRenderbuffer[De])}t.bindRenderbuffer(t.RENDERBUFFER,null),V.depthBuffer&&(pe.__webglDepthRenderbuffer=t.createRenderbuffer(),et(pe.__webglDepthRenderbuffer,V,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(be){n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture),oe(t.TEXTURE_CUBE_MAP,F,mt);for(let De=0;De<6;De++)if(a&&F.mipmaps&&F.mipmaps.length>0)for(let ze=0;ze<F.mipmaps.length;ze++)Ye(pe.__webglFramebuffer[De][ze],V,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,ze);else Ye(pe.__webglFramebuffer[De],V,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0);A(F,mt)&&E(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(St){for(let De=0,ze=Re.length;De<ze;De++){const wt=Re[De],Fe=r.get(wt);n.bindTexture(t.TEXTURE_2D,Fe.__webglTexture),oe(t.TEXTURE_2D,wt,mt),Ye(pe.__webglFramebuffer,V,wt,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,0),A(wt,mt)&&E(t.TEXTURE_2D)}n.unbindTexture()}else{let De=t.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(a?De=V.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(De,xe.__webglTexture),oe(De,F,mt),a&&F.mipmaps&&F.mipmaps.length>0)for(let ze=0;ze<F.mipmaps.length;ze++)Ye(pe.__webglFramebuffer[ze],V,F,t.COLOR_ATTACHMENT0,De,ze);else Ye(pe.__webglFramebuffer,V,F,t.COLOR_ATTACHMENT0,De,0);A(F,mt)&&E(De),n.unbindTexture()}V.depthBuffer&&tt(V)}function _e(V){const F=g(V)||a,pe=V.textures;for(let xe=0,Re=pe.length;xe<Re;xe++){const be=pe[xe];if(A(be,F)){const St=V.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,mt=r.get(be).__webglTexture;n.bindTexture(St,mt),E(St),n.unbindTexture()}}}function Ie(V){if(a&&V.samples>0&&Qe(V)===!1){const F=V.textures,pe=V.width,xe=V.height;let Re=t.COLOR_BUFFER_BIT;const be=[],St=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,mt=r.get(V),De=F.length>1;if(De)for(let ze=0;ze<F.length;ze++)n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let ze=0;ze<F.length;ze++){be.push(t.COLOR_ATTACHMENT0+ze),V.depthBuffer&&be.push(St);const wt=mt.__ignoreDepthValues!==void 0?mt.__ignoreDepthValues:!1;if(wt===!1&&(V.depthBuffer&&(Re|=t.DEPTH_BUFFER_BIT),V.stencilBuffer&&(Re|=t.STENCIL_BUFFER_BIT)),De&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,mt.__webglColorRenderbuffer[ze]),wt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[St]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[St])),De){const Fe=r.get(F[ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Fe,0)}t.blitFramebuffer(0,0,pe,xe,0,0,pe,xe,Re,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,be)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),De)for(let ze=0;ze<F.length;ze++){n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,mt.__webglColorRenderbuffer[ze]);const wt=r.get(F[ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,wt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}}function Ee(V){return Math.min(i.maxSamples,V.samples)}function Qe(V){const F=r.get(V);return a&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Je(V){const F=o.render.frame;d.get(V)!==F&&(d.set(V,F),V.update())}function ot(V,F){const pe=V.colorSpace,xe=V.format,Re=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||V.format===sv||pe!==Go&&pe!==xo&&(sn.getTransfer(pe)===hn?a===!1?e.has("EXT_sRGB")===!0&&xe===Ir?(V.format=sv,V.minFilter=on,V.generateMipmaps=!1):F=SE.sRGBToLinear(F):(xe!==Ir||Re!==Js)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pe)),F}function bt(V){return typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement?(f.width=V.naturalWidth||V.width,f.height=V.naturalHeight||V.height):typeof VideoFrame<"u"&&V instanceof VideoFrame?(f.width=V.displayWidth,f.height=V.displayHeight):(f.width=V.width,f.height=V.height),f}this.allocateTextureUnit=re,this.resetTextureUnits=X,this.setTexture2D=he,this.setTexture2DArray=H,this.setTexture3D=Z,this.setTextureCube=Y,this.rebindTextures=$,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=_e,this.updateMultisampleRenderTarget=Ie,this.setupDepthRenderbuffer=tt,this.setupFrameBufferTexture=Ye,this.useMultisampledRTT=Qe}function EO(t,e,n){const r=n.isWebGL2;function i(s,o=xo){let a;const l=sn.getTransfer(o);if(s===Js)return t.UNSIGNED_BYTE;if(s===hE)return t.UNSIGNED_SHORT_4_4_4_4;if(s===dE)return t.UNSIGNED_SHORT_5_5_5_1;if(s===WF)return t.BYTE;if(s===XF)return t.SHORT;if(s===$v)return t.UNSIGNED_SHORT;if(s===fE)return t.INT;if(s===wo)return t.UNSIGNED_INT;if(s===er)return t.FLOAT;if(s===Lr)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===jF)return t.ALPHA;if(s===Ir)return t.RGBA;if(s===JF)return t.LUMINANCE;if(s===$F)return t.LUMINANCE_ALPHA;if(s===Fa)return t.DEPTH_COMPONENT;if(s===uu)return t.DEPTH_STENCIL;if(s===sv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Kv)return t.RED;if(s===pE)return t.RED_INTEGER;if(s===KF)return t.RG;if(s===mE)return t.RG_INTEGER;if(s===gE)return t.RGBA_INTEGER;if(s===_0||s===A0||s===S0||s===w0)if(l===hn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===_0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===A0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===S0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===w0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===_0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===A0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===S0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===w0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===YA||s===QA||s===ZA||s===qA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===YA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===QA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===ZA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===qA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===vE)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===eS||s===tS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===eS)return l===hn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===tS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===nS||s===rS||s===iS||s===sS||s===oS||s===aS||s===lS||s===uS||s===cS||s===fS||s===hS||s===dS||s===pS||s===mS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===nS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===rS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===iS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===sS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===oS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===aS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===lS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===uS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===cS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===fS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===hS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===dS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===pS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===mS)return l===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===E0||s===gS||s===vS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===E0)return l===hn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===gS)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===vS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===YF||s===yS||s===xS||s===_S)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===E0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===yS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===_S)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Da?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class MO extends qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Eo extends jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const XW={type:"move"};class W_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Eo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Eo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Eo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const y=n.getJointPose(_,r),g=this._getHandJoint(u,_);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const f=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=f.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(XW)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Eo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const jW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,JW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $W{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new pn,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new Ti({extensions:{fragDepth:!0},vertexShader:jW,fragmentShader:JW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Bn(new Ff(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class KW extends Ho{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,d=null,p=null,m=null,v=null;const _=new $W,y=n.getContextAttributes();let g=null,S=null;const A=[],E=[],T=new Ae;let C=null;const P=new qn;P.layers.enable(1),P.viewport=new Kt;const L=new qn;L.layers.enable(2),L.viewport=new Kt;const N=[P,L],b=new MO;b.layers.enable(1),b.layers.enable(2);let B=null,q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let Se=A[oe];return Se===void 0&&(Se=new W_,A[oe]=Se),Se.getTargetRaySpace()},this.getControllerGrip=function(oe){let Se=A[oe];return Se===void 0&&(Se=new W_,A[oe]=Se),Se.getGripSpace()},this.getHand=function(oe){let Se=A[oe];return Se===void 0&&(Se=new W_,A[oe]=Se),Se.getHandSpace()};function se(oe){const Se=E.indexOf(oe.inputSource);if(Se===-1)return;const we=A[Se];we!==void 0&&(we.update(oe.inputSource,oe.frame,u||o),we.dispatchEvent({type:oe.type,data:oe.inputSource}))}function X(){i.removeEventListener("select",se),i.removeEventListener("selectstart",se),i.removeEventListener("selectend",se),i.removeEventListener("squeeze",se),i.removeEventListener("squeezestart",se),i.removeEventListener("squeezeend",se),i.removeEventListener("end",X),i.removeEventListener("inputsourceschange",re);for(let oe=0;oe<A.length;oe++){const Se=E[oe];Se!==null&&(E[oe]=null,A[oe].disconnect(Se))}B=null,q=null,_.reset(),e.setRenderTarget(g),m=null,p=null,d=null,i=null,S=null,Oe.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){s=oe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){a=oe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(oe){u=oe},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(oe){if(i=oe,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",se),i.addEventListener("selectstart",se),i.addEventListener("selectend",se),i.addEventListener("squeeze",se),i.addEventListener("squeezestart",se),i.addEventListener("squeezeend",se),i.addEventListener("end",X),i.addEventListener("inputsourceschange",re),y.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(T),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Se={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,Se),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new Ci(m.framebufferWidth,m.framebufferHeight,{format:Ir,type:Js,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Se=null,we=null,We=null;y.depth&&(We=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Se=y.stencil?uu:Fa,we=y.stencil?Da:wo);const Ye={colorFormat:n.RGBA8,depthFormat:We,scaleFactor:s};d=new XRWebGLBinding(i,n),p=d.createProjectionLayer(Ye),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),S=new Ci(p.textureWidth,p.textureHeight,{format:Ir,type:Js,depthTexture:new RE(p.textureWidth,p.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const et=e.properties.get(S);et.__ignoreDepthValues=p.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),Oe.setContext(i),Oe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function re(oe){for(let Se=0;Se<oe.removed.length;Se++){const we=oe.removed[Se],We=E.indexOf(we);We>=0&&(E[We]=null,A[We].disconnect(we))}for(let Se=0;Se<oe.added.length;Se++){const we=oe.added[Se];let We=E.indexOf(we);if(We===-1){for(let et=0;et<A.length;et++)if(et>=E.length){E.push(we),We=et;break}else if(E[et]===null){E[et]=we,We=et;break}if(We===-1)break}const Ye=A[We];Ye&&Ye.connect(we)}}const ne=new G,he=new G;function H(oe,Se,we){ne.setFromMatrixPosition(Se.matrixWorld),he.setFromMatrixPosition(we.matrixWorld);const We=ne.distanceTo(he),Ye=Se.projectionMatrix.elements,et=we.projectionMatrix.elements,Et=Ye[14]/(Ye[10]-1),tt=Ye[14]/(Ye[10]+1),$=(Ye[9]+1)/Ye[5],Ce=(Ye[9]-1)/Ye[5],_e=(Ye[8]-1)/Ye[0],Ie=(et[8]+1)/et[0],Ee=Et*_e,Qe=Et*Ie,Je=We/(-_e+Ie),ot=Je*-_e;Se.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(ot),oe.translateZ(Je),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert();const bt=Et+Je,V=tt+Je,F=Ee-ot,pe=Qe+(We-ot),xe=$*tt/V*bt,Re=Ce*tt/V*bt;oe.projectionMatrix.makePerspective(F,pe,xe,Re,bt,V),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}function Z(oe,Se){Se===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(Se.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(i===null)return;_.texture!==null&&(oe.near=_.depthNear,oe.far=_.depthFar),b.near=L.near=P.near=oe.near,b.far=L.far=P.far=oe.far,(B!==b.near||q!==b.far)&&(i.updateRenderState({depthNear:b.near,depthFar:b.far}),B=b.near,q=b.far,P.near=B,P.far=q,L.near=B,L.far=q,P.updateProjectionMatrix(),L.updateProjectionMatrix(),oe.updateProjectionMatrix());const Se=oe.parent,we=b.cameras;Z(b,Se);for(let We=0;We<we.length;We++)Z(we[We],Se);we.length===2?H(b,P,L):b.projectionMatrix.copy(P.projectionMatrix),Y(oe,b,Se)};function Y(oe,Se,we){we===null?oe.matrix.copy(Se.matrixWorld):(oe.matrix.copy(we.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(Se.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(Se.projectionMatrix),oe.projectionMatrixInverse.copy(Se.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=Af*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(oe){l=oe,p!==null&&(p.fixedFoveation=oe),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=oe)},this.hasDepthSensing=function(){return _.texture!==null};let ae=null;function ge(oe,Se){if(f=Se.getViewerPose(u||o),v=Se,f!==null){const we=f.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let We=!1;we.length!==b.cameras.length&&(b.cameras.length=0,We=!0);for(let et=0;et<we.length;et++){const Et=we[et];let tt=null;if(m!==null)tt=m.getViewport(Et);else{const Ce=d.getViewSubImage(p,Et);tt=Ce.viewport,et===0&&(e.setRenderTargetTextures(S,Ce.colorTexture,p.ignoreDepthValues?void 0:Ce.depthStencilTexture),e.setRenderTarget(S))}let $=N[et];$===void 0&&($=new qn,$.layers.enable(et),$.viewport=new Kt,N[et]=$),$.matrix.fromArray(Et.transform.matrix),$.matrix.decompose($.position,$.quaternion,$.scale),$.projectionMatrix.fromArray(Et.projectionMatrix),$.projectionMatrixInverse.copy($.projectionMatrix).invert(),$.viewport.set(tt.x,tt.y,tt.width,tt.height),et===0&&(b.matrix.copy($.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),We===!0&&b.cameras.push($)}const Ye=i.enabledFeatures;if(Ye&&Ye.includes("depth-sensing")){const et=d.getDepthInformation(we[0]);et&&et.isValid&&et.texture&&_.init(e,et,i.renderState)}}for(let we=0;we<A.length;we++){const We=E[we],Ye=A[we];We!==null&&Ye!==void 0&&Ye.update(We,Se,u||o)}_.render(e,b),ae&&ae(oe,Se),Se.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Se}),v=null}const Oe=new yO;Oe.setAnimationLoop(ge),this.setAnimationLoop=function(oe){ae=oe},this.dispose=function(){}}}const Al=new Nr,YW=new ct;function QW(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,gO(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,S,A,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),d(y,g)):g.isMeshPhongMaterial?(s(y,g),f(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,E)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),_(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,S,A):g.isSpriteMaterial?u(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Kr&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Kr&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const S=e.get(g),A=S.envMap,E=S.envMapRotation;if(A&&(y.envMap.value=A,Al.copy(E),Al.x*=-1,Al.y*=-1,Al.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Al.y*=-1,Al.z*=-1),y.envMapRotation.value.setFromMatrix4(YW.makeRotationFromEuler(Al)),y.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const T=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*T,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,S,A){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*S,y.scale.value=A*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function f(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,S){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Kr&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function _(y,g){const S=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ZW(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,A){const E=A.program;r.uniformBlockBinding(S,E)}function u(S,A){let E=i[S.id];E===void 0&&(v(S),E=f(S),i[S.id]=E,S.addEventListener("dispose",y));const T=A.program;r.updateUBOMapping(S,T);const C=e.render.frame;s[S.id]!==C&&(p(S),s[S.id]=C)}function f(S){const A=d();S.__bindingPointIndex=A;const E=t.createBuffer(),T=S.__size,C=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,T,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,A,E),E}function d(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const A=i[S.id],E=S.uniforms,T=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,A);for(let C=0,P=E.length;C<P;C++){const L=Array.isArray(E[C])?E[C]:[E[C]];for(let N=0,b=L.length;N<b;N++){const B=L[N];if(m(B,C,N,T)===!0){const q=B.__offset,se=Array.isArray(B.value)?B.value:[B.value];let X=0;for(let re=0;re<se.length;re++){const ne=se[re],he=_(ne);typeof ne=="number"||typeof ne=="boolean"?(B.__data[0]=ne,t.bufferSubData(t.UNIFORM_BUFFER,q+X,B.__data)):ne.isMatrix3?(B.__data[0]=ne.elements[0],B.__data[1]=ne.elements[1],B.__data[2]=ne.elements[2],B.__data[3]=0,B.__data[4]=ne.elements[3],B.__data[5]=ne.elements[4],B.__data[6]=ne.elements[5],B.__data[7]=0,B.__data[8]=ne.elements[6],B.__data[9]=ne.elements[7],B.__data[10]=ne.elements[8],B.__data[11]=0):(ne.toArray(B.__data,X),X+=he.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,q,B.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,A,E,T){const C=S.value,P=A+"_"+E;if(T[P]===void 0)return typeof C=="number"||typeof C=="boolean"?T[P]=C:T[P]=C.clone(),!0;{const L=T[P];if(typeof C=="number"||typeof C=="boolean"){if(L!==C)return T[P]=C,!0}else if(L.equals(C)===!1)return L.copy(C),!0}return!1}function v(S){const A=S.uniforms;let E=0;const T=16;for(let P=0,L=A.length;P<L;P++){const N=Array.isArray(A[P])?A[P]:[A[P]];for(let b=0,B=N.length;b<B;b++){const q=N[b],se=Array.isArray(q.value)?q.value:[q.value];for(let X=0,re=se.length;X<re;X++){const ne=se[X],he=_(ne),H=E%T;H!==0&&T-H<he.boundary&&(E+=T-H),q.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=E,E+=he.storage}}}const C=E%T;return C>0&&(E+=T-C),S.__size=E,S.__cache={},this}function _(S){const A={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(A.boundary=4,A.storage=4):S.isVector2?(A.boundary=8,A.storage=8):S.isVector3||S.isColor?(A.boundary=16,A.storage=12):S.isVector4?(A.boundary=16,A.storage=16):S.isMatrix3?(A.boundary=48,A.storage=48):S.isMatrix4?(A.boundary=64,A.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),A}function y(S){const A=S.target;A.removeEventListener("dispose",y);const E=o.indexOf(A.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(i[A.id]),delete i[A.id],delete s[A.id]}function g(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:g}}class IE{constructor(e={}){const{canvas:n=hO(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let _=null,y=null;const g=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ki,this._useLegacyLights=!1,this.toneMapping=js,this.toneMappingExposure=1;const A=this;let E=!1,T=0,C=0,P=null,L=-1,N=null;const b=new Kt,B=new Kt;let q=null;const se=new He(0);let X=0,re=n.width,ne=n.height,he=1,H=null,Z=null;const Y=new Kt(0,0,re,ne),ae=new Kt(0,0,re,ne);let ge=!1;const Oe=new wp;let oe=!1,Se=!1,we=null;const We=new ct,Ye=new Ae,et=new G,Et={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function tt(){return P===null?he:1}let $=r;function Ce(I,k){for(let z=0;z<I.length;z++){const K=I[z],J=n.getContext(K,k);if(J!==null)return J}return null}try{const I={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${mu}`),n.addEventListener("webglcontextlost",Pe,!1),n.addEventListener("webglcontextrestored",ee,!1),n.addEventListener("webglcontextcreationerror",Ve,!1),$===null){const k=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&k.shift(),$=Ce(k,I),$===null)throw Ce(k)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&$ instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let _e,Ie,Ee,Qe,Je,ot,bt,V,F,pe,xe,Re,be,St,mt,De,ze,wt,Fe,ln,pt,ht,it,Ke;function gt(){_e=new l6($),Ie=new n6($,_e,e),_e.init(Ie),ht=new EO($,_e,Ie),Ee=new VW($,_e,Ie),Qe=new f6($),Je=new BW,ot=new WW($,_e,Ee,Je,Ie,ht,Qe),bt=new i6(A),V=new a6(A),F=new v8($,Ie),it=new e6($,_e,F,Ie),pe=new u6($,F,Qe,it),xe=new m6($,pe,F,Qe),Fe=new p6($,Ie,ot),De=new r6(Je),Re=new PW(A,bt,V,_e,Ie,it,De),be=new QW(A,Je),St=new LW,mt=new kW(_e,Ie),wt=new q9(A,bt,V,Ee,xe,p,l),ze=new zW(A,xe,Ie),Ke=new ZW($,Qe,Ie,Ee),ln=new t6($,_e,Qe,Ie),pt=new c6($,_e,Qe,Ie),Qe.programs=Re.programs,A.capabilities=Ie,A.extensions=_e,A.properties=Je,A.renderLists=St,A.shadowMap=ze,A.state=Ee,A.info=Qe}gt();const Ct=new KW(A,$);this.xr=Ct,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const I=_e.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=_e.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return he},this.setPixelRatio=function(I){I!==void 0&&(he=I,this.setSize(re,ne,!1))},this.getSize=function(I){return I.set(re,ne)},this.setSize=function(I,k,z=!0){if(Ct.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}re=I,ne=k,n.width=Math.floor(I*he),n.height=Math.floor(k*he),z===!0&&(n.style.width=I+"px",n.style.height=k+"px"),this.setViewport(0,0,I,k)},this.getDrawingBufferSize=function(I){return I.set(re*he,ne*he).floor()},this.setDrawingBufferSize=function(I,k,z){re=I,ne=k,he=z,n.width=Math.floor(I*z),n.height=Math.floor(k*z),this.setViewport(0,0,I,k)},this.getCurrentViewport=function(I){return I.copy(b)},this.getViewport=function(I){return I.copy(Y)},this.setViewport=function(I,k,z,K){I.isVector4?Y.set(I.x,I.y,I.z,I.w):Y.set(I,k,z,K),Ee.viewport(b.copy(Y).multiplyScalar(he).round())},this.getScissor=function(I){return I.copy(ae)},this.setScissor=function(I,k,z,K){I.isVector4?ae.set(I.x,I.y,I.z,I.w):ae.set(I,k,z,K),Ee.scissor(B.copy(ae).multiplyScalar(he).round())},this.getScissorTest=function(){return ge},this.setScissorTest=function(I){Ee.setScissorTest(ge=I)},this.setOpaqueSort=function(I){H=I},this.setTransparentSort=function(I){Z=I},this.getClearColor=function(I){return I.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor.apply(wt,arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha.apply(wt,arguments)},this.clear=function(I=!0,k=!0,z=!0){let K=0;if(I){let J=!1;if(P!==null){const ue=P.texture.format;J=ue===gE||ue===mE||ue===pE}if(J){const ue=P.texture.type,fe=ue===Js||ue===wo||ue===$v||ue===Da||ue===hE||ue===dE,ve=wt.getClearColor(),me=wt.getClearAlpha(),Ze=ve.r,Me=ve.g,Te=ve.b;fe?(m[0]=Ze,m[1]=Me,m[2]=Te,m[3]=me,$.clearBufferuiv($.COLOR,0,m)):(v[0]=Ze,v[1]=Me,v[2]=Te,v[3]=me,$.clearBufferiv($.COLOR,0,v))}else K|=$.COLOR_BUFFER_BIT}k&&(K|=$.DEPTH_BUFFER_BIT),z&&(K|=$.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),$.clear(K)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Pe,!1),n.removeEventListener("webglcontextrestored",ee,!1),n.removeEventListener("webglcontextcreationerror",Ve,!1),St.dispose(),mt.dispose(),Je.dispose(),bt.dispose(),V.dispose(),xe.dispose(),it.dispose(),Ke.dispose(),Re.dispose(),Ct.dispose(),Ct.removeEventListener("sessionstart",dr),Ct.removeEventListener("sessionend",nn),we&&(we.dispose(),we=null),Yn.stop()};function Pe(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function ee(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const I=Qe.autoReset,k=ze.enabled,z=ze.autoUpdate,K=ze.needsUpdate,J=ze.type;gt(),Qe.autoReset=I,ze.enabled=k,ze.autoUpdate=z,ze.needsUpdate=K,ze.type=J}function Ve(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function ce(I){const k=I.target;k.removeEventListener("dispose",ce),Ne(k)}function Ne(I){Xe(I),Je.remove(I)}function Xe(I){const k=Je.get(I).programs;k!==void 0&&(k.forEach(function(z){Re.releaseProgram(z)}),I.isShaderMaterial&&Re.releaseShaderCache(I))}this.renderBufferDirect=function(I,k,z,K,J,ue){k===null&&(k=Et);const fe=J.isMesh&&J.matrixWorld.determinant()<0,ve=D(I,k,z,K,J);Ee.setMaterial(K,fe);let me=z.index,Ze=1;if(K.wireframe===!0){if(me=pe.getWireframeAttribute(z),me===void 0)return;Ze=2}const Me=z.drawRange,Te=z.attributes.position;let nt=Me.start*Ze,dt=(Me.start+Me.count)*Ze;ue!==null&&(nt=Math.max(nt,ue.start*Ze),dt=Math.min(dt,(ue.start+ue.count)*Ze)),me!==null?(nt=Math.max(nt,0),dt=Math.min(dt,me.count)):Te!=null&&(nt=Math.max(nt,0),dt=Math.min(dt,Te.count));const vt=dt-nt;if(vt<0||vt===1/0)return;it.setup(J,K,ve,z,me);let Tt,qe=ln;if(me!==null&&(Tt=F.get(me),qe=pt,qe.setIndex(Tt)),J.isMesh)K.wireframe===!0?(Ee.setLineWidth(K.wireframeLinewidth*tt()),qe.setMode($.LINES)):qe.setMode($.TRIANGLES);else if(J.isLine){let Ue=K.linewidth;Ue===void 0&&(Ue=1),Ee.setLineWidth(Ue*tt()),J.isLineSegments?qe.setMode($.LINES):J.isLineLoop?qe.setMode($.LINE_LOOP):qe.setMode($.LINE_STRIP)}else J.isPoints?qe.setMode($.POINTS):J.isSprite&&qe.setMode($.TRIANGLES);if(J.isBatchedMesh)qe.renderMultiDraw(J._multiDrawStarts,J._multiDrawCounts,J._multiDrawCount);else if(J.isInstancedMesh)qe.renderInstances(nt,vt,J.count);else if(z.isInstancedBufferGeometry){const Ue=z._maxInstanceCount!==void 0?z._maxInstanceCount:1/0,kt=Math.min(z.instanceCount,Ue);qe.renderInstances(nt,vt,kt)}else qe.render(nt,vt)};function Nt(I,k,z){I.transparent===!0&&I.side===Zi&&I.forceSinglePass===!1?(I.side=Kr,I.needsUpdate=!0,It(I,k,z),I.side=Zs,I.needsUpdate=!0,It(I,k,z),I.side=Zi):It(I,k,z)}this.compile=function(I,k,z=null){z===null&&(z=I),y=mt.get(z),y.init(),S.push(y),z.traverseVisible(function(J){J.isLight&&J.layers.test(k.layers)&&(y.pushLight(J),J.castShadow&&y.pushShadow(J))}),I!==z&&I.traverseVisible(function(J){J.isLight&&J.layers.test(k.layers)&&(y.pushLight(J),J.castShadow&&y.pushShadow(J))}),y.setupLights(A._useLegacyLights);const K=new Set;return I.traverse(function(J){const ue=J.material;if(ue)if(Array.isArray(ue))for(let fe=0;fe<ue.length;fe++){const ve=ue[fe];Nt(ve,z,J),K.add(ve)}else Nt(ue,z,J),K.add(ue)}),S.pop(),y=null,K},this.compileAsync=function(I,k,z=null){const K=this.compile(I,k,z);return new Promise(J=>{function ue(){if(K.forEach(function(fe){Je.get(fe).currentProgram.isReady()&&K.delete(fe)}),K.size===0){J(I);return}setTimeout(ue,10)}_e.get("KHR_parallel_shader_compile")!==null?ue():setTimeout(ue,10)})};let tn=null;function Dn(I){tn&&tn(I)}function dr(){Yn.stop()}function nn(){Yn.start()}const Yn=new yO;Yn.setAnimationLoop(Dn),typeof self<"u"&&Yn.setContext(self),this.setAnimationLoop=function(I){tn=I,Ct.setAnimationLoop(I),I===null?Yn.stop():Yn.start()},Ct.addEventListener("sessionstart",dr),Ct.addEventListener("sessionend",nn),this.render=function(I,k){if(k!==void 0&&k.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),k.parent===null&&k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),Ct.enabled===!0&&Ct.isPresenting===!0&&(Ct.cameraAutoUpdate===!0&&Ct.updateCamera(k),k=Ct.getCamera()),I.isScene===!0&&I.onBeforeRender(A,I,k,P),y=mt.get(I,S.length),y.init(),S.push(y),We.multiplyMatrices(k.projectionMatrix,k.matrixWorldInverse),Oe.setFromProjectionMatrix(We),Se=this.localClippingEnabled,oe=De.init(this.clippingPlanes,Se),_=St.get(I,g.length),_.init(),g.push(_),Zr(I,k,0,A.sortObjects),_.finish(),A.sortObjects===!0&&_.sort(H,Z),this.info.render.frame++,oe===!0&&De.beginShadows();const z=y.state.shadowsArray;if(ze.render(z,I,k),oe===!0&&De.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ct.enabled===!1||Ct.isPresenting===!1||Ct.hasDepthSensing()===!1)&&wt.render(_,I),y.setupLights(A._useLegacyLights),k.isArrayCamera){const K=k.cameras;for(let J=0,ue=K.length;J<ue;J++){const fe=K[J];Ps(_,I,fe,fe.viewport)}}else Ps(_,I,k);P!==null&&(ot.updateMultisampleRenderTarget(P),ot.updateRenderTargetMipmap(P)),I.isScene===!0&&I.onAfterRender(A,I,k),it.resetDefaultState(),L=-1,N=null,S.pop(),S.length>0?y=S[S.length-1]:y=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function Zr(I,k,z,K){if(I.visible===!1)return;if(I.layers.test(k.layers)){if(I.isGroup)z=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(k);else if(I.isLight)y.pushLight(I),I.castShadow&&y.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||Oe.intersectsSprite(I)){K&&et.setFromMatrixPosition(I.matrixWorld).applyMatrix4(We);const fe=xe.update(I),ve=I.material;ve.visible&&_.push(I,fe,ve,z,et.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||Oe.intersectsObject(I))){const fe=xe.update(I),ve=I.material;if(K&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),et.copy(I.boundingSphere.center)):(fe.boundingSphere===null&&fe.computeBoundingSphere(),et.copy(fe.boundingSphere.center)),et.applyMatrix4(I.matrixWorld).applyMatrix4(We)),Array.isArray(ve)){const me=fe.groups;for(let Ze=0,Me=me.length;Ze<Me;Ze++){const Te=me[Ze],nt=ve[Te.materialIndex];nt&&nt.visible&&_.push(I,fe,nt,z,et.z,Te)}}else ve.visible&&_.push(I,fe,ve,z,et.z,null)}}const ue=I.children;for(let fe=0,ve=ue.length;fe<ve;fe++)Zr(ue[fe],k,z,K)}function Ps(I,k,z,K){const J=I.opaque,ue=I.transmissive,fe=I.transparent;y.setupLightsView(z),oe===!0&&De.setGlobalState(A.clippingPlanes,z),ue.length>0&&sl(J,ue,k,z),K&&Ee.viewport(b.copy(K)),J.length>0&&Di(J,k,z),ue.length>0&&Di(ue,k,z),fe.length>0&&Di(fe,k,z),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function sl(I,k,z,K){if((z.isScene===!0?z.overrideMaterial:null)!==null)return;const ue=Ie.isWebGL2;we===null&&(we=new Ci(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?Lr:Js,minFilter:ns,samples:ue?4:0})),A.getDrawingBufferSize(Ye),ue?we.setSize(Ye.x,Ye.y):we.setSize(ov(Ye.x),ov(Ye.y));const fe=A.getRenderTarget();A.setRenderTarget(we),A.getClearColor(se),X=A.getClearAlpha(),X<1&&A.setClearColor(16777215,.5),A.clear();const ve=A.toneMapping;A.toneMapping=js,Di(I,z,K),ot.updateMultisampleRenderTarget(we),ot.updateRenderTargetMipmap(we);let me=!1;for(let Ze=0,Me=k.length;Ze<Me;Ze++){const Te=k[Ze],nt=Te.object,dt=Te.geometry,vt=Te.material,Tt=Te.group;if(vt.side===Zi&&nt.layers.test(K.layers)){const qe=vt.side;vt.side=Kr,vt.needsUpdate=!0,qr(nt,z,K,dt,vt,Tt),vt.side=qe,vt.needsUpdate=!0,me=!0}}me===!0&&(ot.updateMultisampleRenderTarget(we),ot.updateRenderTargetMipmap(we)),A.setRenderTarget(fe),A.setClearColor(se,X),A.toneMapping=ve}function Di(I,k,z){const K=k.isScene===!0?k.overrideMaterial:null;for(let J=0,ue=I.length;J<ue;J++){const fe=I[J],ve=fe.object,me=fe.geometry,Ze=K===null?fe.material:K,Me=fe.group;ve.layers.test(z.layers)&&qr(ve,k,z,me,Ze,Me)}}function qr(I,k,z,K,J,ue){I.onBeforeRender(A,k,z,K,J,ue),I.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),J.onBeforeRender(A,k,z,K,I,ue),J.transparent===!0&&J.side===Zi&&J.forceSinglePass===!1?(J.side=Kr,J.needsUpdate=!0,A.renderBufferDirect(z,k,K,J,I,ue),J.side=Zs,J.needsUpdate=!0,A.renderBufferDirect(z,k,K,J,I,ue),J.side=Zi):A.renderBufferDirect(z,k,K,J,I,ue),I.onAfterRender(A,k,z,K,J,ue)}function It(I,k,z){k.isScene!==!0&&(k=Et);const K=Je.get(I),J=y.state.lights,ue=y.state.shadowsArray,fe=J.state.version,ve=Re.getParameters(I,J.state,ue,k,z),me=Re.getProgramCacheKey(ve);let Ze=K.programs;K.environment=I.isMeshStandardMaterial?k.environment:null,K.fog=k.fog,K.envMap=(I.isMeshStandardMaterial?V:bt).get(I.envMap||K.environment),K.envMapRotation=K.environment!==null&&I.envMap===null?k.environmentRotation:I.envMapRotation,Ze===void 0&&(I.addEventListener("dispose",ce),Ze=new Map,K.programs=Ze);let Me=Ze.get(me);if(Me!==void 0){if(K.currentProgram===Me&&K.lightsStateVersion===fe)return Ru(I,ve),Me}else ve.uniforms=Re.getUniforms(I),I.onBuild(z,ve,A),I.onBeforeCompile(ve,A),Me=Re.acquireProgram(ve,me),Ze.set(me,Me),K.uniforms=ve.uniforms;const Te=K.uniforms;return(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(Te.clippingPlanes=De.uniform),Ru(I,ve),K.needsLights=Q(I),K.lightsStateVersion=fe,K.needsLights&&(Te.ambientLightColor.value=J.state.ambient,Te.lightProbe.value=J.state.probe,Te.directionalLights.value=J.state.directional,Te.directionalLightShadows.value=J.state.directionalShadow,Te.spotLights.value=J.state.spot,Te.spotLightShadows.value=J.state.spotShadow,Te.rectAreaLights.value=J.state.rectArea,Te.ltc_1.value=J.state.rectAreaLTC1,Te.ltc_2.value=J.state.rectAreaLTC2,Te.pointLights.value=J.state.point,Te.pointLightShadows.value=J.state.pointShadow,Te.hemisphereLights.value=J.state.hemi,Te.directionalShadowMap.value=J.state.directionalShadowMap,Te.directionalShadowMatrix.value=J.state.directionalShadowMatrix,Te.spotShadowMap.value=J.state.spotShadowMap,Te.spotLightMatrix.value=J.state.spotLightMatrix,Te.spotLightMap.value=J.state.spotLightMap,Te.pointShadowMap.value=J.state.pointShadowMap,Te.pointShadowMatrix.value=J.state.pointShadowMatrix),K.currentProgram=Me,K.uniformsList=null,Me}function ol(I){if(I.uniformsList===null){const k=I.currentProgram.getUniforms();I.uniformsList=b0.seqWithValue(k.seq,I.uniforms)}return I.uniformsList}function Ru(I,k){const z=Je.get(I);z.outputColorSpace=k.outputColorSpace,z.batching=k.batching,z.instancing=k.instancing,z.instancingColor=k.instancingColor,z.instancingMorph=k.instancingMorph,z.skinning=k.skinning,z.morphTargets=k.morphTargets,z.morphNormals=k.morphNormals,z.morphColors=k.morphColors,z.morphTargetsCount=k.morphTargetsCount,z.numClippingPlanes=k.numClippingPlanes,z.numIntersection=k.numClipIntersection,z.vertexAlphas=k.vertexAlphas,z.vertexTangents=k.vertexTangents,z.toneMapping=k.toneMapping}function D(I,k,z,K,J){k.isScene!==!0&&(k=Et),ot.resetTextureUnits();const ue=k.fog,fe=K.isMeshStandardMaterial?k.environment:null,ve=P===null?A.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Go,me=(K.isMeshStandardMaterial?V:bt).get(K.envMap||fe),Ze=K.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,Me=!!z.attributes.tangent&&(!!K.normalMap||K.anisotropy>0),Te=!!z.morphAttributes.position,nt=!!z.morphAttributes.normal,dt=!!z.morphAttributes.color;let vt=js;K.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(vt=A.toneMapping);const Tt=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,qe=Tt!==void 0?Tt.length:0,Ue=Je.get(K),kt=y.state.lights;if(oe===!0&&(Se===!0||I!==N)){const Lt=I===N&&K.id===L;De.setState(K,I,Lt)}let yt=!1;K.version===Ue.__version?(Ue.needsLights&&Ue.lightsStateVersion!==kt.state.version||Ue.outputColorSpace!==ve||J.isBatchedMesh&&Ue.batching===!1||!J.isBatchedMesh&&Ue.batching===!0||J.isInstancedMesh&&Ue.instancing===!1||!J.isInstancedMesh&&Ue.instancing===!0||J.isSkinnedMesh&&Ue.skinning===!1||!J.isSkinnedMesh&&Ue.skinning===!0||J.isInstancedMesh&&Ue.instancingColor===!0&&J.instanceColor===null||J.isInstancedMesh&&Ue.instancingColor===!1&&J.instanceColor!==null||J.isInstancedMesh&&Ue.instancingMorph===!0&&J.morphTexture===null||J.isInstancedMesh&&Ue.instancingMorph===!1&&J.morphTexture!==null||Ue.envMap!==me||K.fog===!0&&Ue.fog!==ue||Ue.numClippingPlanes!==void 0&&(Ue.numClippingPlanes!==De.numPlanes||Ue.numIntersection!==De.numIntersection)||Ue.vertexAlphas!==Ze||Ue.vertexTangents!==Me||Ue.morphTargets!==Te||Ue.morphNormals!==nt||Ue.morphColors!==dt||Ue.toneMapping!==vt||Ie.isWebGL2===!0&&Ue.morphTargetsCount!==qe)&&(yt=!0):(yt=!0,Ue.__version=K.version);let At=Ue.currentProgram;yt===!0&&(At=It(K,k,J));let rn=!1,Fn=!1,An=!1;const Jt=At.getUniforms(),Ht=Ue.uniforms;if(Ee.useProgram(At.program)&&(rn=!0,Fn=!0,An=!0),K.id!==L&&(L=K.id,Fn=!0),rn||N!==I){Jt.setValue($,"projectionMatrix",I.projectionMatrix),Jt.setValue($,"viewMatrix",I.matrixWorldInverse);const Lt=Jt.map.cameraPosition;Lt!==void 0&&Lt.setValue($,et.setFromMatrixPosition(I.matrixWorld)),Ie.logarithmicDepthBuffer&&Jt.setValue($,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial)&&Jt.setValue($,"isOrthographic",I.isOrthographicCamera===!0),N!==I&&(N=I,Fn=!0,An=!0)}if(J.isSkinnedMesh){Jt.setOptional($,J,"bindMatrix"),Jt.setOptional($,J,"bindMatrixInverse");const Lt=J.skeleton;Lt&&(Ie.floatVertexTextures?(Lt.boneTexture===null&&Lt.computeBoneTexture(),Jt.setValue($,"boneTexture",Lt.boneTexture,ot)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}J.isBatchedMesh&&(Jt.setOptional($,J,"batchingTexture"),Jt.setValue($,"batchingTexture",J._matricesTexture,ot));const bn=z.morphAttributes;if((bn.position!==void 0||bn.normal!==void 0||bn.color!==void 0&&Ie.isWebGL2===!0)&&Fe.update(J,z,At),(Fn||Ue.receiveShadow!==J.receiveShadow)&&(Ue.receiveShadow=J.receiveShadow,Jt.setValue($,"receiveShadow",J.receiveShadow)),K.isMeshGouraudMaterial&&K.envMap!==null&&(Ht.envMap.value=me,Ht.flipEnvMap.value=me.isCubeTexture&&me.isRenderTargetTexture===!1?-1:1),Fn&&(Jt.setValue($,"toneMappingExposure",A.toneMappingExposure),Ue.needsLights&&U(Ht,An),ue&&K.fog===!0&&be.refreshFogUniforms(Ht,ue),be.refreshMaterialUniforms(Ht,K,he,ne,we),b0.upload($,ol(Ue),Ht,ot)),K.isShaderMaterial&&K.uniformsNeedUpdate===!0&&(b0.upload($,ol(Ue),Ht,ot),K.uniformsNeedUpdate=!1),K.isSpriteMaterial&&Jt.setValue($,"center",J.center),Jt.setValue($,"modelViewMatrix",J.modelViewMatrix),Jt.setValue($,"normalMatrix",J.normalMatrix),Jt.setValue($,"modelMatrix",J.matrixWorld),K.isShaderMaterial||K.isRawShaderMaterial){const Lt=K.uniformsGroups;for(let zt=0,cn=Lt.length;zt<cn;zt++)if(Ie.isWebGL2){const Fi=Lt[zt];Ke.update(Fi,At),Ke.bind(Fi,At)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return At}function U(I,k){I.ambientLightColor.needsUpdate=k,I.lightProbe.needsUpdate=k,I.directionalLights.needsUpdate=k,I.directionalLightShadows.needsUpdate=k,I.pointLights.needsUpdate=k,I.pointLightShadows.needsUpdate=k,I.spotLights.needsUpdate=k,I.spotLightShadows.needsUpdate=k,I.rectAreaLights.needsUpdate=k,I.hemisphereLights.needsUpdate=k}function Q(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(I,k,z){Je.get(I.texture).__webglTexture=k,Je.get(I.depthTexture).__webglTexture=z;const K=Je.get(I);K.__hasExternalTextures=!0,K.__autoAllocateDepthBuffer=z===void 0,K.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),K.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(I,k){const z=Je.get(I);z.__webglFramebuffer=k,z.__useDefaultFramebuffer=k===void 0},this.setRenderTarget=function(I,k=0,z=0){P=I,T=k,C=z;let K=!0,J=null,ue=!1,fe=!1;if(I){const me=Je.get(I);me.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer($.FRAMEBUFFER,null),K=!1):me.__webglFramebuffer===void 0?ot.setupRenderTarget(I):me.__hasExternalTextures&&ot.rebindTextures(I,Je.get(I.texture).__webglTexture,Je.get(I.depthTexture).__webglTexture);const Ze=I.texture;(Ze.isData3DTexture||Ze.isDataArrayTexture||Ze.isCompressedArrayTexture)&&(fe=!0);const Me=Je.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(Me[k])?J=Me[k][z]:J=Me[k],ue=!0):Ie.isWebGL2&&I.samples>0&&ot.useMultisampledRTT(I)===!1?J=Je.get(I).__webglMultisampledFramebuffer:Array.isArray(Me)?J=Me[z]:J=Me,b.copy(I.viewport),B.copy(I.scissor),q=I.scissorTest}else b.copy(Y).multiplyScalar(he).floor(),B.copy(ae).multiplyScalar(he).floor(),q=ge;if(Ee.bindFramebuffer($.FRAMEBUFFER,J)&&Ie.drawBuffers&&K&&Ee.drawBuffers(I,J),Ee.viewport(b),Ee.scissor(B),Ee.setScissorTest(q),ue){const me=Je.get(I.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+k,me.__webglTexture,z)}else if(fe){const me=Je.get(I.texture),Ze=k||0;$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,me.__webglTexture,z||0,Ze)}L=-1},this.readRenderTargetPixels=function(I,k,z,K,J,ue,fe){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ve=Je.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&fe!==void 0&&(ve=ve[fe]),ve){Ee.bindFramebuffer($.FRAMEBUFFER,ve);try{const me=I.texture,Ze=me.format,Me=me.type;if(Ze!==Ir&&ht.convert(Ze)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Te=Me===Lr&&(_e.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&_e.has("EXT_color_buffer_float"));if(Me!==Js&&ht.convert(Me)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Me===er&&(Ie.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!Te){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}k>=0&&k<=I.width-K&&z>=0&&z<=I.height-J&&$.readPixels(k,z,K,J,ht.convert(Ze),ht.convert(Me),ue)}finally{const me=P!==null?Je.get(P).__webglFramebuffer:null;Ee.bindFramebuffer($.FRAMEBUFFER,me)}}},this.copyFramebufferToTexture=function(I,k,z=0){const K=Math.pow(2,-z),J=Math.floor(k.image.width*K),ue=Math.floor(k.image.height*K);ot.setTexture2D(k,0),$.copyTexSubImage2D($.TEXTURE_2D,z,0,0,I.x,I.y,J,ue),Ee.unbindTexture()},this.copyTextureToTexture=function(I,k,z,K=0){const J=k.image.width,ue=k.image.height,fe=ht.convert(z.format),ve=ht.convert(z.type);ot.setTexture2D(z,0),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,z.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,z.unpackAlignment),k.isDataTexture?$.texSubImage2D($.TEXTURE_2D,K,I.x,I.y,J,ue,fe,ve,k.image.data):k.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,K,I.x,I.y,k.mipmaps[0].width,k.mipmaps[0].height,fe,k.mipmaps[0].data):$.texSubImage2D($.TEXTURE_2D,K,I.x,I.y,fe,ve,k.image),K===0&&z.generateMipmaps&&$.generateMipmap($.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(I,k,z,K,J=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ue=Math.round(I.max.x-I.min.x),fe=Math.round(I.max.y-I.min.y),ve=I.max.z-I.min.z+1,me=ht.convert(K.format),Ze=ht.convert(K.type);let Me;if(K.isData3DTexture)ot.setTexture3D(K,0),Me=$.TEXTURE_3D;else if(K.isDataArrayTexture||K.isCompressedArrayTexture)ot.setTexture2DArray(K,0),Me=$.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,K.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,K.unpackAlignment);const Te=$.getParameter($.UNPACK_ROW_LENGTH),nt=$.getParameter($.UNPACK_IMAGE_HEIGHT),dt=$.getParameter($.UNPACK_SKIP_PIXELS),vt=$.getParameter($.UNPACK_SKIP_ROWS),Tt=$.getParameter($.UNPACK_SKIP_IMAGES),qe=z.isCompressedTexture?z.mipmaps[J]:z.image;$.pixelStorei($.UNPACK_ROW_LENGTH,qe.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,qe.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,I.min.x),$.pixelStorei($.UNPACK_SKIP_ROWS,I.min.y),$.pixelStorei($.UNPACK_SKIP_IMAGES,I.min.z),z.isDataTexture||z.isData3DTexture?$.texSubImage3D(Me,J,k.x,k.y,k.z,ue,fe,ve,me,Ze,qe.data):K.isCompressedArrayTexture?$.compressedTexSubImage3D(Me,J,k.x,k.y,k.z,ue,fe,ve,me,qe.data):$.texSubImage3D(Me,J,k.x,k.y,k.z,ue,fe,ve,me,Ze,qe),$.pixelStorei($.UNPACK_ROW_LENGTH,Te),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,nt),$.pixelStorei($.UNPACK_SKIP_PIXELS,dt),$.pixelStorei($.UNPACK_SKIP_ROWS,vt),$.pixelStorei($.UNPACK_SKIP_IMAGES,Tt),J===0&&K.generateMipmaps&&$.generateMipmap(Me),Ee.unbindTexture()},this.initTexture=function(I){I.isCubeTexture?ot.setTextureCube(I,0):I.isData3DTexture?ot.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?ot.setTexture2DArray(I,0):ot.setTexture2D(I,0),Ee.unbindTexture()},this.resetState=function(){T=0,C=0,P=null,Ee.reset(),it.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Qv?"display-p3":"srgb",n.unpackColorSpace=sn.workingColorSpace===_p?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class bO extends IE{}bO.prototype.isWebGL1Renderer=!0;class ey{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=n}clone(){return new ey(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class ty{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=n,this.far=r}clone(){return new ty(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ep extends jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Nr,this.environmentRotation=new Nr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Ep{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Qd,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Mi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return dO("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Vr=new G;class Va{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix4(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyNormalMatrix(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.transformDirection(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Jr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ft(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Jr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Jr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Jr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Jr(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Qt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Va(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class LE extends Kn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ic;const Th=new G,sc=new G,oc=new G,ac=new Ae,Rh=new Ae,CO=new ct,Eg=new G,Ph=new G,Mg=new G,l2=new Ae,X_=new Ae,u2=new Ae;class TO extends jt{constructor(e=new LE){if(super(),this.isSprite=!0,this.type="Sprite",ic===void 0){ic=new Rt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ep(n,5);ic.setIndex([0,1,2,0,2,3]),ic.setAttribute("position",new Va(r,3,0,!1)),ic.setAttribute("uv",new Va(r,2,3,!1))}this.geometry=ic,this.material=e,this.center=new Ae(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),sc.setFromMatrixScale(this.matrixWorld),CO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),oc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&sc.multiplyScalar(-oc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;bg(Eg.set(-.5,-.5,0),oc,o,sc,i,s),bg(Ph.set(.5,-.5,0),oc,o,sc,i,s),bg(Mg.set(.5,.5,0),oc,o,sc,i,s),l2.set(0,0),X_.set(1,0),u2.set(1,1);let a=e.ray.intersectTriangle(Eg,Ph,Mg,!1,Th);if(a===null&&(bg(Ph.set(-.5,.5,0),oc,o,sc,i,s),X_.set(0,1),a=e.ray.intersectTriangle(Eg,Mg,Ph,!1,Th),a===null))return;const l=e.ray.origin.distanceTo(Th);l<e.near||l>e.far||n.push({distance:l,point:Th.clone(),uv:xi.getInterpolation(Th,Eg,Ph,Mg,l2,X_,u2,new Ae),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bg(t,e,n,r,i,s){ac.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Rh.x=s*ac.x-i*ac.y,Rh.y=i*ac.x+s*ac.y):Rh.copy(ac),t.copy(e),t.x+=Rh.x,t.y+=Rh.y,t.applyMatrix4(CO)}const Cg=new G,c2=new G;class RO extends jt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Cg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Cg);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Cg.setFromMatrixPosition(e.matrixWorld),c2.setFromMatrixPosition(this.matrixWorld);const r=Cg.distanceTo(c2)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const f2=new G,h2=new Kt,d2=new Kt,qW=new G,p2=new ct,Tg=new G,j_=new fr,m2=new ct,J_=new Df;class DE extends Bn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=KA,this.bindMatrix=new ct,this.bindMatrixInverse=new ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new xr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Tg),this.boundingBox.expandByPoint(Tg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new fr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Tg),this.boundingSphere.expandByPoint(Tg)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),j_.copy(this.boundingSphere),j_.applyMatrix4(i),e.ray.intersectsSphere(j_)!==!1&&(m2.copy(i).invert(),J_.copy(e.ray).applyMatrix4(m2),!(this.boundingBox!==null&&J_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,J_)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===KA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===VF?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;h2.fromBufferAttribute(i.attributes.skinIndex,e),d2.fromBufferAttribute(i.attributes.skinWeight,e),f2.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=d2.getComponent(s);if(o!==0){const a=h2.getComponent(s);p2.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(qW.copy(f2).applyMatrix4(p2),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class ny extends jt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Oa extends pn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=En,f=En,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const g2=new ct,e7=new ct;class Mp{constructor(e=[],n=[]){this.uuid=Mi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new ct;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:e7;g2.multiplyMatrices(a,n[s]),g2.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Mp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Oa(n,e,e,Ir,er);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ny),this.bones.push(o),this.boneInverses.push(new ct().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class wf extends Qt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const lc=new ct,v2=new ct,Rg=[],y2=new xr,t7=new ct,Bh=new Bn,Ih=new fr;class FE extends Bn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new wf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,t7)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new xr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,lc),y2.copy(e.boundingBox).applyMatrix4(lc),this.boundingBox.union(y2)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new fr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,lc),Ih.copy(e.boundingSphere).applyMatrix4(lc),this.boundingSphere.union(Ih)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Bh.geometry=this.geometry,Bh.material=this.material,Bh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ih.copy(this.boundingSphere),Ih.applyMatrix4(r),e.ray.intersectsSphere(Ih)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,lc),v2.multiplyMatrices(r,lc),Bh.matrixWorld=v2,Bh.raycast(e,Rg);for(let o=0,a=Rg.length;o<a;o++){const l=Rg[o];l.instanceId=s,l.object=this,n.push(l)}Rg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new wf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Oa(new Float32Array(i*this.count),i,this.count,Kv,er));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function n7(t,e){return t.z-e.z}function r7(t,e){return e.z-t.z}class i7{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const uc="batchId",aa=new ct,x2=new ct,s7=new ct,_2=new ct,$_=new wp,Pg=new xr,Sl=new fr,Lh=new G,K_=new i7,Rr=new Bn,Bg=[];function o7(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class PO extends Bn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Rt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Oa(n,e,e,Ir,er);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:u,itemSize:f,normalized:d}=l,p=new u.constructor(r*f),m=new l.constructor(p,f,d);m.setUsage(l.usage),n.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Qt(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(uc,new Qt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(uc))throw new Error(`BatchedMesh: Geometry cannot use attribute "${uc}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===uc)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xr);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,aa),this.getBoundingBoxAt(i,Pg).applyMatrix4(aa),n.union(Pg))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fr);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,aa),this.getBoundingSphereAt(i,Sl).applyMatrix4(aa),n.union(Sl))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),f=u!==null;if(f&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;d.push(!0),p.push(!0);const _=this._geometryCount;this._geometryCount++,s7.toArray(v,_*16),m.needsUpdate=!0,o.push(i),a.push({start:f?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new xr,sphereInitialized:!1,sphere:new fr});const y=this.geometry.getAttribute(uc);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,_);return y.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.vertexCount;for(const m in r.attributes){if(m===uc)continue;const v=n.getAttribute(m),_=r.getAttribute(m);o7(v,_,l);const y=v.itemSize;for(let g=v.count,S=u;g<S;g++){const A=l+g;for(let E=0;E<y;E++)_.setComponent(A,E,0)}_.needsUpdate=!0}if(i){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,_=a.indexCount;v<_;v++)s.setX(m+v,l);s.needsUpdate=!0}const f=this._bounds[e];n.boundingBox!==null?(f.box.copy(n.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,n.boundingSphere!==null?(f.sphere.copy(n.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const d=this._drawRanges[e],p=n.getAttribute("position");return d.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let f=u.start,d=u.start+u.count;f<d;f++){let p=f;a&&(p=a.getX(p)),s.expandByPoint(Lh.fromBufferAttribute(l,p))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Pg),Pg.getCenter(s.center);const a=o.index,l=o.attributes.position,u=this._drawRanges[e];let f=0;for(let d=u.start,p=u.start+u.count;d<p;d++){let m=d;a&&(m=a.getX(m)),Lh.fromBufferAttribute(l,m),f=Math.max(f,s.center.distanceToSquared(Lh))}s.radius=Math.sqrt(f),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Rr.material=this.material,Rr.geometry.index=l.index,Rr.geometry.attributes=l.attributes,Rr.geometry.boundingBox===null&&(Rr.geometry.boundingBox=new xr),Rr.geometry.boundingSphere===null&&(Rr.geometry.boundingSphere=new fr);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const f=s[u];Rr.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(u,Rr.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Rr.geometry.boundingBox),this.getBoundingSphereAt(u,Rr.geometry.boundingSphere),Rr.raycast(e,Bg);for(let d=0,p=Bg.length;d<p;d++){const m=Bg[d];m.object=this,m.batchId=u,n.push(m)}Bg.length=0}Rr.material=null,Rr.geometry.index=null,Rr.geometry.attributes={},Rr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,f=this._multiDrawStarts,d=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(_2.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),$_.setFromProjectionMatrix(_2,e.coordinateSystem));let v=0;if(this.sortObjects){x2.copy(this.matrixWorld).invert(),Lh.setFromMatrixPosition(r.matrixWorld).applyMatrix4(x2);for(let g=0,S=u.length;g<S;g++)if(u[g]&&l[g]){this.getMatrixAt(g,aa),this.getBoundingSphereAt(g,Sl).applyMatrix4(aa);let A=!1;if(m&&(A=!$_.intersectsSphere(Sl)),!A){const E=Lh.distanceTo(Sl.center);K_.push(p[g],E)}}const _=K_.list,y=this.customSort;y===null?_.sort(s.transparent?r7:n7):y.call(this,_,r);for(let g=0,S=_.length;g<S;g++){const A=_[g];f[v]=A.start*a,d[v]=A.count,v++}K_.reset()}else for(let _=0,y=u.length;_<y;_++)if(u[_]&&l[_]){let g=!1;if(m&&(this.getMatrixAt(_,aa),this.getBoundingSphereAt(_,Sl).applyMatrix4(aa),g=!$_.intersectsSphere(Sl)),!g){const S=p[_];f[v]=S.start*a,d[v]=S.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Ur extends Kn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const A2=new G,S2=new G,w2=new ct,Y_=new Df,Ig=new fr;class Uo extends jt{constructor(e=new Rt,n=new Ur){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)A2.fromBufferAttribute(n,i-1),S2.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=A2.distanceTo(S2);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ig.copy(r.boundingSphere),Ig.applyMatrix4(i),Ig.radius+=s,e.ray.intersectsSphere(Ig)===!1)return;w2.copy(i).invert(),Y_.copy(e.ray).applyMatrix4(w2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new G,f=new G,d=new G,p=new G,m=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),S=Math.min(v.count,o.start+o.count);for(let A=g,E=S-1;A<E;A+=m){const T=v.getX(A),C=v.getX(A+1);if(u.fromBufferAttribute(y,T),f.fromBufferAttribute(y,C),Y_.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||n.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let A=g,E=S-1;A<E;A+=m){if(u.fromBufferAttribute(y,A),f.fromBufferAttribute(y,A+1),Y_.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||n.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const E2=new G,M2=new G;class Ms extends Uo{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)E2.fromBufferAttribute(n,i),M2.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+E2.distanceTo(M2);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class OE extends Uo{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class ry extends Kn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const b2=new ct,bS=new Df,Lg=new fr,Dg=new G;class NE extends jt{constructor(e=new Rt,n=new ry){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Lg.copy(r.boundingSphere),Lg.applyMatrix4(i),Lg.radius+=s,e.ray.intersectsSphere(Lg)===!1)return;b2.copy(i).invert(),bS.copy(e.ray).applyMatrix4(b2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,_=m;v<_;v++){const y=u.getX(v);Dg.fromBufferAttribute(d,y),C2(Dg,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,_=m;v<_;v++)Dg.fromBufferAttribute(d,v),C2(Dg,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function C2(t,e,n,r,i,s,o){const a=bS.distanceSqToPoint(t);if(a<n){const l=new G;bS.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class a7 extends pn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:on,this.magFilter=s!==void 0?s:on,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class l7 extends pn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=En,this.minFilter=En,this.generateMipmaps=!1,this.needsUpdate=!0}}class iy extends pn{constructor(e,n,r,i,s,o,a,l,u,f,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class u7 extends iy{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=vr}}class c7 extends iy{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,qs),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class f7 extends pn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class bs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,m=(o-f)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Ae:new G);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new G,i=[],s=[],o=[],a=new G,l=new ct;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new G)}s[0]=new G,o[0]=new G;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(kn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(kn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class sy extends bs{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new Ae){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*f-m*d+this.aX,u=p*d+m*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class BO extends sy{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function UE(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,d){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,m*=f,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Fg=new G,Q_=new UE,Z_=new UE,q_=new UE;class IO extends bs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new G){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(Fg.subVectors(i[0],i[1]).add(i[0]),u=Fg);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(Fg.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=Fg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),_=Math.pow(d.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(f),m);_<1e-4&&(_=1),v<1e-4&&(v=_),y<1e-4&&(y=_),Q_.initNonuniformCatmullRom(u.x,d.x,p.x,f.x,v,_,y),Z_.initNonuniformCatmullRom(u.y,d.y,p.y,f.y,v,_,y),q_.initNonuniformCatmullRom(u.z,d.z,p.z,f.z,v,_,y)}else this.curveType==="catmullrom"&&(Q_.initCatmullRom(u.x,d.x,p.x,f.x,this.tension),Z_.initCatmullRom(u.y,d.y,p.y,f.y,this.tension),q_.initCatmullRom(u.z,d.z,p.z,f.z,this.tension));return r.set(Q_.calc(l),Z_.calc(l),q_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new G().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function T2(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function h7(t,e){const n=1-t;return n*n*e}function d7(t,e){return 2*(1-t)*t*e}function p7(t,e){return t*t*e}function vd(t,e,n,r){return h7(t,e)+d7(t,n)+p7(t,r)}function m7(t,e){const n=1-t;return n*n*n*e}function g7(t,e){const n=1-t;return 3*n*n*t*e}function v7(t,e){return 3*(1-t)*t*t*e}function y7(t,e){return t*t*t*e}function yd(t,e,n,r,i){return m7(t,e)+g7(t,n)+v7(t,r)+y7(t,i)}class kE extends bs{constructor(e=new Ae,n=new Ae,r=new Ae,i=new Ae){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ae){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(yd(e,i.x,s.x,o.x,a.x),yd(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LO extends bs{constructor(e=new G,n=new G,r=new G,i=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new G){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(yd(e,i.x,s.x,o.x,a.x),yd(e,i.y,s.y,o.y,a.y),yd(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class GE extends bs{constructor(e=new Ae,n=new Ae){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ae){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ae){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DO extends bs{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HE extends bs{constructor(e=new Ae,n=new Ae,r=new Ae){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ae){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(vd(e,i.x,s.x,o.x),vd(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zE extends bs{constructor(e=new G,n=new G,r=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new G){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(vd(e,i.x,s.x,o.x),vd(e,i.y,s.y,o.y),vd(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VE extends bs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ae){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(T2(a,l.x,u.x,f.x,d.x),T2(a,l.y,u.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ae().fromArray(i))}return this}}var av=Object.freeze({__proto__:null,ArcCurve:BO,CatmullRomCurve3:IO,CubicBezierCurve:kE,CubicBezierCurve3:LO,EllipseCurve:sy,LineCurve:GE,LineCurve3:DO,QuadraticBezierCurve:HE,QuadraticBezierCurve3:zE,SplineCurve:VE});class FO extends bs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new av[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new av[i.type]().fromJSON(i))}return this}}class tp extends FO{constructor(e){super(),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new GE(this.currentPoint.clone(),new Ae(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new HE(this.currentPoint.clone(),new Ae(e,n),new Ae(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new kE(this.currentPoint.clone(),new Ae(e,n),new Ae(r,i),new Ae(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new VE(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new sy(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class bp extends Rt{constructor(e=[new Ae(0,-.5),new Ae(.5,0),new Ae(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=kn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/n,d=new G,p=new Ae,m=new G,v=new G,_=new G;let y=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(v)}for(let S=0;S<=n;S++){const A=r+S*f*i,E=Math.sin(A),T=Math.cos(A);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*E,d.y=e[C].y,d.z=e[C].x*T,o.push(d.x,d.y,d.z),p.x=S/n,p.y=C/(e.length-1),a.push(p.x,p.y);const P=l[3*C+0]*E,L=l[3*C+1],N=l[3*C+0]*T;u.push(P,L,N)}}for(let S=0;S<n;S++)for(let A=0;A<e.length-1;A++){const E=A+S*e.length,T=E,C=E+e.length,P=E+e.length+1,L=E+1;s.push(T,C,L),s.push(P,L,C)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bp(e.points,e.segments,e.phiStart,e.phiLength)}}class oy extends bp{constructor(e=1,n=1,r=4,i=8){const s=new tp;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new oy(e.radius,e.length,e.capSegments,e.radialSegments)}}class ay extends Rt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new G,f=new Ae;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=r+d/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ay(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Uf extends Rt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],p=[],m=[];let v=0;const _=[],y=r/2;let g=0;S(),o===!1&&(e>0&&A(!0),n>0&&A(!1)),this.setIndex(f),this.setAttribute("position",new at(d,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(m,2));function S(){const E=new G,T=new G;let C=0;const P=(n-e)/r;for(let L=0;L<=s;L++){const N=[],b=L/s,B=b*(n-e)+e;for(let q=0;q<=i;q++){const se=q/i,X=se*l+a,re=Math.sin(X),ne=Math.cos(X);T.x=B*re,T.y=-b*r+y,T.z=B*ne,d.push(T.x,T.y,T.z),E.set(re,P,ne).normalize(),p.push(E.x,E.y,E.z),m.push(se,1-b),N.push(v++)}_.push(N)}for(let L=0;L<i;L++)for(let N=0;N<s;N++){const b=_[N][L],B=_[N+1][L],q=_[N+1][L+1],se=_[N][L+1];f.push(b,B,se),f.push(B,q,se),C+=6}u.addGroup(g,C,0),g+=C}function A(E){const T=v,C=new Ae,P=new G;let L=0;const N=E===!0?e:n,b=E===!0?1:-1;for(let q=1;q<=i;q++)d.push(0,y*b,0),p.push(0,b,0),m.push(.5,.5),v++;const B=v;for(let q=0;q<=i;q++){const X=q/i*l+a,re=Math.cos(X),ne=Math.sin(X);P.x=N*ne,P.y=y*b,P.z=N*re,d.push(P.x,P.y,P.z),p.push(0,b,0),C.x=re*.5+.5,C.y=ne*.5*b+.5,m.push(C.x,C.y),v++}for(let q=0;q<i;q++){const se=T+q,X=B+q;E===!0?f.push(X,X+1,se):f.push(X+1,X,se),L+=3}u.addGroup(g,L,E===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ly extends Uf{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ly(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tl extends Rt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const A=new G,E=new G,T=new G;for(let C=0;C<n.length;C+=3)m(n[C+0],A),m(n[C+1],E),m(n[C+2],T),l(A,E,T,S)}function l(S,A,E,T){const C=T+1,P=[];for(let L=0;L<=C;L++){P[L]=[];const N=S.clone().lerp(E,L/C),b=A.clone().lerp(E,L/C),B=C-L;for(let q=0;q<=B;q++)q===0&&L===C?P[L][q]=N:P[L][q]=N.clone().lerp(b,q/B)}for(let L=0;L<C;L++)for(let N=0;N<2*(C-L)-1;N++){const b=Math.floor(N/2);N%2===0?(p(P[L][b+1]),p(P[L+1][b]),p(P[L][b])):(p(P[L][b+1]),p(P[L+1][b+1]),p(P[L+1][b]))}}function u(S){const A=new G;for(let E=0;E<s.length;E+=3)A.x=s[E+0],A.y=s[E+1],A.z=s[E+2],A.normalize().multiplyScalar(S),s[E+0]=A.x,s[E+1]=A.y,s[E+2]=A.z}function f(){const S=new G;for(let A=0;A<s.length;A+=3){S.x=s[A+0],S.y=s[A+1],S.z=s[A+2];const E=y(S)/2/Math.PI+.5,T=g(S)/Math.PI+.5;o.push(E,1-T)}v(),d()}function d(){for(let S=0;S<o.length;S+=6){const A=o[S+0],E=o[S+2],T=o[S+4],C=Math.max(A,E,T),P=Math.min(A,E,T);C>.9&&P<.1&&(A<.2&&(o[S+0]+=1),E<.2&&(o[S+2]+=1),T<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,A){const E=S*3;A.x=e[E+0],A.y=e[E+1],A.z=e[E+2]}function v(){const S=new G,A=new G,E=new G,T=new G,C=new Ae,P=new Ae,L=new Ae;for(let N=0,b=0;N<s.length;N+=9,b+=6){S.set(s[N+0],s[N+1],s[N+2]),A.set(s[N+3],s[N+4],s[N+5]),E.set(s[N+6],s[N+7],s[N+8]),C.set(o[b+0],o[b+1]),P.set(o[b+2],o[b+3]),L.set(o[b+4],o[b+5]),T.copy(S).add(A).add(E).divideScalar(3);const B=y(T);_(C,b+0,S,B),_(P,b+2,A,B),_(L,b+4,E,B)}}function _(S,A,E,T){T<0&&S.x===1&&(o[A]=S.x-1),E.x===0&&E.z===0&&(o[A]=T/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tl(e.vertices,e.indices,e.radius,e.details)}}class uy extends tl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new uy(e.radius,e.detail)}}const Og=new G,Ng=new G,e1=new G,Ug=new xi;class OO extends Rt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(eu*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:_,b:y,c:g}=Ug;if(_.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),Ug.getNormal(e1),d[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const A=(S+1)%3,E=d[S],T=d[A],C=Ug[f[S]],P=Ug[f[A]],L=`${E}_${T}`,N=`${T}_${E}`;N in p&&p[N]?(e1.dot(p[N].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),p[N]=null):L in p||(p[L]={index0:u[S],index1:u[A],normal:e1.clone()})}}for(const v in p)if(p[v]){const{index0:_,index1:y}=p[v];Og.fromBufferAttribute(a,_),Ng.fromBufferAttribute(a,y),m.push(Og.x,Og.y,Og.z),m.push(Ng.x,Ng.y,Ng.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nu extends tp{constructor(e){super(e),this.uuid=Mi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new tp().fromJSON(i))}return this}}const x7={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=NO(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,d,p,m;if(r&&(s=E7(t,e,s,n)),t.length>80*n){a=u=t[0],l=f=t[1];for(let v=n;v<i;v+=n)d=t[v],p=t[v+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>f&&(f=p);m=Math.max(u-a,f-l),m=m!==0?32767/m:0}return np(s,o,n,a,l,m,0),o}};function NO(t,e,n,r,i){let s,o;if(i===F7(t,e,n,r)>0)for(s=e;s<n;s+=r)o=R2(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=R2(s,t[s],t[s+1],o);return o&&cy(o,o.next)&&(ip(o),o=o.next),o}function fu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(cy(n,n.next)||Rn(n.prev,n,n.next)===0)){if(ip(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function np(t,e,n,r,i,s,o){if(!t)return;!o&&s&&R7(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?A7(t,r,i,s):_7(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),ip(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=S7(fu(t),e,n),np(t,e,n,r,i,s,2)):o===2&&w7(t,e,n,r,i,s):np(fu(t),e,n,r,i,s,1);break}}}function _7(t){const e=t.prev,n=t,r=t.next;if(Rn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=d&&v.y<=m&&Jc(i,a,s,l,o,u,v.x,v.y)&&Rn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function A7(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Rn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=f<d?f<p?f:p:d<p?d:p,_=a>l?a>u?a:u:l>u?l:u,y=f>d?f>p?f:p:d>p?d:p,g=CS(m,v,e,n,r),S=CS(_,y,e,n,r);let A=t.prevZ,E=t.nextZ;for(;A&&A.z>=g&&E&&E.z<=S;){if(A.x>=m&&A.x<=_&&A.y>=v&&A.y<=y&&A!==i&&A!==o&&Jc(a,f,l,d,u,p,A.x,A.y)&&Rn(A.prev,A,A.next)>=0||(A=A.prevZ,E.x>=m&&E.x<=_&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Jc(a,f,l,d,u,p,E.x,E.y)&&Rn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;A&&A.z>=g;){if(A.x>=m&&A.x<=_&&A.y>=v&&A.y<=y&&A!==i&&A!==o&&Jc(a,f,l,d,u,p,A.x,A.y)&&Rn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;E&&E.z<=S;){if(E.x>=m&&E.x<=_&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Jc(a,f,l,d,u,p,E.x,E.y)&&Rn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function S7(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!cy(i,s)&&UO(i,r,r.next,s)&&rp(i,s)&&rp(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),ip(r),ip(r.next),r=t=s),r=r.next}while(r!==t);return fu(r)}function w7(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&I7(o,a)){let l=kO(o,a);o=fu(o,o.next),l=fu(l,l.next),np(o,e,n,r,i,s,0),np(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function E7(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=NO(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(B7(u));for(i.sort(M7),s=0;s<i.length;s++)n=b7(i[s],n);return n}function M7(t,e){return t.x-e.x}function b7(t,e){const n=C7(t,e);if(!n)return e;const r=kO(n,t);return fu(r,r.next),fu(n,n.next)}function C7(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Jc(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),rp(n,t)&&(d<f||d===f&&(n.x>i.x||n.x===i.x&&T7(i,n)))&&(i=n,f=d)),n=n.next;while(n!==a);return i}function T7(t,e){return Rn(t.prev,t,e.prev)<0&&Rn(e.next,t,t.next)<0}function R7(t,e,n,r){let i=t;do i.z===0&&(i.z=CS(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,P7(i)}function P7(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function CS(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function B7(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Jc(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function I7(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!L7(t,e)&&(rp(t,e)&&rp(e,t)&&D7(t,e)&&(Rn(t.prev,t,e.prev)||Rn(t,e.prev,e))||cy(t,e)&&Rn(t.prev,t,t.next)>0&&Rn(e.prev,e,e.next)>0)}function Rn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function cy(t,e){return t.x===e.x&&t.y===e.y}function UO(t,e,n,r){const i=Gg(Rn(t,e,n)),s=Gg(Rn(t,e,r)),o=Gg(Rn(n,r,t)),a=Gg(Rn(n,r,e));return!!(i!==s&&o!==a||i===0&&kg(t,n,e)||s===0&&kg(t,r,e)||o===0&&kg(n,t,r)||a===0&&kg(n,e,r))}function kg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Gg(t){return t>0?1:t<0?-1:0}function L7(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&UO(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function rp(t,e){return Rn(t.prev,t,t.next)<0?Rn(t,e,t.next)>=0&&Rn(t,t.prev,e)>=0:Rn(t,e,t.prev)<0||Rn(t,t.next,e)<0}function D7(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function kO(t,e){const n=new TS(t.i,t.x,t.y),r=new TS(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function R2(t,e,n,r){const i=new TS(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ip(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function TS(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F7(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class $s{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return $s.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];P2(e),B2(r,e);let o=e.length;n.forEach(P2);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,B2(r,n[l]);const a=x7.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function P2(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function B2(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class fy extends Rt{constructor(e=new nu([new Ae(.5,.5),new Ae(-.5,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:O7;let A,E=!1,T,C,P,L;g&&(A=g.getSpacedPoints(f),E=!0,p=!1,T=g.computeFrenetFrames(f,!1),C=new G,P=new G,L=new G),p||(y=0,m=0,v=0,_=0);const N=a.extractPoints(u);let b=N.shape;const B=N.holes;if(!$s.isClockWise(b)){b=b.reverse();for(let $=0,Ce=B.length;$<Ce;$++){const _e=B[$];$s.isClockWise(_e)&&(B[$]=_e.reverse())}}const se=$s.triangulateShape(b,B),X=b;for(let $=0,Ce=B.length;$<Ce;$++){const _e=B[$];b=b.concat(_e)}function re($,Ce,_e){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),$.clone().addScaledVector(Ce,_e)}const ne=b.length,he=se.length;function H($,Ce,_e){let Ie,Ee,Qe;const Je=$.x-Ce.x,ot=$.y-Ce.y,bt=_e.x-$.x,V=_e.y-$.y,F=Je*Je+ot*ot,pe=Je*V-ot*bt;if(Math.abs(pe)>Number.EPSILON){const xe=Math.sqrt(F),Re=Math.sqrt(bt*bt+V*V),be=Ce.x-ot/xe,St=Ce.y+Je/xe,mt=_e.x-V/Re,De=_e.y+bt/Re,ze=((mt-be)*V-(De-St)*bt)/(Je*V-ot*bt);Ie=be+Je*ze-$.x,Ee=St+ot*ze-$.y;const wt=Ie*Ie+Ee*Ee;if(wt<=2)return new Ae(Ie,Ee);Qe=Math.sqrt(wt/2)}else{let xe=!1;Je>Number.EPSILON?bt>Number.EPSILON&&(xe=!0):Je<-Number.EPSILON?bt<-Number.EPSILON&&(xe=!0):Math.sign(ot)===Math.sign(V)&&(xe=!0),xe?(Ie=-ot,Ee=Je,Qe=Math.sqrt(F)):(Ie=Je,Ee=ot,Qe=Math.sqrt(F/2))}return new Ae(Ie/Qe,Ee/Qe)}const Z=[];for(let $=0,Ce=X.length,_e=Ce-1,Ie=$+1;$<Ce;$++,_e++,Ie++)_e===Ce&&(_e=0),Ie===Ce&&(Ie=0),Z[$]=H(X[$],X[_e],X[Ie]);const Y=[];let ae,ge=Z.concat();for(let $=0,Ce=B.length;$<Ce;$++){const _e=B[$];ae=[];for(let Ie=0,Ee=_e.length,Qe=Ee-1,Je=Ie+1;Ie<Ee;Ie++,Qe++,Je++)Qe===Ee&&(Qe=0),Je===Ee&&(Je=0),ae[Ie]=H(_e[Ie],_e[Qe],_e[Je]);Y.push(ae),ge=ge.concat(ae)}for(let $=0;$<y;$++){const Ce=$/y,_e=m*Math.cos(Ce*Math.PI/2),Ie=v*Math.sin(Ce*Math.PI/2)+_;for(let Ee=0,Qe=X.length;Ee<Qe;Ee++){const Je=re(X[Ee],Z[Ee],Ie);We(Je.x,Je.y,-_e)}for(let Ee=0,Qe=B.length;Ee<Qe;Ee++){const Je=B[Ee];ae=Y[Ee];for(let ot=0,bt=Je.length;ot<bt;ot++){const V=re(Je[ot],ae[ot],Ie);We(V.x,V.y,-_e)}}}const Oe=v+_;for(let $=0;$<ne;$++){const Ce=p?re(b[$],ge[$],Oe):b[$];E?(P.copy(T.normals[0]).multiplyScalar(Ce.x),C.copy(T.binormals[0]).multiplyScalar(Ce.y),L.copy(A[0]).add(P).add(C),We(L.x,L.y,L.z)):We(Ce.x,Ce.y,0)}for(let $=1;$<=f;$++)for(let Ce=0;Ce<ne;Ce++){const _e=p?re(b[Ce],ge[Ce],Oe):b[Ce];E?(P.copy(T.normals[$]).multiplyScalar(_e.x),C.copy(T.binormals[$]).multiplyScalar(_e.y),L.copy(A[$]).add(P).add(C),We(L.x,L.y,L.z)):We(_e.x,_e.y,d/f*$)}for(let $=y-1;$>=0;$--){const Ce=$/y,_e=m*Math.cos(Ce*Math.PI/2),Ie=v*Math.sin(Ce*Math.PI/2)+_;for(let Ee=0,Qe=X.length;Ee<Qe;Ee++){const Je=re(X[Ee],Z[Ee],Ie);We(Je.x,Je.y,d+_e)}for(let Ee=0,Qe=B.length;Ee<Qe;Ee++){const Je=B[Ee];ae=Y[Ee];for(let ot=0,bt=Je.length;ot<bt;ot++){const V=re(Je[ot],ae[ot],Ie);E?We(V.x,V.y+A[f-1].y,A[f-1].x+_e):We(V.x,V.y,d+_e)}}}oe(),Se();function oe(){const $=i.length/3;if(p){let Ce=0,_e=ne*Ce;for(let Ie=0;Ie<he;Ie++){const Ee=se[Ie];Ye(Ee[2]+_e,Ee[1]+_e,Ee[0]+_e)}Ce=f+y*2,_e=ne*Ce;for(let Ie=0;Ie<he;Ie++){const Ee=se[Ie];Ye(Ee[0]+_e,Ee[1]+_e,Ee[2]+_e)}}else{for(let Ce=0;Ce<he;Ce++){const _e=se[Ce];Ye(_e[2],_e[1],_e[0])}for(let Ce=0;Ce<he;Ce++){const _e=se[Ce];Ye(_e[0]+ne*f,_e[1]+ne*f,_e[2]+ne*f)}}r.addGroup($,i.length/3-$,0)}function Se(){const $=i.length/3;let Ce=0;we(X,Ce),Ce+=X.length;for(let _e=0,Ie=B.length;_e<Ie;_e++){const Ee=B[_e];we(Ee,Ce),Ce+=Ee.length}r.addGroup($,i.length/3-$,1)}function we($,Ce){let _e=$.length;for(;--_e>=0;){const Ie=_e;let Ee=_e-1;Ee<0&&(Ee=$.length-1);for(let Qe=0,Je=f+y*2;Qe<Je;Qe++){const ot=ne*Qe,bt=ne*(Qe+1),V=Ce+Ie+ot,F=Ce+Ee+ot,pe=Ce+Ee+bt,xe=Ce+Ie+bt;et(V,F,pe,xe)}}}function We($,Ce,_e){l.push($),l.push(Ce),l.push(_e)}function Ye($,Ce,_e){Et($),Et(Ce),Et(_e);const Ie=i.length/3,Ee=S.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);tt(Ee[0]),tt(Ee[1]),tt(Ee[2])}function et($,Ce,_e,Ie){Et($),Et(Ce),Et(Ie),Et(Ce),Et(_e),Et(Ie);const Ee=i.length/3,Qe=S.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);tt(Qe[0]),tt(Qe[1]),tt(Qe[3]),tt(Qe[1]),tt(Qe[2]),tt(Qe[3])}function Et($){i.push(l[$*3+0]),i.push(l[$*3+1]),i.push(l[$*3+2])}function tt($){s.push($.x),s.push($.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return N7(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new av[i.type]().fromJSON(i)),new fy(r,e.options)}}const O7={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new Ae(s,o),new Ae(a,l),new Ae(u,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],_=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new Ae(o,1-l),new Ae(u,1-d),new Ae(p,1-v),new Ae(_,1-g)]:[new Ae(a,1-l),new Ae(f,1-d),new Ae(m,1-v),new Ae(y,1-g)]}};function N7(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Cp extends tl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Cp(e.radius,e.detail)}}class Tp extends tl{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Tp(e.radius,e.detail)}}class hy extends Rt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let d=e;const p=(n-e)/i,m=new G,v=new Ae;for(let _=0;_<=i;_++){for(let y=0;y<=r;y++){const g=s+y/r*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,f.push(v.x,v.y)}d+=p}for(let _=0;_<i;_++){const y=_*(r+1);for(let g=0;g<r;g++){const S=g+y,A=S,E=S+r+1,T=S+r+2,C=S+1;a.push(A,E,C),a.push(E,T,C)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hy(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dy extends Rt{constructor(e=new nu([new Ae(0,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function u(f){const d=i.length/3,p=f.extractPoints(n);let m=p.shape;const v=p.holes;$s.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const S=v[y];$s.isClockWise(S)===!0&&(v[y]=S.reverse())}const _=$s.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const S=v[y];m=m.concat(S)}for(let y=0,g=m.length;y<g;y++){const S=m[y];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let y=0,g=_.length;y<g;y++){const S=_[y],A=S[0]+d,E=S[1]+d,T=S[2]+d;r.push(A,E,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return U7(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new dy(r,e.curveSegments)}}function U7(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Rp extends Rt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],d=new G,p=new G,m=[],v=[],_=[],y=[];for(let g=0;g<=r;g++){const S=[],A=g/r;let E=0;g===0&&o===0?E=.5/n:g===r&&l===Math.PI&&(E=-.5/n);for(let T=0;T<=n;T++){const C=T/n;d.x=-e*Math.cos(i+C*s)*Math.sin(o+A*a),d.y=e*Math.cos(o+A*a),d.z=e*Math.sin(i+C*s)*Math.sin(o+A*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),_.push(p.x,p.y,p.z),y.push(C+E,1-A),S.push(u++)}f.push(S)}for(let g=0;g<r;g++)for(let S=0;S<n;S++){const A=f[g][S+1],E=f[g][S],T=f[g+1][S],C=f[g+1][S+1];(g!==0||o>0)&&m.push(A,E,C),(g!==r-1||l<Math.PI)&&m.push(E,T,C)}this.setIndex(m),this.setAttribute("position",new at(v,3)),this.setAttribute("normal",new at(_,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class py extends tl{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new py(e.radius,e.detail)}}class my extends Rt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new G,d=new G,p=new G;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const _=v/i*s,y=m/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(_),d.y=(e+n*Math.cos(y))*Math.sin(_),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const _=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,S=(i+1)*m+v;o.push(_,y,S),o.push(y,g,S)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new my(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gy extends Rt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],d=new G,p=new G,m=new G,v=new G,_=new G,y=new G,g=new G;for(let A=0;A<=r;++A){const E=A/r*s*Math.PI*2;S(E,s,o,e,m),S(E+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),_.crossVectors(y,g),g.crossVectors(_,y),_.normalize(),g.normalize();for(let T=0;T<=i;++T){const C=T/i*Math.PI*2,P=-n*Math.cos(C),L=n*Math.sin(C);d.x=m.x+(P*g.x+L*_.x),d.y=m.y+(P*g.y+L*_.y),d.z=m.z+(P*g.z+L*_.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),f.push(A/r),f.push(T/i)}}for(let A=1;A<=r;A++)for(let E=1;E<=i;E++){const T=(i+1)*(A-1)+(E-1),C=(i+1)*A+(E-1),P=(i+1)*A+E,L=(i+1)*(A-1)+E;a.push(T,C,L),a.push(C,P,L)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(f,2));function S(A,E,T,C,P){const L=Math.cos(A),N=Math.sin(A),b=T/E*A,B=Math.cos(b);P.x=C*(2+B)*.5*L,P.y=C*(2+B)*N*.5,P.z=C*Math.sin(b)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class vy extends Rt{constructor(e=new zE(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new G,l=new G,u=new Ae;let f=new G;const d=[],p=[],m=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new at(d,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(m,2));function _(){for(let A=0;A<n;A++)y(A);y(s===!1?n:0),S(),g()}function y(A){f=e.getPointAt(A/n,f);const E=o.normals[A],T=o.binormals[A];for(let C=0;C<=i;C++){const P=C/i*Math.PI*2,L=Math.sin(P),N=-Math.cos(P);l.x=N*E.x+L*T.x,l.y=N*E.y+L*T.y,l.z=N*E.z+L*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let A=1;A<=n;A++)for(let E=1;E<=i;E++){const T=(i+1)*(A-1)+(E-1),C=(i+1)*A+(E-1),P=(i+1)*A+E,L=(i+1)*(A-1)+E;v.push(T,C,L),v.push(C,P,L)}}function S(){for(let A=0;A<=n;A++)for(let E=0;E<=i;E++)u.x=A/n,u.y=E/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new vy(new av[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class GO extends Rt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new G,s=new G;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const d=l[u],p=d.start,m=d.count;for(let v=p,_=p+m;v<_;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),S=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,S),I2(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),I2(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function I2(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var L2=Object.freeze({__proto__:null,BoxGeometry:gu,CapsuleGeometry:oy,CircleGeometry:ay,ConeGeometry:ly,CylinderGeometry:Uf,DodecahedronGeometry:uy,EdgesGeometry:OO,ExtrudeGeometry:fy,IcosahedronGeometry:Cp,LatheGeometry:bp,OctahedronGeometry:Tp,PlaneGeometry:Ff,PolyhedronGeometry:tl,RingGeometry:hy,ShapeGeometry:dy,SphereGeometry:Rp,TetrahedronGeometry:py,TorusGeometry:my,TorusKnotGeometry:gy,TubeGeometry:vy,WireframeGeometry:GO});class HO extends Kn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class zO extends Ti{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Pp extends Kn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Nr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eo extends Pp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return kn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class VO extends Kn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Nr,this.combine=xp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WO extends Kn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class XO extends Kn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class WE extends Kn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Nr,this.combine=xp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jO extends Kn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=el,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JO extends Ur{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $l(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function $O(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KO(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function RS(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function XE(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function k7(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<n||v>=r)){d.push(u.times[m]);for(let _=0;_<f;++_)p.push(u.values[m*f+_])}}d.length!==0&&(u.times=$l(d,u.times.constructor),u.values=$l(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function G7(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let _;if(s<=a.times[0]){const g=f,S=d-f;_=a.values.slice(g,S)}else if(s>=a.times[v]){const g=v*d+f,S=g+d-f;_=a.values.slice(g,S)}else{const g=a.createInterpolant(),S=f,A=d-f;g.evaluate(s),_=g.resultBuffer.slice(S,A)}l==="quaternion"&&new Wn().fromArray(_).normalize().conjugate().toArray(_);const y=u.times.length;for(let g=0;g<y;++g){const S=g*m+p;if(l==="quaternion")Wn.multiplyQuaternionsFlat(u.values,S,_,0,u.values,S);else{const A=m-p*2;for(let E=0;E<A;++E)u.values[S+E]-=_[E]}}}return t.blendMode=yE,t}const H7={convertArray:$l,isTypedArray:$O,getKeyframeOrder:KO,sortedArray:RS,flattenJSON:XE,subclip:k7,makeClipAdditive:G7};class kf{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class YO extends kf{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wl,endingEnd:Wl}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Xl:s=e,a=2*n-r;break;case Jd:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Xl:o=e,l=2*r-n;break;case Jd:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),_=v*v,y=_*v,g=-p*y+2*p*_-p*v,S=(1+p)*y+(-1.5-2*p)*_+(-.5+p)*v+1,A=(-1-m)*y+(1.5+m)*_+.5*v,E=m*y-m*_;for(let T=0;T!==a;++T)s[T]=g*o[f+T]+S*o[u+T]+A*o[l+T]+E*o[d+T];return s}}class jE extends kf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-n)/(i-n),d=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*f;return s}}class QO extends kf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Cs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$l(n,this.TimeBufferType),this.values=$l(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:$l(e.times,Array),values:$l(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new QO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new YO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case _f:n=this.InterpolantFactoryMethodDiscrete;break;case cu:n=this.InterpolantFactoryMethodLinear;break;case M0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _f;case this.InterpolantFactoryMethodLinear:return cu;case this.InterpolantFactoryMethodSmooth:return M0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&$O(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===M0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let v=0;v!==r;++v){const _=n[d+v];if(_!==n[p+v]||_!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Cs.prototype.TimeBufferType=Float32Array;Cs.prototype.ValueBufferType=Float32Array;Cs.prototype.DefaultInterpolation=cu;class vu extends Cs{}vu.prototype.ValueTypeName="bool";vu.prototype.ValueBufferType=Array;vu.prototype.DefaultInterpolation=_f;vu.prototype.InterpolantFactoryMethodLinear=void 0;vu.prototype.InterpolantFactoryMethodSmooth=void 0;class JE extends Cs{}JE.prototype.ValueTypeName="color";class Ef extends Cs{}Ef.prototype.ValueTypeName="number";class ZO extends kf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let f=u+a;u!==f;u+=4)Wn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Wa extends Cs{InterpolantFactoryMethodLinear(e){return new ZO(this.times,this.values,this.getValueSize(),e)}}Wa.prototype.ValueTypeName="quaternion";Wa.prototype.DefaultInterpolation=cu;Wa.prototype.InterpolantFactoryMethodSmooth=void 0;class yu extends Cs{}yu.prototype.ValueTypeName="string";yu.prototype.ValueBufferType=Array;yu.prototype.DefaultInterpolation=_f;yu.prototype.InterpolantFactoryMethodLinear=void 0;yu.prototype.InterpolantFactoryMethodSmooth=void 0;class Mf extends Cs{}Mf.prototype.ValueTypeName="vector";class bf{constructor(e,n=-1,r,i=Yv){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Mi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(V7(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Cs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=KO(l);l=RS(l,1,f),u=RS(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Ef(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const d=f[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,v,_){if(m.length!==0){const y=[],g=[];XE(m,y,g,v),y.length!==0&&_.push(new d(p,y,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)m[p[v].morphTargets[_]]=-1;for(const _ in m){const y=[],g=[];for(let S=0;S!==p[v].morphTargets.length;++S){const A=p[v];y.push(A.time),g.push(A.morphTarget===_?1:0)}i.push(new Ef(".morphTargetInfluence["+_+"]",y,g))}l=m.length*o}else{const m=".bones["+n[d].name+"]";r(Mf,m+".position",p,"pos",i),r(Wa,m+".quaternion",p,"rot",i),r(Mf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function z7(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ef;case"vector":case"vector2":case"vector3":case"vector4":return Mf;case"color":return JE;case"quaternion":return Wa;case"bool":case"boolean":return vu;case"string":return yu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function V7(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=z7(t.type);if(t.times===void 0){const n=[],r=[];XE(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Mo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class $E{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return u.push(f,d),this},this.removeHandler=function(f){const d=u.indexOf(f);return d!==-1&&u.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const qO=new $E;class kr{constructor(e){this.manager=e!==void 0?e:qO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}kr.DEFAULT_MATERIAL_NAME="__DEFAULT";const po={};class W7 extends Error{constructor(e,n){super(e),this.response=n}}class Ri extends kr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Mo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(po[e]!==void 0){po[e].push({onLoad:n,onProgress:r,onError:i});return}po[e]=[],po[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=po[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let _=0;const y=new ReadableStream({start(g){S();function S(){d.read().then(({done:A,value:E})=>{if(A)g.close();else{_+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let C=0,P=f.length;C<P;C++){const L=f[C];L.onProgress&&L.onProgress(T)}g.enqueue(E),S()}})}}});return new Response(y)}else throw new W7(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Mo.add(e,u);const f=po[e];delete po[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=po[e];if(f===void 0)throw this.manager.itemError(e),u;delete po[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class X7 extends kr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ri(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=bf.parse(e[r]);n.push(i)}return n}}class j7 extends kr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new iy,l=new Ri(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=on),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=on),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class sp extends kr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=qd("img");function l(){f(),Mo.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){f(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class eN extends kr{constructor(e){super(e)}load(e,n,r,i){const s=new Sp;s.colorSpace=Ki;const o=new sp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class KE extends kr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Oa,a=new Ri(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:vr,o.wrapT=u.wrapT!==void 0?u.wrapT:vr,o.magFilter=u.magFilter!==void 0?u.magFilter:on,o.minFilter=u.minFilter!==void 0?u.minFilter:on,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ns),u.mipmapCount===1&&(o.minFilter=on),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class Bp extends kr{constructor(e){super(e)}load(e,n,r,i){const s=new pn,o=new sp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class nl extends jt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class tN extends nl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new He(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const t1=new ct,D2=new G,F2=new G;class YE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wp,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;D2.setFromMatrixPosition(e.matrixWorld),n.position.copy(D2),F2.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(F2),n.updateMatrixWorld(),t1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(t1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class J7 extends YE{constructor(){super(new qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Af*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class QE extends nl{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new J7}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const O2=new ct,Dh=new G,n1=new G;class $7 extends YE{constructor(){super(new qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Dh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Dh),n1.copy(r.position),n1.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(n1),r.updateMatrixWorld(),i.makeTranslation(-Dh.x,-Dh.y,-Dh.z),O2.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O2)}}class ZE extends nl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new $7}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class K7 extends YE{constructor(){super(new Of(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qE extends nl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.shadow=new K7}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class nN extends nl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class rN extends nl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class iN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class sN extends nl{constructor(e=new iN,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class yy extends kr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ri(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=yy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new He().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ae().fromArray(o.value);break;case"v3":i.uniforms[s].value=new G().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Kt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Dt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ct().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ae().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:HO,SpriteMaterial:LE,RawShaderMaterial:zO,ShaderMaterial:Ti,PointsMaterial:ry,MeshPhysicalMaterial:eo,MeshStandardMaterial:Pp,MeshPhongMaterial:VO,MeshToonMaterial:WO,MeshNormalMaterial:XO,MeshLambertMaterial:WE,MeshDepthMaterial:PE,MeshDistanceMaterial:BE,MeshBasicMaterial:Ai,MeshMatcapMaterial:jO,LineDashedMaterial:JO,LineBasicMaterial:Ur,Material:Kn};return new n[e]}}class Ks{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class oN extends Rt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class aN extends kr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ri(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),S=Wc(y.type,g),A=new Ep(S,y.stride);return A.uuid=y.uuid,n[v]=A,A}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new oN:new Rt,a=e.data.index;if(a!==void 0){const m=Wc(a.type,a.array);o.setIndex(new Qt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let _;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);_=new Va(y,v.itemSize,v.offset,v.normalized)}else{const y=Wc(v.type,v.array),g=v.isInstancedBufferAttribute?wf:Qt;_=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],_=[];for(let y=0,g=v.length;y<g;y++){const S=v[y];let A;if(S.isInterleavedBufferAttribute){const E=i(e.data,S.data);A=new Va(E,S.itemSize,S.offset,S.normalized)}else{const E=Wc(S.type,S.array);A=new Qt(E,S.itemSize,S.normalized)}S.name!==void 0&&(A.name=S.name),_.push(A)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const _=d[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new G;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new fr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Y7 extends kr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Ks.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ri(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ks.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ri(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new nu().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Mp().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new aN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in L2?a=L2[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new yy;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=bf.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:Wc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new $E(n);s=new sp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Oa(g.data,g.width,g.height)))}i[d.uuid]=new jl(m)}else{const m=a(d.url);i[d.uuid]=new jl(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Wc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new sp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Oa(v.data,v.width,v.height)))}r[l.uuid]=new jl(f)}else{const f=await s(l.url);r[l.uuid]=new jl(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let f;Array.isArray(u)?(f=new Sp,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new Oa:f=new pn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,Q7)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],N2),f.wrapT=r(a.wrap[1],N2)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,U2)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,U2)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const y=p[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,d;switch(e.type){case"Scene":o=new ep,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new ty(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new ey(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Of(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new nN(e.color,e.intensity);break;case"DirectionalLight":o=new qE(e.color,e.intensity);break;case"PointLight":o=new ZE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new rN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new QE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new tN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new sN().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new DE(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new Bn(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new FE(f,d,p),o.instanceMatrix=new wf(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new wf(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":f=a(e.geometry),d=l(e.material),o=new PO(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(_=>{const y=new xr;y.min.fromArray(_.boxMin),y.max.fromArray(_.boxMax);const g=new fr;return g.radius=_.sphereRadius,g.center.fromArray(_.sphereCenter),{boxInitialized:_.boxInitialized,box:y,sphereInitialized:_.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":o=new RO;break;case"Line":o=new Uo(a(e.geometry),l(e.material));break;case"LineLoop":o=new OE(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ms(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new NE(a(e.geometry),l(e.material));break;case"Sprite":o=new TO(l(e.material));break;case"Group":o=new Eo;break;case"Bone":o=new ny;break;default:o=new jt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],_=o.getObjectByProperty("uuid",v.object);_!==void 0&&o.addLevel(_,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Q7={UVMapping:Jv,CubeReflectionMapping:qs,CubeRefractionMapping:Ha,EquirectangularReflectionMapping:yf,EquirectangularRefractionMapping:Xd,CubeUVReflectionMapping:Lf},N2={RepeatWrapping:za,ClampToEdgeWrapping:vr,MirroredRepeatWrapping:xf},U2={NearestFilter:En,NearestMipmapNearestFilter:jd,NearestMipmapLinearFilter:Aa,LinearFilter:on,LinearMipmapNearestFilter:of,LinearMipmapLinearFilter:ns};class lN extends kr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mo.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Mo.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Mo.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Mo.add(e,l),s.manager.itemStart(e)}}let Hg;class eM{static getContext(){return Hg===void 0&&(Hg=new(window.AudioContext||window.webkitAudioContext)),Hg}static setContext(e){Hg=e}}class Z7 extends kr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ri(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);eM.getContext().decodeAudioData(u,function(d){n(d)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const k2=new ct,G2=new ct,wl=new ct;class q7{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,wl.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(eu*n.fov*.5)/n.zoom;let a,l;G2.elements[12]=-i,k2.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,wl.elements[0]=2*n.near/(l-a),wl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(wl),a=-o*n.aspect-s,l=o*n.aspect-s,wl.elements[0]=2*n.near/(l-a),wl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(wl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(G2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(k2)}}class tM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=H2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=H2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function H2(){return(typeof performance>"u"?Date:performance).now()}const El=new G,z2=new Wn,eX=new G,Ml=new G;class tX extends jt{constructor(){super(),this.type="AudioListener",this.context=eM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(El,z2,eX),Ml.set(0,0,-1).applyQuaternion(z2),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(El.x,i),n.positionY.linearRampToValueAtTime(El.y,i),n.positionZ.linearRampToValueAtTime(El.z,i),n.forwardX.linearRampToValueAtTime(Ml.x,i),n.forwardY.linearRampToValueAtTime(Ml.y,i),n.forwardZ.linearRampToValueAtTime(Ml.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(El.x,El.y,El.z),n.setOrientation(Ml.x,Ml.y,Ml.z,r.x,r.y,r.z)}}class uN extends jt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const bl=new G,V2=new Wn,nX=new G,Cl=new G;class rX extends uN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bl,V2,nX),Cl.set(0,0,1).applyQuaternion(V2);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(bl.x,r),n.positionY.linearRampToValueAtTime(bl.y,r),n.positionZ.linearRampToValueAtTime(bl.z,r),n.orientationX.linearRampToValueAtTime(Cl.x,r),n.orientationY.linearRampToValueAtTime(Cl.y,r),n.orientationZ.linearRampToValueAtTime(Cl.z,r)}else n.setPosition(bl.x,bl.y,bl.z),n.setOrientation(Cl.x,Cl.y,Cl.z)}}class iX{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class cN{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Wn.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Wn.multiplyQuaternionsFlat(e,o,e,n,e,r),Wn.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const nM="\\[\\]\\.:\\/",sX=new RegExp("["+nM+"]","g"),rM="[^"+nM+"]",oX="[^"+nM.replace("\\.","")+"]",aX=/((?:WC+[\/:])*)/.source.replace("WC",rM),lX=/(WCOD+)?/.source.replace("WCOD",oX),uX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rM),cX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rM),fX=new RegExp("^"+aX+lX+uX+cX+"$"),hX=["material","materials","bones","map"];class dX{constructor(e,n,r){const i=r||$t.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class $t{constructor(e,n,r){this.path=n,this.parsedPath=r||$t.parseTrackName(n),this.node=$t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new $t.Composite(e,n,r):new $t(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(sX,"")}static parseTrackName(e){const n=fX.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);hX.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=$t.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$t.Composite=dX;$t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$t.prototype.GetterByBindingType=[$t.prototype._getValue_direct,$t.prototype._getValue_array,$t.prototype._getValue_arrayElement,$t.prototype._getValue_toArray];$t.prototype.SetterByBindingTypeAndVersioning=[[$t.prototype._setValue_direct,$t.prototype._setValue_direct_setNeedsUpdate,$t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_array,$t.prototype._setValue_array_setNeedsUpdate,$t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_arrayElement,$t.prototype._setValue_arrayElement_setNeedsUpdate,$t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_fromArray,$t.prototype._setValue_fromArray_setNeedsUpdate,$t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class pX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Mi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let _=0,y=o;_!==y;++_)s[_].push(new $t(p,r[_],i[_]))}else if(v<u){a=e[v];const _=--u,y=e[_];n[y.uuid]=v,e[v]=y,n[m]=_,e[_]=p;for(let g=0,S=o;g!==S;++g){const A=s[g],E=A[_];let T=A[v];A[v]=E,T===void 0&&(T=new $t(p,r[g],i[g])),A[_]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=s){const d=s++,p=e[d];n[p.uuid]=f,e[f]=p,n[u]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const _=r[m],y=_[d],g=_[f];_[f]=y,_[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,d=n[f];if(d!==void 0)if(delete n[f],d<s){const p=--s,m=e[p],v=--o,_=e[v];n[m.uuid]=d,e[d]=m,n[_.uuid]=p,e[p]=_,e.pop();for(let y=0,g=i;y!==g;++y){const S=r[y],A=S[p],E=S[v];S[d]=A,S[p]=E,S.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,_=i;v!==_;++v){const y=r[v];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=f,m=l.length;p!==m;++p){const v=l[p];d[p]=new $t(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class fN{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Wl,endingEnd:Wl};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case yE:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case Yv:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===qF;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===QF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Xl,i.endingEnd=Xl):(e?i.endingStart=this.zeroSlopeAtStart?Xl:Wl:i.endingStart=Jd,n?i.endingEnd=this.zeroSlopeAtEnd?Xl:Wl:i.endingEnd=Jd)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const mX=new Float32Array(1);class gX extends Ho{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const _=n&&n._propertyBindings[d].binding.parsedPath;v=new cN($t.create(r,m,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new jE(new Float32Array(2),new Float32Array(2),1,mX),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?bf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Yv),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new fN(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?bf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=f,n[f]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class iM{constructor(e){this.value=e}clone(){return new iM(this.value.clone===void 0?this.value:this.value.clone())}}let vX=0;class yX extends Ho{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:vX++}),this.name="",this.usage=Qd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class xX extends Ep{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class _X{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const W2=new ct;class sM{constructor(e,n,r=0,i=1/0){this.ray=new Df(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new tu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return W2.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(W2),this}intersectObject(e,n=!0,r=[]){return PS(e,this,r,n),r.sort(X2),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)PS(e[i],this,r,n);return r.sort(X2),r}}function X2(t,e){return t.distance-e.distance}function PS(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)PS(i[s],e,n,!0)}}class hN{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(kn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class AX{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const j2=new Ae;class SX{constructor(e=new Ae(1/0,1/0),n=new Ae(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=j2.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,j2).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const J2=new G,zg=new G;class wX{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){J2.subVectors(e,this.start),zg.subVectors(this.end,this.start);const r=zg.dot(zg);let s=zg.dot(J2)/r;return n&&(s=kn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $2=new G;class EX extends jt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new at(i,3));const s=new Ur({fog:!1,toneMapped:!1});this.cone=new Ms(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),$2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const la=new G,Vg=new ct,r1=new ct;class MX extends Ms{constructor(e){const n=dN(e),r=new Rt,i=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(s,3));const l=new Ur({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");r1.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Vg.multiplyMatrices(r1,a.matrixWorld),la.setFromMatrixPosition(Vg),i.setXYZ(o,la.x,la.y,la.z),Vg.multiplyMatrices(r1,a.parent.matrixWorld),la.setFromMatrixPosition(Vg),i.setXYZ(o+1,la.x,la.y,la.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function dN(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,dN(t.children[n]));return e}class bX extends Bn{constructor(e,n,r){const i=new Rp(n,4,2),s=new Ai({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const CX=new G,K2=new He,Y2=new He;class TX extends jt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Tp(n);i.rotateY(Math.PI*.5),this.material=new Ai({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Qt(o,3)),this.add(new Bn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");K2.copy(this.light.color),Y2.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?K2:Y2;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(CX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class RX extends Ms{constructor(e=10,n=10,r=4473924,i=8947848){r=new He(r),i=new He(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const _=p===s?r:i;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const f=new Rt;f.setAttribute("position",new at(l,3)),f.setAttribute("color",new at(u,3));const d=new Ur({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PX extends Ms{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const _=d&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let v=0;v<i;v++){let _=v/i*(Math.PI*2),y=Math.sin(_)*m,g=Math.cos(_)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),_=(v+1)/i*(Math.PI*2),y=Math.sin(_)*m,g=Math.cos(_)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const u=new Rt;u.setAttribute("position",new at(a,3)),u.setAttribute("color",new at(l,3));const f=new Ur({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Q2=new G,Wg=new G,Z2=new G;class BX extends jt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Rt;i.setAttribute("position",new at([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ur({fog:!1,toneMapped:!1});this.lightPlane=new Uo(i,s),this.add(this.lightPlane),i=new Rt,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new Uo(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Q2.setFromMatrixPosition(this.light.matrixWorld),Wg.setFromMatrixPosition(this.light.target.matrixWorld),Z2.subVectors(Wg,Q2),this.lightPlane.lookAt(Wg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wg),this.targetLine.scale.z=Z2.length()}}const Xg=new G,Nn=new Ap;class IX extends Ms{constructor(e){const n=new Rt,r=new Ur({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,_){l(v),l(_)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new at(i,3)),n.setAttribute("color",new at(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new He(16755200),f=new He(16711680),d=new He(43775),p=new He(16777215),m=new He(3355443);this.setColors(u,f,d,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Nn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Hn("c",n,e,Nn,0,0,-1),Hn("t",n,e,Nn,0,0,1),Hn("n1",n,e,Nn,-r,-i,-1),Hn("n2",n,e,Nn,r,-i,-1),Hn("n3",n,e,Nn,-r,i,-1),Hn("n4",n,e,Nn,r,i,-1),Hn("f1",n,e,Nn,-r,-i,1),Hn("f2",n,e,Nn,r,-i,1),Hn("f3",n,e,Nn,-r,i,1),Hn("f4",n,e,Nn,r,i,1),Hn("u1",n,e,Nn,r*.7,i*1.1,-1),Hn("u2",n,e,Nn,-r*.7,i*1.1,-1),Hn("u3",n,e,Nn,0,i*2,-1),Hn("cf1",n,e,Nn,-r,0,1),Hn("cf2",n,e,Nn,r,0,1),Hn("cf3",n,e,Nn,0,-i,1),Hn("cf4",n,e,Nn,0,i,1),Hn("cn1",n,e,Nn,-r,0,-1),Hn("cn2",n,e,Nn,r,0,-1),Hn("cn3",n,e,Nn,0,-i,-1),Hn("cn4",n,e,Nn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hn(t,e,n,r,i,s,o){Xg.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],Xg.x,Xg.y,Xg.z)}}const jg=new xr;class LX extends Ms{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Rt;s.setIndex(new Qt(r,1)),s.setAttribute("position",new Qt(i,3)),super(s,new Ur({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&jg.setFromObject(this.object),jg.isEmpty())return;const n=jg.min,r=jg.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class DX extends Ms{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Rt;s.setIndex(new Qt(r,1)),s.setAttribute("position",new at(i,3)),super(s,new Ur({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class FX extends Uo{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Rt;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new Ur({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new Bn(l,new Ai({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const q2=new G;let Jg,i1;class OX extends jt{constructor(e=new G(0,0,1),n=new G(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Jg===void 0&&(Jg=new Rt,Jg.setAttribute("position",new at([0,0,0,0,1,0],3)),i1=new Uf(0,.5,1,5,1),i1.translate(0,-.5,0)),this.position.copy(n),this.line=new Uo(Jg,new Ur({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Bn(i1,new Ai({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{q2.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(q2,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class NX extends Ms{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Rt;i.setAttribute("position",new at(n,3)),i.setAttribute("color",new at(r,3));const s=new Ur({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new He,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UX{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new tp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const S=[];for(let A=0,E=g.length;A<E;A++){const T=g[A],C=new nu;C.curves=T.curves,S.push(C)}return S}function r(g,S){const A=S.length;let E=!1;for(let T=A-1,C=0;C<A;T=C++){let P=S[T],L=S[C],N=L.x-P.x,b=L.y-P.y;if(Math.abs(b)>Number.EPSILON){if(b<0&&(P=S[C],N=-N,L=S[T],b=-b),g.y<P.y||g.y>L.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const B=b*(g.x-P.x)-N*(g.y-P.y);if(B===0)return!0;if(B<0)continue;E=!E}}else{if(g.y!==P.y)continue;if(L.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=L.x)return!0}}return E}const i=$s.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new nu,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],p=[];let m=[],v=0,_;p[v]=void 0,m[v]=[];for(let g=0,S=s.length;g<S;g++)a=s[g],_=a.getPoints(),o=i(_),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new nu,p:_},p[v].s.curves=a.curves,f&&v++,m[v]=[]):m[v].push({h:a,p:_[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,S=0;for(let A=0,E=p.length;A<E;A++)d[A]=[];for(let A=0,E=p.length;A<E;A++){const T=m[A];for(let C=0;C<T.length;C++){const P=T[C];let L=!0;for(let N=0;N<p.length;N++)r(P.p,p[N].p)&&(A!==N&&S++,L?(L=!1,d[N].push(P)):g=!0);L&&d[A].push(P)}}S>0&&g===!1&&(m=d)}let y;for(let g=0,S=p.length;g<S;g++){l=p[g].s,u.push(l),y=m[g];for(let A=0,E=y.length;A<E;A++)l.holes.push(y[A].h)}return u}}class kX extends Ci{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mu);const GX=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cE,AddEquation:_a,AddOperation:OF,AdditiveAnimationBlendMode:yE,AdditiveBlending:WA,AgXToneMapping:HF,AlphaFormat:jF,AlwaysCompare:cO,AlwaysDepth:RF,AlwaysStencilFunc:AS,AmbientLight:nN,AnimationAction:fN,AnimationClip:bf,AnimationLoader:X7,AnimationMixer:gX,AnimationObjectGroup:pX,AnimationUtils:H7,ArcCurve:BO,ArrayCamera:MO,ArrowHelper:OX,AttachedBindMode:KA,Audio:uN,AudioAnalyser:iX,AudioContext:eM,AudioListener:tX,AudioLoader:Z7,AxesHelper:NX,BackSide:Kr,BasicDepthPacking:tO,BasicShadowMap:fF,BatchedMesh:PO,Bone:ny,BooleanKeyframeTrack:vu,Box2:SX,Box3:xr,Box3Helper:DX,BoxGeometry:gu,BoxHelper:LX,BufferAttribute:Qt,BufferGeometry:Rt,BufferGeometryLoader:aN,ByteType:WF,Cache:Mo,Camera:Ap,CameraHelper:IX,CanvasTexture:f7,CapsuleGeometry:oy,CatmullRomCurve3:IO,CineonToneMapping:kF,CircleGeometry:ay,ClampToEdgeWrapping:vr,Clock:tM,Color:He,ColorKeyframeTrack:JE,ColorManagement:sn,CompressedArrayTexture:u7,CompressedCubeTexture:c7,CompressedTexture:iy,CompressedTextureLoader:j7,ConeGeometry:ly,ConstantAlphaFactor:bF,ConstantColorFactor:EF,CubeCamera:vO,CubeReflectionMapping:qs,CubeRefractionMapping:Ha,CubeTexture:Sp,CubeTextureLoader:eN,CubeUVReflectionMapping:Lf,CubicBezierCurve:kE,CubicBezierCurve3:LO,CubicInterpolant:YO,CullFaceBack:VA,CullFaceFront:cF,CullFaceFrontBack:e5,CullFaceNone:uF,Curve:bs,CurvePath:FO,CustomBlending:hF,CustomToneMapping:GF,CylinderGeometry:Uf,Cylindrical:AX,Data3DTexture:wE,DataArrayTexture:Zv,DataTexture:Oa,DataTextureLoader:KE,DataUtils:Jl,DecrementStencilOp:l5,DecrementWrapStencilOp:c5,DefaultLoadingManager:qO,DepthFormat:Fa,DepthStencilFormat:uu,DepthTexture:RE,DetachedBindMode:VF,DirectionalLight:qE,DirectionalLightHelper:BX,DiscreteInterpolant:QO,DisplayP3ColorSpace:Qv,DodecahedronGeometry:uy,DoubleSide:Zi,DstAlphaFactor:xF,DstColorFactor:AF,DynamicCopyUsage:M5,DynamicDrawUsage:x5,DynamicReadUsage:S5,EdgesGeometry:OO,EllipseCurve:sy,EqualCompare:oO,EqualDepth:BF,EqualStencilFunc:p5,EquirectangularReflectionMapping:yf,EquirectangularRefractionMapping:Xd,Euler:Nr,EventDispatcher:Ho,ExtrudeGeometry:fy,FileLoader:Ri,Float16BufferAttribute:u8,Float32BufferAttribute:at,FloatType:er,Fog:ty,FogExp2:ey,FramebufferTexture:l7,FrontSide:Zs,Frustum:wp,GLBufferAttribute:_X,GLSL1:C5,GLSL3:SS,GreaterCompare:aO,GreaterDepth:LF,GreaterEqualCompare:uO,GreaterEqualDepth:IF,GreaterEqualStencilFunc:y5,GreaterStencilFunc:g5,GridHelper:RX,Group:Eo,HalfFloatType:Lr,HemisphereLight:tN,HemisphereLightHelper:TX,IcosahedronGeometry:Cp,ImageBitmapLoader:lN,ImageLoader:sp,ImageUtils:SE,IncrementStencilOp:a5,IncrementWrapStencilOp:u5,InstancedBufferAttribute:wf,InstancedBufferGeometry:oN,InstancedInterleavedBuffer:xX,InstancedMesh:FE,Int16BufferAttribute:a8,Int32BufferAttribute:l8,Int8BufferAttribute:i8,IntType:fE,InterleavedBuffer:Ep,InterleavedBufferAttribute:Va,Interpolant:kf,InterpolateDiscrete:_f,InterpolateLinear:cu,InterpolateSmooth:M0,InvertStencilOp:f5,KeepStencilOp:Ll,KeyframeTrack:Cs,LOD:RO,LatheGeometry:bp,Layers:tu,LessCompare:sO,LessDepth:PF,LessEqualCompare:_E,LessEqualDepth:Wd,LessEqualStencilFunc:m5,LessStencilFunc:d5,Light:nl,LightProbe:sN,Line:Uo,Line3:wX,LineBasicMaterial:Ur,LineCurve:GE,LineCurve3:DO,LineDashedMaterial:JO,LineLoop:OE,LineSegments:Ms,LinearDisplayP3ColorSpace:_p,LinearFilter:on,LinearInterpolant:jE,LinearMipMapLinearFilter:i5,LinearMipMapNearestFilter:r5,LinearMipmapLinearFilter:ns,LinearMipmapNearestFilter:of,LinearSRGBColorSpace:Go,LinearToneMapping:NF,LinearTransfer:$d,Loader:kr,LoaderUtils:Ks,LoadingManager:$E,LoopOnce:QF,LoopPingPong:qF,LoopRepeat:ZF,LuminanceAlphaFormat:$F,LuminanceFormat:JF,MOUSE:Zz,Material:Kn,MaterialLoader:yy,MathUtils:af,Matrix3:Dt,Matrix4:ct,MaxEquation:$A,Mesh:Bn,MeshBasicMaterial:Ai,MeshDepthMaterial:PE,MeshDistanceMaterial:BE,MeshLambertMaterial:WE,MeshMatcapMaterial:jO,MeshNormalMaterial:XO,MeshPhongMaterial:VO,MeshPhysicalMaterial:eo,MeshStandardMaterial:Pp,MeshToonMaterial:WO,MinEquation:JA,MirroredRepeatWrapping:xf,MixOperation:FF,MultiplyBlending:jA,MultiplyOperation:xp,NearestFilter:En,NearestMipMapLinearFilter:n5,NearestMipMapNearestFilter:t5,NearestMipmapLinearFilter:Aa,NearestMipmapNearestFilter:jd,NeutralToneMapping:zF,NeverCompare:iO,NeverDepth:TF,NeverStencilFunc:h5,NoBlending:Ro,NoColorSpace:xo,NoToneMapping:js,NormalAnimationBlendMode:Yv,NormalBlending:ql,NotEqualCompare:lO,NotEqualDepth:DF,NotEqualStencilFunc:v5,NumberKeyframeTrack:Ef,Object3D:jt,ObjectLoader:Y7,ObjectSpaceNormalMap:rO,OctahedronGeometry:Tp,OneFactor:gF,OneMinusConstantAlphaFactor:CF,OneMinusConstantColorFactor:MF,OneMinusDstAlphaFactor:_F,OneMinusDstColorFactor:SF,OneMinusSrcAlphaFactor:rv,OneMinusSrcColorFactor:yF,OrthographicCamera:Of,P3Primaries:Yd,PCFShadowMap:jv,PCFSoftShadowMap:md,PMREMGenerator:ES,Path:tp,PerspectiveCamera:qn,Plane:pa,PlaneGeometry:Ff,PlaneHelper:FX,PointLight:ZE,PointLightHelper:bX,Points:NE,PointsMaterial:ry,PolarGridHelper:PX,PolyhedronGeometry:tl,PositionalAudio:rX,PropertyBinding:$t,PropertyMixer:cN,QuadraticBezierCurve:HE,QuadraticBezierCurve3:zE,Quaternion:Wn,QuaternionKeyframeTrack:Wa,QuaternionLinearInterpolant:ZO,RED_GREEN_RGTC2_Format:xS,RED_RGTC1_Format:YF,REVISION:mu,RGBADepthPacking:nO,RGBAFormat:Ir,RGBAIntegerFormat:gE,RGBA_ASTC_10x10_Format:dS,RGBA_ASTC_10x5_Format:cS,RGBA_ASTC_10x6_Format:fS,RGBA_ASTC_10x8_Format:hS,RGBA_ASTC_12x10_Format:pS,RGBA_ASTC_12x12_Format:mS,RGBA_ASTC_4x4_Format:nS,RGBA_ASTC_5x4_Format:rS,RGBA_ASTC_5x5_Format:iS,RGBA_ASTC_6x5_Format:sS,RGBA_ASTC_6x6_Format:oS,RGBA_ASTC_8x5_Format:aS,RGBA_ASTC_8x6_Format:lS,RGBA_ASTC_8x8_Format:uS,RGBA_BPTC_Format:E0,RGBA_ETC2_EAC_Format:tS,RGBA_PVRTC_2BPPV1_Format:qA,RGBA_PVRTC_4BPPV1_Format:ZA,RGBA_S3TC_DXT1_Format:A0,RGBA_S3TC_DXT3_Format:S0,RGBA_S3TC_DXT5_Format:w0,RGB_BPTC_SIGNED_Format:gS,RGB_BPTC_UNSIGNED_Format:vS,RGB_ETC1_Format:vE,RGB_ETC2_Format:eS,RGB_PVRTC_2BPPV1_Format:QA,RGB_PVRTC_4BPPV1_Format:YA,RGB_S3TC_DXT1_Format:_0,RGFormat:KF,RGIntegerFormat:mE,RawShaderMaterial:zO,Ray:Df,Raycaster:sM,Rec709Primaries:Kd,RectAreaLight:rN,RedFormat:Kv,RedIntegerFormat:pE,ReinhardToneMapping:UF,RenderTarget:pO,RepeatWrapping:za,ReplaceStencilOp:o5,ReverseSubtractEquation:pF,RingGeometry:hy,SIGNED_RED_GREEN_RGTC2_Format:_S,SIGNED_RED_RGTC1_Format:yS,SRGBColorSpace:Ki,SRGBTransfer:hn,Scene:ep,ShaderChunk:Ot,ShaderLib:_s,ShaderMaterial:Ti,ShadowMaterial:HO,Shape:nu,ShapeGeometry:dy,ShapePath:UX,ShapeUtils:$s,ShortType:XF,Skeleton:Mp,SkeletonHelper:MX,SkinnedMesh:DE,Source:jl,Sphere:fr,SphereGeometry:Rp,Spherical:hN,SphericalHarmonics3:iN,SplineCurve:VE,SpotLight:QE,SpotLightHelper:EX,Sprite:TO,SpriteMaterial:LE,SrcAlphaFactor:nv,SrcAlphaSaturateFactor:wF,SrcColorFactor:vF,StaticCopyUsage:E5,StaticDrawUsage:Qd,StaticReadUsage:A5,StereoCamera:q7,StreamCopyUsage:b5,StreamDrawUsage:_5,StreamReadUsage:w5,StringKeyframeTrack:yu,SubtractEquation:dF,SubtractiveBlending:XA,TOUCH:qz,TangentSpaceNormalMap:el,TetrahedronGeometry:py,Texture:pn,TextureLoader:Bp,TorusGeometry:my,TorusKnotGeometry:gy,Triangle:xi,TriangleFanDrawMode:iv,TriangleStripDrawMode:xE,TrianglesDrawMode:eO,TubeGeometry:vy,UVMapping:Jv,Uint16BufferAttribute:EE,Uint32BufferAttribute:ME,Uint8BufferAttribute:s8,Uint8ClampedBufferAttribute:o8,Uniform:iM,UniformsGroup:yX,UniformsLib:ke,UniformsUtils:bE,UnsignedByteType:Js,UnsignedInt248Type:Da,UnsignedIntType:wo,UnsignedShort4444Type:hE,UnsignedShort5551Type:dE,UnsignedShortType:$v,VSMShadowMap:vs,Vector2:Ae,Vector3:G,Vector4:Kt,VectorKeyframeTrack:Mf,VideoTexture:a7,WebGL1Renderer:bO,WebGL3DRenderTarget:J5,WebGLArrayRenderTarget:j5,WebGLCoordinateSystem:Vs,WebGLCubeRenderTarget:CE,WebGLMultipleRenderTargets:kX,WebGLRenderTarget:Ci,WebGLRenderer:IE,WebGLUtils:EO,WebGPUCoordinateSystem:Zd,WireframeGeometry:GO,WrapAroundEnding:Jd,ZeroCurvatureEnding:Wl,ZeroFactor:mF,ZeroSlopeEnding:Xl,ZeroStencilOp:s5,_SRGBAFormat:sv,createCanvasElement:hO},Symbol.toStringTag,{value:"Module"}));var pN={exports:{}},xu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */xu.ConcurrentRoot=1;xu.ContinuousEventPriority=4;xu.DefaultEventPriority=16;xu.DiscreteEventPriority=1;xu.IdleEventPriority=536870912;xu.LegacyRoot=0;pN.exports=xu;var $c=pN.exports;function HX(t){let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const v=f(e);if(!d(p,v)){const _=p;u(p=v,_)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,f,d)=>f||d?s(u,f,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const zX=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eP=zX?j.useEffect:j.useLayoutEffect;function mN(t){const e=typeof t=="function"?HX(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=j.useReducer(y=>y+1,0),o=e.getState(),a=j.useRef(o),l=j.useRef(r),u=j.useRef(i),f=j.useRef(!1),d=j.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),m=!i(d.current,p)),eP(()=>{m&&(d.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const v=j.useRef(o);eP(()=>{const y=()=>{try{const S=e.getState(),A=l.current(S);u.current(d.current,A)||(a.current=S,d.current=A,s())}catch{f.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const _=m?p:d.current;return j.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var gN={exports:{}},vN={exports:{}},yN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Z){var Y=H.length;H.push(Z);e:for(;0<Y;){var ae=Y-1>>>1,ge=H[ae];if(0<i(ge,Z))H[ae]=Z,H[Y]=ge,Y=ae;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],Y=H.pop();if(Y!==Z){H[0]=Y;e:for(var ae=0,ge=H.length,Oe=ge>>>1;ae<Oe;){var oe=2*(ae+1)-1,Se=H[oe],we=oe+1,We=H[we];if(0>i(Se,Y))we<ge&&0>i(We,Se)?(H[ae]=We,H[we]=Y,ae=we):(H[ae]=Se,H[oe]=Y,ae=oe);else if(we<ge&&0>i(We,Y))H[ae]=We,H[we]=Y,ae=we;else break e}}return Z}function i(H,Z){var Y=H.sortIndex-Z.sortIndex;return Y!==0?Y:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,v=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=H)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function E(H){if(_=!1,A(H),!v)if(n(l)!==null)v=!0,ne(T);else{var Z=n(u);Z!==null&&he(E,Z.startTime-H)}}function T(H,Z){v=!1,_&&(_=!1,g(L),L=-1),m=!0;var Y=p;try{for(A(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||H&&!B());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,p=d.priorityLevel;var ge=ae(d.expirationTime<=Z);Z=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&r(l),A(Z)}else r(l);d=n(l)}if(d!==null)var Oe=!0;else{var oe=n(u);oe!==null&&he(E,oe.startTime-Z),Oe=!1}return Oe}finally{d=null,p=Y,m=!1}}var C=!1,P=null,L=-1,N=5,b=-1;function B(){return!(t.unstable_now()-b<N)}function q(){if(P!==null){var H=t.unstable_now();b=H;var Z=!0;try{Z=P(!0,H)}finally{Z?se():(C=!1,P=null)}}else C=!1}var se;if(typeof S=="function")se=function(){S(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=q,se=function(){re.postMessage(null)}}else se=function(){y(q,0)};function ne(H){P=H,C||(C=!0,se())}function he(H,Z){L=y(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ne(T))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var Y=p;p=Z;try{return H()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=p;p=H;try{return Z()}finally{p=Y}},t.unstable_scheduleCallback=function(H,Z,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,H){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,H={id:f++,callback:Z,priorityLevel:H,startTime:Y,expirationTime:ge,sortIndex:-1},Y>ae?(H.sortIndex=Y,e(u,H),n(l)===null&&H===n(u)&&(_?(g(L),L=-1):_=!0,he(E,Y-ae))):(H.sortIndex=ge,e(l,H),v||m||(v=!0,ne(T))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var Z=p;return function(){var Y=p;p=Z;try{return H.apply(this,arguments)}finally{p=Y}}}})(yN);vN.exports=yN;var BS=vN.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VX=function(e){var n={},r=j,i=BS,s=Object.assign;function o(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function C(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}function P(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case _:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return h=c.displayName||null,h!==null?h:P(c.type)||"Memo";case A:h=c._payload,c=c._init;try{return P(c(h))}catch{}}return null}function L(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function N(c){var h=c,x=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,h.flags&4098&&(x=h.return),c=h.return;while(c)}return h.tag===3?x:null}function b(c){if(N(c)!==c)throw Error(o(188))}function B(c){var h=c.alternate;if(!h){if(h=N(c),h===null)throw Error(o(188));return h!==c?null:c}for(var x=c,w=h;;){var M=x.return;if(M===null)break;var R=M.alternate;if(R===null){if(w=M.return,w!==null){x=w;continue}break}if(M.child===R.child){for(R=M.child;R;){if(R===x)return b(M),c;if(R===w)return b(M),h;R=R.sibling}throw Error(o(188))}if(x.return!==w.return)x=M,w=R;else{for(var W=!1,te=M.child;te;){if(te===x){W=!0,x=M,w=R;break}if(te===w){W=!0,w=M,x=R;break}te=te.sibling}if(!W){for(te=R.child;te;){if(te===x){W=!0,x=R,w=M;break}if(te===w){W=!0,w=R,x=M;break}te=te.sibling}if(!W)throw Error(o(189))}}if(x.alternate!==w)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?c:h}function q(c){return c=B(c),c!==null?se(c):null}function se(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=se(c);if(h!==null)return h;c=c.sibling}return null}function X(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=X(c);if(h!==null)return h}c=c.sibling}return null}var re=Array.isArray,ne=e.getPublicInstance,he=e.getRootHostContext,H=e.getChildHostContext,Z=e.prepareForCommit,Y=e.resetAfterCommit,ae=e.createInstance,ge=e.appendInitialChild,Oe=e.finalizeInitialChildren,oe=e.prepareUpdate,Se=e.shouldSetTextContent,we=e.createTextInstance,We=e.scheduleTimeout,Ye=e.cancelTimeout,et=e.noTimeout,Et=e.isPrimaryRenderer,tt=e.supportsMutation,$=e.supportsPersistence,Ce=e.supportsHydration,_e=e.getInstanceFromNode,Ie=e.preparePortalMount,Ee=e.getCurrentEventPriority,Qe=e.detachDeletedInstance,Je=e.supportsMicrotasks,ot=e.scheduleMicrotask,bt=e.supportsTestSelectors,V=e.findFiberRoot,F=e.getBoundingRect,pe=e.getTextContent,xe=e.isHiddenSubtree,Re=e.matchAccessibilityRole,be=e.setFocusIfFocusable,St=e.setupIntersectionObserver,mt=e.appendChild,De=e.appendChildToContainer,ze=e.commitTextUpdate,wt=e.commitMount,Fe=e.commitUpdate,ln=e.insertBefore,pt=e.insertInContainerBefore,ht=e.removeChild,it=e.removeChildFromContainer,Ke=e.resetTextContent,gt=e.hideInstance,Ct=e.hideTextInstance,Pe=e.unhideInstance,ee=e.unhideTextInstance,Ve=e.clearContainer,ce=e.cloneInstance,Ne=e.createContainerChildSet,Xe=e.appendChildToContainerChildSet,Nt=e.finalizeContainerChildren,tn=e.replaceContainerChildren,Dn=e.cloneHiddenInstance,dr=e.cloneHiddenTextInstance,nn=e.canHydrateInstance,Yn=e.canHydrateTextInstance,Zr=e.canHydrateSuspenseInstance,Ps=e.isSuspenseInstancePending,sl=e.isSuspenseInstanceFallback,Di=e.registerSuspenseInstanceRetry,qr=e.getNextHydratableSibling,It=e.getFirstHydratableChild,ol=e.getFirstHydratableChildWithinContainer,Ru=e.getFirstHydratableChildWithinSuspenseInstance,D=e.hydrateInstance,U=e.hydrateTextInstance,Q=e.hydrateSuspenseInstance,I=e.getNextHydratableInstanceAfterSuspenseInstance,k=e.commitHydratedContainer,z=e.commitHydratedSuspenseInstance,K=e.clearSuspenseBoundary,J=e.clearSuspenseBoundaryFromContainer,ue=e.shouldDeleteUnhydratedTailInstances,fe=e.didNotMatchHydratedContainerTextInstance,ve=e.didNotMatchHydratedTextInstance,me;function Ze(c){if(me===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);me=h&&h[1]||""}return`
`+me+c}var Me=!1;function Te(c,h){if(!c||Me)return"";Me=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Le){var w=Le}Reflect.construct(c,[],h)}else{try{h.call()}catch(Le){w=Le}c.call(h.prototype)}else{try{throw Error()}catch(Le){w=Le}c()}}catch(Le){if(Le&&w&&typeof Le.stack=="string"){for(var M=Le.stack.split(`
`),R=w.stack.split(`
`),W=M.length-1,te=R.length-1;1<=W&&0<=te&&M[W]!==R[te];)te--;for(;1<=W&&0<=te;W--,te--)if(M[W]!==R[te]){if(W!==1||te!==1)do if(W--,te--,0>te||M[W]!==R[te]){var ye=`
`+M[W].replace(" at new "," at ");return c.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",c.displayName)),ye}while(1<=W&&0<=te);break}}}finally{Me=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?Ze(c):""}var nt=Object.prototype.hasOwnProperty,dt=[],vt=-1;function Tt(c){return{current:c}}function qe(c){0>vt||(c.current=dt[vt],dt[vt]=null,vt--)}function Ue(c,h){vt++,dt[vt]=c.current,c.current=h}var kt={},yt=Tt(kt),At=Tt(!1),rn=kt;function Fn(c,h){var x=c.type.contextTypes;if(!x)return kt;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var M={},R;for(R in x)M[R]=h[R];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=M),M}function An(c){return c=c.childContextTypes,c!=null}function Jt(){qe(At),qe(yt)}function Ht(c,h,x){if(yt.current!==kt)throw Error(o(168));Ue(yt,h),Ue(At,x)}function bn(c,h,x){var w=c.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return x;w=w.getChildContext();for(var M in w)if(!(M in h))throw Error(o(108,L(c)||"Unknown",M));return s({},x,w)}function Lt(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||kt,rn=yt.current,Ue(yt,c),Ue(At,At.current),!0}function zt(c,h,x){var w=c.stateNode;if(!w)throw Error(o(169));x?(c=bn(c,h,rn),w.__reactInternalMemoizedMergedChildContext=c,qe(At),qe(yt),Ue(yt,c)):qe(At),Ue(At,x)}var cn=Math.clz32?Math.clz32:Bs,Fi=Math.log,Gr=Math.LN2;function Bs(c){return c>>>=0,c===0?32:31-(Fi(c)/Gr|0)|0}var Jp=64,$p=4194304;function Qf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Kp(c,h){var x=c.pendingLanes;if(x===0)return 0;var w=0,M=c.suspendedLanes,R=c.pingedLanes,W=x&268435455;if(W!==0){var te=W&~M;te!==0?w=Qf(te):(R&=W,R!==0&&(w=Qf(R)))}else W=x&~M,W!==0?w=Qf(W):R!==0&&(w=Qf(R));if(w===0)return 0;if(h!==0&&h!==w&&!(h&M)&&(M=w&-w,R=h&-h,M>=R||M===16&&(R&4194240)!==0))return h;if(w&4&&(w|=x&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=w;0<h;)x=31-cn(h),M=1<<x,w|=c[x],h&=~M;return w}function W4(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X4(c,h){for(var x=c.suspendedLanes,w=c.pingedLanes,M=c.expirationTimes,R=c.pendingLanes;0<R;){var W=31-cn(R),te=1<<W,ye=M[W];ye===-1?(!(te&x)||te&w)&&(M[W]=W4(te,h)):ye<=h&&(c.expiredLanes|=te),R&=~te}}function Wy(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Xy(c){for(var h=[],x=0;31>x;x++)h.push(c);return h}function Zf(c,h,x){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-cn(h),c[h]=x}function j4(c,h){var x=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<x;){var M=31-cn(x),R=1<<M;h[M]=0,w[M]=-1,c[M]=-1,x&=~R}}function jy(c,h){var x=c.entangledLanes|=h;for(c=c.entanglements;x;){var w=31-cn(x),M=1<<w;M&h|c[w]&h&&(c[w]|=h),x&=~M}}var Zt=0;function Ob(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Jy=i.unstable_scheduleCallback,Nb=i.unstable_cancelCallback,J4=i.unstable_shouldYield,$4=i.unstable_requestPaint,sr=i.unstable_now,$y=i.unstable_ImmediatePriority,K4=i.unstable_UserBlockingPriority,Ky=i.unstable_NormalPriority,Y4=i.unstable_IdlePriority,Yp=null,Is=null;function Q4(c){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(Yp,c,void 0,(c.current.flags&128)===128)}catch{}}function Z4(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Ls=typeof Object.is=="function"?Object.is:Z4,no=null,Qp=!1,Yy=!1;function Ub(c){no===null?no=[c]:no.push(c)}function q4(c){Qp=!0,Ub(c)}function Ds(){if(!Yy&&no!==null){Yy=!0;var c=0,h=Zt;try{var x=no;for(Zt=1;c<x.length;c++){var w=x[c];do w=w(!0);while(w!==null)}no=null,Qp=!1}catch(M){throw no!==null&&(no=no.slice(c+1)),Jy($y,Ds),M}finally{Zt=h,Yy=!1}}return null}var eG=a.ReactCurrentBatchConfig;function Zp(c,h){if(Ls(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var x=Object.keys(c),w=Object.keys(h);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var M=x[w];if(!nt.call(h,M)||!Ls(c[M],h[M]))return!1}return!0}function tG(c){switch(c.tag){case 5:return Ze(c.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return c=Te(c.type,!1),c;case 11:return c=Te(c.type.render,!1),c;case 1:return c=Te(c.type,!0),c;default:return""}}function as(c,h){if(c&&c.defaultProps){h=s({},h),c=c.defaultProps;for(var x in c)h[x]===void 0&&(h[x]=c[x]);return h}return h}var qp=Tt(null),em=null,Pu=null,Qy=null;function Zy(){Qy=Pu=em=null}function kb(c,h,x){Et?(Ue(qp,h._currentValue),h._currentValue=x):(Ue(qp,h._currentValue2),h._currentValue2=x)}function qy(c){var h=qp.current;qe(qp),Et?c._currentValue=h:c._currentValue2=h}function ex(c,h,x){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===x)break;c=c.return}}function Bu(c,h){em=c,Qy=Pu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&h&&(di=!0),c.firstContext=null)}function Oi(c){var h=Et?c._currentValue:c._currentValue2;if(Qy!==c)if(c={context:c,memoizedValue:h,next:null},Pu===null){if(em===null)throw Error(o(308));Pu=c,em.dependencies={lanes:0,firstContext:c}}else Pu=Pu.next=c;return h}var Fs=null,jo=!1;function tx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gb(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ro(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function Jo(c,h){var x=c.updateQueue;x!==null&&(x=x.shared,Xn!==null&&c.mode&1&&!(Gt&2)?(c=x.interleaved,c===null?(h.next=h,Fs===null?Fs=[x]:Fs.push(x)):(h.next=c.next,c.next=h),x.interleaved=h):(c=x.pending,c===null?h.next=h:(h.next=c.next,c.next=h),x.pending=h))}function tm(c,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var w=h.lanes;w&=c.pendingLanes,x|=w,h.lanes=x,jy(c,x)}}function Hb(c,h){var x=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var M=null,R=null;if(x=x.firstBaseUpdate,x!==null){do{var W={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};R===null?M=R=W:R=R.next=W,x=x.next}while(x!==null);R===null?M=R=h:R=R.next=h}else M=R=h;x={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:R,shared:w.shared,effects:w.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=h:c.next=h,x.lastBaseUpdate=h}function nm(c,h,x,w){var M=c.updateQueue;jo=!1;var R=M.firstBaseUpdate,W=M.lastBaseUpdate,te=M.shared.pending;if(te!==null){M.shared.pending=null;var ye=te,Le=ye.next;ye.next=null,W===null?R=Le:W.next=Le,W=ye;var st=c.alternate;st!==null&&(st=st.updateQueue,te=st.lastBaseUpdate,te!==W&&(te===null?st.firstBaseUpdate=Le:te.next=Le,st.lastBaseUpdate=ye))}if(R!==null){var Pt=M.baseState;W=0,st=Le=ye=null,te=R;do{var xt=te.lane,un=te.eventTime;if((w&xt)===xt){st!==null&&(st=st.next={eventTime:un,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var ft=c,Er=te;switch(xt=h,un=x,Er.tag){case 1:if(ft=Er.payload,typeof ft=="function"){Pt=ft.call(un,Pt,xt);break e}Pt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Er.payload,xt=typeof ft=="function"?ft.call(un,Pt,xt):ft,xt==null)break e;Pt=s({},Pt,xt);break e;case 2:jo=!0}}te.callback!==null&&te.lane!==0&&(c.flags|=64,xt=M.effects,xt===null?M.effects=[te]:xt.push(te))}else un={eventTime:un,lane:xt,tag:te.tag,payload:te.payload,callback:te.callback,next:null},st===null?(Le=st=un,ye=Pt):st=st.next=un,W|=xt;if(te=te.next,te===null){if(te=M.shared.pending,te===null)break;xt=te,te=xt.next,xt.next=null,M.lastBaseUpdate=xt,M.shared.pending=null}}while(!0);if(st===null&&(ye=Pt),M.baseState=ye,M.firstBaseUpdate=Le,M.lastBaseUpdate=st,h=M.shared.interleaved,h!==null){M=h;do W|=M.lane,M=M.next;while(M!==h)}else R===null&&(M.shared.lanes=0);Gu|=W,c.lanes=W,c.memoizedState=Pt}}function zb(c,h,x){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var w=c[h],M=w.callback;if(M!==null){if(w.callback=null,w=x,typeof M!="function")throw Error(o(191,M));M.call(w)}}}var Vb=new r.Component().refs;function nx(c,h,x,w){h=c.memoizedState,x=x(w,h),x=x==null?h:s({},h,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var rm={isMounted:function(c){return(c=c._reactInternals)?N(c)===c:!1},enqueueSetState:function(c,h,x){c=c._reactInternals;var w=zr(),M=Yo(c),R=ro(w,M);R.payload=h,x!=null&&(R.callback=x),Jo(c,R),h=Hi(c,M,w),h!==null&&tm(h,c,M)},enqueueReplaceState:function(c,h,x){c=c._reactInternals;var w=zr(),M=Yo(c),R=ro(w,M);R.tag=1,R.payload=h,x!=null&&(R.callback=x),Jo(c,R),h=Hi(c,M,w),h!==null&&tm(h,c,M)},enqueueForceUpdate:function(c,h){c=c._reactInternals;var x=zr(),w=Yo(c),M=ro(x,w);M.tag=2,h!=null&&(M.callback=h),Jo(c,M),h=Hi(c,w,x),h!==null&&tm(h,c,w)}};function Wb(c,h,x,w,M,R,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,R,W):h.prototype&&h.prototype.isPureReactComponent?!Zp(x,w)||!Zp(M,R):!0}function Xb(c,h,x){var w=!1,M=kt,R=h.contextType;return typeof R=="object"&&R!==null?R=Oi(R):(M=An(h)?rn:yt.current,w=h.contextTypes,R=(w=w!=null)?Fn(c,M):kt),h=new h(x,R),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rm,c.stateNode=h,h._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=M,c.__reactInternalMemoizedMaskedChildContext=R),h}function jb(c,h,x,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,w),h.state!==c&&rm.enqueueReplaceState(h,h.state,null)}function rx(c,h,x,w){var M=c.stateNode;M.props=x,M.state=c.memoizedState,M.refs=Vb,tx(c);var R=h.contextType;typeof R=="object"&&R!==null?M.context=Oi(R):(R=An(h)?rn:yt.current,M.context=Fn(c,R)),M.state=c.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(nx(c,h,R,x),M.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(h=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),h!==M.state&&rm.enqueueReplaceState(M,M.state,null),nm(c,x,M,w),M.state=c.memoizedState),typeof M.componentDidMount=="function"&&(c.flags|=4194308)}var Iu=[],Lu=0,im=null,sm=0,Ni=[],Ui=0,al=null,io=1,so="";function ll(c,h){Iu[Lu++]=sm,Iu[Lu++]=im,im=c,sm=h}function Jb(c,h,x){Ni[Ui++]=io,Ni[Ui++]=so,Ni[Ui++]=al,al=c;var w=io;c=so;var M=32-cn(w)-1;w&=~(1<<M),x+=1;var R=32-cn(h)+M;if(30<R){var W=M-M%5;R=(w&(1<<W)-1).toString(32),w>>=W,M-=W,io=1<<32-cn(h)+M|x<<M|w,so=R+c}else io=1<<R|x<<M|w,so=c}function ix(c){c.return!==null&&(ll(c,1),Jb(c,1,0))}function sx(c){for(;c===im;)im=Iu[--Lu],Iu[Lu]=null,sm=Iu[--Lu],Iu[Lu]=null;for(;c===al;)al=Ni[--Ui],Ni[Ui]=null,so=Ni[--Ui],Ni[Ui]=null,io=Ni[--Ui],Ni[Ui]=null}var fi=null,hi=null,Sn=!1,qf=!1,ls=null;function $b(c,h){var x=zi(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=c,h=c.deletions,h===null?(c.deletions=[x],c.flags|=16):h.push(x)}function Kb(c,h){switch(c.tag){case 5:return h=nn(h,c.type,c.pendingProps),h!==null?(c.stateNode=h,fi=c,hi=It(h),!0):!1;case 6:return h=Yn(h,c.pendingProps),h!==null?(c.stateNode=h,fi=c,hi=null,!0):!1;case 13:if(h=Zr(h),h!==null){var x=al!==null?{id:io,overflow:so}:null;return c.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=zi(18,null,null,0),x.stateNode=h,x.return=c,c.child=x,fi=c,hi=null,!0}return!1;default:return!1}}function ox(c){return(c.mode&1)!==0&&(c.flags&128)===0}function ax(c){if(Sn){var h=hi;if(h){var x=h;if(!Kb(c,h)){if(ox(c))throw Error(o(418));h=qr(x);var w=fi;h&&Kb(c,h)?$b(w,x):(c.flags=c.flags&-4097|2,Sn=!1,fi=c)}}else{if(ox(c))throw Error(o(418));c.flags=c.flags&-4097|2,Sn=!1,fi=c}}}function Yb(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;fi=c}function eh(c){if(!Ce||c!==fi)return!1;if(!Sn)return Yb(c),Sn=!0,!1;if(c.tag!==3&&(c.tag!==5||ue(c.type)&&!Se(c.type,c.memoizedProps))){var h=hi;if(h){if(ox(c)){for(c=hi;c;)c=qr(c);throw Error(o(418))}for(;h;)$b(c,h),h=qr(h)}}if(Yb(c),c.tag===13){if(!Ce)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));hi=I(c)}else hi=fi?qr(c.stateNode):null;return!0}function Du(){Ce&&(hi=fi=null,qf=Sn=!1)}function lx(c){ls===null?ls=[c]:ls.push(c)}function th(c,h,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var w=x.stateNode}if(!w)throw Error(o(147,c));var M=w,R=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(W){var te=M.refs;te===Vb&&(te=M.refs={}),W===null?delete te[R]:te[R]=W},h._stringRef=R,h)}if(typeof c!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,c))}return c}function om(c,h){throw c=Object.prototype.toString.call(h),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function Qb(c){var h=c._init;return h(c._payload)}function Zb(c){function h(le,ie){if(c){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function x(le,ie){if(!c)return null;for(;ie!==null;)h(le,ie),ie=ie.sibling;return null}function w(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function M(le,ie){return le=Zo(le,ie),le.index=0,le.sibling=null,le}function R(le,ie,de){return le.index=de,c?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=2,ie):de):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function W(le){return c&&le.alternate===null&&(le.flags|=2),le}function te(le,ie,de,$e){return ie===null||ie.tag!==6?(ie=Xx(de,le.mode,$e),ie.return=le,ie):(ie=M(ie,de),ie.return=le,ie)}function ye(le,ie,de,$e){var ut=de.type;return ut===f?st(le,ie,de.props.children,$e,de.key):ie!==null&&(ie.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Qb(ut)===ie.type)?($e=M(ie,de.props),$e.ref=th(le,ie,de),$e.return=le,$e):($e=Nm(de.type,de.key,de.props,null,le.mode,$e),$e.ref=th(le,ie,de),$e.return=le,$e)}function Le(le,ie,de,$e){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=jx(de,le.mode,$e),ie.return=le,ie):(ie=M(ie,de.children||[]),ie.return=le,ie)}function st(le,ie,de,$e,ut){return ie===null||ie.tag!==7?(ie=ml(de,le.mode,$e,ut),ie.return=le,ie):(ie=M(ie,de),ie.return=le,ie)}function Pt(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Xx(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return de=Nm(ie.type,ie.key,ie.props,null,le.mode,de),de.ref=th(le,null,ie),de.return=le,de;case u:return ie=jx(ie,le.mode,de),ie.return=le,ie;case A:var $e=ie._init;return Pt(le,$e(ie._payload),de)}if(re(ie)||C(ie))return ie=ml(ie,le.mode,de,null),ie.return=le,ie;om(le,ie)}return null}function xt(le,ie,de,$e){var ut=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return ut!==null?null:te(le,ie,""+de,$e);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===ut?ye(le,ie,de,$e):null;case u:return de.key===ut?Le(le,ie,de,$e):null;case A:return ut=de._init,xt(le,ie,ut(de._payload),$e)}if(re(de)||C(de))return ut!==null?null:st(le,ie,de,$e,null);om(le,de)}return null}function un(le,ie,de,$e,ut){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return le=le.get(de)||null,te(ie,le,""+$e,ut);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return le=le.get($e.key===null?de:$e.key)||null,ye(ie,le,$e,ut);case u:return le=le.get($e.key===null?de:$e.key)||null,Le(ie,le,$e,ut);case A:var Ut=$e._init;return un(le,ie,de,Ut($e._payload),ut)}if(re($e)||C($e))return le=le.get(de)||null,st(ie,le,$e,ut,null);om(ie,$e)}return null}function ft(le,ie,de,$e){for(var ut=null,Ut=null,Bt=ie,qt=ie=0,ar=null;Bt!==null&&qt<de.length;qt++){Bt.index>qt?(ar=Bt,Bt=null):ar=Bt.sibling;var en=xt(le,Bt,de[qt],$e);if(en===null){Bt===null&&(Bt=ar);break}c&&Bt&&en.alternate===null&&h(le,Bt),ie=R(en,ie,qt),Ut===null?ut=en:Ut.sibling=en,Ut=en,Bt=ar}if(qt===de.length)return x(le,Bt),Sn&&ll(le,qt),ut;if(Bt===null){for(;qt<de.length;qt++)Bt=Pt(le,de[qt],$e),Bt!==null&&(ie=R(Bt,ie,qt),Ut===null?ut=Bt:Ut.sibling=Bt,Ut=Bt);return Sn&&ll(le,qt),ut}for(Bt=w(le,Bt);qt<de.length;qt++)ar=un(Bt,le,qt,de[qt],$e),ar!==null&&(c&&ar.alternate!==null&&Bt.delete(ar.key===null?qt:ar.key),ie=R(ar,ie,qt),Ut===null?ut=ar:Ut.sibling=ar,Ut=ar);return c&&Bt.forEach(function(qo){return h(le,qo)}),Sn&&ll(le,qt),ut}function Er(le,ie,de,$e){var ut=C(de);if(typeof ut!="function")throw Error(o(150));if(de=ut.call(de),de==null)throw Error(o(151));for(var Ut=ut=null,Bt=ie,qt=ie=0,ar=null,en=de.next();Bt!==null&&!en.done;qt++,en=de.next()){Bt.index>qt?(ar=Bt,Bt=null):ar=Bt.sibling;var qo=xt(le,Bt,en.value,$e);if(qo===null){Bt===null&&(Bt=ar);break}c&&Bt&&qo.alternate===null&&h(le,Bt),ie=R(qo,ie,qt),Ut===null?ut=qo:Ut.sibling=qo,Ut=qo,Bt=ar}if(en.done)return x(le,Bt),Sn&&ll(le,qt),ut;if(Bt===null){for(;!en.done;qt++,en=de.next())en=Pt(le,en.value,$e),en!==null&&(ie=R(en,ie,qt),Ut===null?ut=en:Ut.sibling=en,Ut=en);return Sn&&ll(le,qt),ut}for(Bt=w(le,Bt);!en.done;qt++,en=de.next())en=un(Bt,le,qt,en.value,$e),en!==null&&(c&&en.alternate!==null&&Bt.delete(en.key===null?qt:en.key),ie=R(en,ie,qt),Ut===null?ut=en:Ut.sibling=en,Ut=en);return c&&Bt.forEach(function(BG){return h(le,BG)}),Sn&&ll(le,qt),ut}function Vi(le,ie,de,$e){if(typeof de=="object"&&de!==null&&de.type===f&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var ut=de.key,Ut=ie;Ut!==null;){if(Ut.key===ut){if(ut=de.type,ut===f){if(Ut.tag===7){x(le,Ut.sibling),ie=M(Ut,de.props.children),ie.return=le,le=ie;break e}}else if(Ut.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Qb(ut)===Ut.type){x(le,Ut.sibling),ie=M(Ut,de.props),ie.ref=th(le,Ut,de),ie.return=le,le=ie;break e}x(le,Ut);break}else h(le,Ut);Ut=Ut.sibling}de.type===f?(ie=ml(de.props.children,le.mode,$e,de.key),ie.return=le,le=ie):($e=Nm(de.type,de.key,de.props,null,le.mode,$e),$e.ref=th(le,ie,de),$e.return=le,le=$e)}return W(le);case u:e:{for(Ut=de.key;ie!==null;){if(ie.key===Ut)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){x(le,ie.sibling),ie=M(ie,de.children||[]),ie.return=le,le=ie;break e}else{x(le,ie);break}else h(le,ie);ie=ie.sibling}ie=jx(de,le.mode,$e),ie.return=le,le=ie}return W(le);case A:return Ut=de._init,Vi(le,ie,Ut(de._payload),$e)}if(re(de))return ft(le,ie,de,$e);if(C(de))return Er(le,ie,de,$e);om(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(x(le,ie.sibling),ie=M(ie,de),ie.return=le,le=ie):(x(le,ie),ie=Xx(de,le.mode,$e),ie.return=le,le=ie),W(le)):x(le,ie)}return Vi}var Fu=Zb(!0),qb=Zb(!1),nh={},ki=Tt(nh),rh=Tt(nh),Ou=Tt(nh);function Os(c){if(c===nh)throw Error(o(174));return c}function ux(c,h){Ue(Ou,h),Ue(rh,c),Ue(ki,nh),c=he(h),qe(ki),Ue(ki,c)}function Nu(){qe(ki),qe(rh),qe(Ou)}function eC(c){var h=Os(Ou.current),x=Os(ki.current);h=H(x,c.type,h),x!==h&&(Ue(rh,c),Ue(ki,h))}function cx(c){rh.current===c&&(qe(ki),qe(rh))}var Cn=Tt(0);function am(c){for(var h=c;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Ps(x)||sl(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var fx=[];function hx(){for(var c=0;c<fx.length;c++){var h=fx[c];Et?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}fx.length=0}var lm=a.ReactCurrentDispatcher,Gi=a.ReactCurrentBatchConfig,Uu=0,On=null,Ar=null,or=null,um=!1,ih=!1,sh=0,nG=0;function Sr(){throw Error(o(321))}function dx(c,h){if(h===null)return!1;for(var x=0;x<h.length&&x<c.length;x++)if(!Ls(c[x],h[x]))return!1;return!0}function px(c,h,x,w,M,R){if(Uu=R,On=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,lm.current=c===null||c.memoizedState===null?oG:aG,c=x(w,M),ih){R=0;do{if(ih=!1,sh=0,25<=R)throw Error(o(301));R+=1,or=Ar=null,h.updateQueue=null,lm.current=lG,c=x(w,M)}while(ih)}if(lm.current=pm,h=Ar!==null&&Ar.next!==null,Uu=0,or=Ar=On=null,um=!1,h)throw Error(o(300));return c}function mx(){var c=sh!==0;return sh=0,c}function oo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?On.memoizedState=or=c:or=or.next=c,or}function Ns(){if(Ar===null){var c=On.alternate;c=c!==null?c.memoizedState:null}else c=Ar.next;var h=or===null?On.memoizedState:or.next;if(h!==null)or=h,Ar=c;else{if(c===null)throw Error(o(310));Ar=c,c={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},or===null?On.memoizedState=or=c:or=or.next=c}return or}function ul(c,h){return typeof h=="function"?h(c):h}function cm(c){var h=Ns(),x=h.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=c;var w=Ar,M=w.baseQueue,R=x.pending;if(R!==null){if(M!==null){var W=M.next;M.next=R.next,R.next=W}w.baseQueue=M=R,x.pending=null}if(M!==null){R=M.next,w=w.baseState;var te=W=null,ye=null,Le=R;do{var st=Le.lane;if((Uu&st)===st)ye!==null&&(ye=ye.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),w=Le.hasEagerState?Le.eagerState:c(w,Le.action);else{var Pt={lane:st,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ye===null?(te=ye=Pt,W=w):ye=ye.next=Pt,On.lanes|=st,Gu|=st}Le=Le.next}while(Le!==null&&Le!==R);ye===null?W=w:ye.next=te,Ls(w,h.memoizedState)||(di=!0),h.memoizedState=w,h.baseState=W,h.baseQueue=ye,x.lastRenderedState=w}if(c=x.interleaved,c!==null){M=c;do R=M.lane,On.lanes|=R,Gu|=R,M=M.next;while(M!==c)}else M===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function fm(c){var h=Ns(),x=h.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=c;var w=x.dispatch,M=x.pending,R=h.memoizedState;if(M!==null){x.pending=null;var W=M=M.next;do R=c(R,W.action),W=W.next;while(W!==M);Ls(R,h.memoizedState)||(di=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),x.lastRenderedState=R}return[R,w]}function tC(){}function nC(c,h){var x=On,w=Ns(),M=h(),R=!Ls(w.memoizedState,M);if(R&&(w.memoizedState=M,di=!0),w=w.queue,ah(sC.bind(null,x,w,c),[c]),w.getSnapshot!==h||R||or!==null&&or.memoizedState.tag&1){if(x.flags|=2048,oh(9,iC.bind(null,x,w,M,h),void 0,null),Xn===null)throw Error(o(349));Uu&30||rC(x,h,M)}return M}function rC(c,h,x){c.flags|=16384,c={getSnapshot:h,value:x},h=On.updateQueue,h===null?(h={lastEffect:null,stores:null},On.updateQueue=h,h.stores=[c]):(x=h.stores,x===null?h.stores=[c]:x.push(c))}function iC(c,h,x,w){h.value=x,h.getSnapshot=w,oC(h)&&Hi(c,1,-1)}function sC(c,h,x){return x(function(){oC(h)&&Hi(c,1,-1)})}function oC(c){var h=c.getSnapshot;c=c.value;try{var x=h();return!Ls(c,x)}catch{return!0}}function gx(c){var h=oo();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:c},h.queue=c,c=c.dispatch=sG.bind(null,On,c),[h.memoizedState,c]}function oh(c,h,x,w){return c={tag:c,create:h,destroy:x,deps:w,next:null},h=On.updateQueue,h===null?(h={lastEffect:null,stores:null},On.updateQueue=h,h.lastEffect=c.next=c):(x=h.lastEffect,x===null?h.lastEffect=c.next=c:(w=x.next,x.next=c,c.next=w,h.lastEffect=c)),c}function aC(){return Ns().memoizedState}function hm(c,h,x,w){var M=oo();On.flags|=c,M.memoizedState=oh(1|h,x,void 0,w===void 0?null:w)}function dm(c,h,x,w){var M=Ns();w=w===void 0?null:w;var R=void 0;if(Ar!==null){var W=Ar.memoizedState;if(R=W.destroy,w!==null&&dx(w,W.deps)){M.memoizedState=oh(h,x,R,w);return}}On.flags|=c,M.memoizedState=oh(1|h,x,R,w)}function vx(c,h){return hm(8390656,8,c,h)}function ah(c,h){return dm(2048,8,c,h)}function lC(c,h){return dm(4,2,c,h)}function uC(c,h){return dm(4,4,c,h)}function cC(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function fC(c,h,x){return x=x!=null?x.concat([c]):null,dm(4,4,cC.bind(null,h,c),x)}function yx(){}function hC(c,h){var x=Ns();h=h===void 0?null:h;var w=x.memoizedState;return w!==null&&h!==null&&dx(h,w[1])?w[0]:(x.memoizedState=[c,h],c)}function dC(c,h){var x=Ns();h=h===void 0?null:h;var w=x.memoizedState;return w!==null&&h!==null&&dx(h,w[1])?w[0]:(c=c(),x.memoizedState=[c,h],c)}function rG(c,h){var x=Zt;Zt=x!==0&&4>x?x:4,c(!0);var w=Gi.transition;Gi.transition={};try{c(!1),h()}finally{Zt=x,Gi.transition=w}}function pC(){return Ns().memoizedState}function iG(c,h,x){var w=Yo(c);x={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null},mC(c)?gC(h,x):(vC(c,h,x),x=zr(),c=Hi(c,w,x),c!==null&&yC(c,h,w))}function sG(c,h,x){var w=Yo(c),M={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null};if(mC(c))gC(h,M);else{vC(c,h,M);var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var W=h.lastRenderedState,te=R(W,x);if(M.hasEagerState=!0,M.eagerState=te,Ls(te,W))return}catch{}finally{}x=zr(),c=Hi(c,w,x),c!==null&&yC(c,h,w)}}function mC(c){var h=c.alternate;return c===On||h!==null&&h===On}function gC(c,h){ih=um=!0;var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}function vC(c,h,x){Xn!==null&&c.mode&1&&!(Gt&2)?(c=h.interleaved,c===null?(x.next=x,Fs===null?Fs=[h]:Fs.push(h)):(x.next=c.next,c.next=x),h.interleaved=x):(c=h.pending,c===null?x.next=x:(x.next=c.next,c.next=x),h.pending=x)}function yC(c,h,x){if(x&4194240){var w=h.lanes;w&=c.pendingLanes,x|=w,h.lanes=x,jy(c,x)}}var pm={readContext:Oi,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},oG={readContext:Oi,useCallback:function(c,h){return oo().memoizedState=[c,h===void 0?null:h],c},useContext:Oi,useEffect:vx,useImperativeHandle:function(c,h,x){return x=x!=null?x.concat([c]):null,hm(4194308,4,cC.bind(null,h,c),x)},useLayoutEffect:function(c,h){return hm(4194308,4,c,h)},useInsertionEffect:function(c,h){return hm(4,2,c,h)},useMemo:function(c,h){var x=oo();return h=h===void 0?null:h,c=c(),x.memoizedState=[c,h],c},useReducer:function(c,h,x){var w=oo();return h=x!==void 0?x(h):h,w.memoizedState=w.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},w.queue=c,c=c.dispatch=iG.bind(null,On,c),[w.memoizedState,c]},useRef:function(c){var h=oo();return c={current:c},h.memoizedState=c},useState:gx,useDebugValue:yx,useDeferredValue:function(c){var h=gx(c),x=h[0],w=h[1];return vx(function(){var M=Gi.transition;Gi.transition={};try{w(c)}finally{Gi.transition=M}},[c]),x},useTransition:function(){var c=gx(!1),h=c[0];return c=rG.bind(null,c[1]),oo().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,x){var w=On,M=oo();if(Sn){if(x===void 0)throw Error(o(407));x=x()}else{if(x=h(),Xn===null)throw Error(o(349));Uu&30||rC(w,h,x)}M.memoizedState=x;var R={value:x,getSnapshot:h};return M.queue=R,vx(sC.bind(null,w,R,c),[c]),w.flags|=2048,oh(9,iC.bind(null,w,R,x,h),void 0,null),x},useId:function(){var c=oo(),h=Xn.identifierPrefix;if(Sn){var x=so,w=io;x=(w&~(1<<32-cn(w)-1)).toString(32)+x,h=":"+h+"R"+x,x=sh++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=nG++,h=":"+h+"r"+x.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},aG={readContext:Oi,useCallback:hC,useContext:Oi,useEffect:ah,useImperativeHandle:fC,useInsertionEffect:lC,useLayoutEffect:uC,useMemo:dC,useReducer:cm,useRef:aC,useState:function(){return cm(ul)},useDebugValue:yx,useDeferredValue:function(c){var h=cm(ul),x=h[0],w=h[1];return ah(function(){var M=Gi.transition;Gi.transition={};try{w(c)}finally{Gi.transition=M}},[c]),x},useTransition:function(){var c=cm(ul)[0],h=Ns().memoizedState;return[c,h]},useMutableSource:tC,useSyncExternalStore:nC,useId:pC,unstable_isNewReconciler:!1},lG={readContext:Oi,useCallback:hC,useContext:Oi,useEffect:ah,useImperativeHandle:fC,useInsertionEffect:lC,useLayoutEffect:uC,useMemo:dC,useReducer:fm,useRef:aC,useState:function(){return fm(ul)},useDebugValue:yx,useDeferredValue:function(c){var h=fm(ul),x=h[0],w=h[1];return ah(function(){var M=Gi.transition;Gi.transition={};try{w(c)}finally{Gi.transition=M}},[c]),x},useTransition:function(){var c=fm(ul)[0],h=Ns().memoizedState;return[c,h]},useMutableSource:tC,useSyncExternalStore:nC,useId:pC,unstable_isNewReconciler:!1};function xx(c,h){try{var x="",w=h;do x+=tG(w),w=w.return;while(w);var M=x}catch(R){M=`
Error generating stack: `+R.message+`
`+R.stack}return{value:c,source:h,stack:M}}function _x(c,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var uG=typeof WeakMap=="function"?WeakMap:Map;function xC(c,h,x){x=ro(-1,x),x.tag=3,x.payload={element:null};var w=h.value;return x.callback=function(){Pm||(Pm=!0,Ux=w),_x(c,h)},x}function _C(c,h,x){x=ro(-1,x),x.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var M=h.value;x.payload=function(){return w(M)},x.callback=function(){_x(c,h)}}var R=c.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(x.callback=function(){_x(c,h),typeof w!="function"&&($o===null?$o=new Set([this]):$o.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),x}function AC(c,h,x){var w=c.pingCache;if(w===null){w=c.pingCache=new uG;var M=new Set;w.set(h,M)}else M=w.get(h),M===void 0&&(M=new Set,w.set(h,M));M.has(x)||(M.add(x),c=wG.bind(null,c,h,x),h.then(c,c))}function SC(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function wC(c,h,x,w,M){return c.mode&1?(c.flags|=65536,c.lanes=M,c):(c===h?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=ro(-1,1),h.tag=2,Jo(x,h))),x.lanes|=1),c)}function Us(c){c.flags|=4}function EC(c,h){if(c!==null&&c.child===h.child)return!0;if(h.flags&16)return!1;for(c=h.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var lh,uh,mm,gm;if(tt)lh=function(c,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)ge(c,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},uh=function(){},mm=function(c,h,x,w,M){if(c=c.memoizedProps,c!==w){var R=h.stateNode,W=Os(ki.current);x=oe(R,x,c,w,M,W),(h.updateQueue=x)&&Us(h)}},gm=function(c,h,x,w){x!==w&&Us(h)};else if($){lh=function(c,h,x,w){for(var M=h.child;M!==null;){if(M.tag===5){var R=M.stateNode;x&&w&&(R=Dn(R,M.type,M.memoizedProps,M)),ge(c,R)}else if(M.tag===6)R=M.stateNode,x&&w&&(R=dr(R,M.memoizedProps,M)),ge(c,R);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)R=M.child,R!==null&&(R.return=M),lh(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var MC=function(c,h,x,w){for(var M=h.child;M!==null;){if(M.tag===5){var R=M.stateNode;x&&w&&(R=Dn(R,M.type,M.memoizedProps,M)),Xe(c,R)}else if(M.tag===6)R=M.stateNode,x&&w&&(R=dr(R,M.memoizedProps,M)),Xe(c,R);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)R=M.child,R!==null&&(R.return=M),MC(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};uh=function(c,h){var x=h.stateNode;if(!EC(c,h)){c=x.containerInfo;var w=Ne(c);MC(w,h,!1,!1),x.pendingChildren=w,Us(h),Nt(c,w)}},mm=function(c,h,x,w,M){var R=c.stateNode,W=c.memoizedProps;if((c=EC(c,h))&&W===w)h.stateNode=R;else{var te=h.stateNode,ye=Os(ki.current),Le=null;W!==w&&(Le=oe(te,x,W,w,M,ye)),c&&Le===null?h.stateNode=R:(R=ce(R,Le,x,W,w,h,c,te),Oe(R,x,w,M,ye)&&Us(h),h.stateNode=R,c?Us(h):lh(R,h,!1,!1))}},gm=function(c,h,x,w){x!==w?(c=Os(Ou.current),x=Os(ki.current),h.stateNode=we(w,c,x,h),Us(h)):h.stateNode=c.stateNode}}else uh=function(){},mm=function(){},gm=function(){};function ch(c,h){if(!Sn)switch(c.tailMode){case"hidden":h=c.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function wr(c){var h=c.alternate!==null&&c.alternate.child===c.child,x=0,w=0;if(h)for(var M=c.child;M!==null;)x|=M.lanes|M.childLanes,w|=M.subtreeFlags&14680064,w|=M.flags&14680064,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)x|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=w,c.childLanes=x,h}function cG(c,h,x){var w=h.pendingProps;switch(sx(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(h),null;case 1:return An(h.type)&&Jt(),wr(h),null;case 3:return w=h.stateNode,Nu(),qe(At),qe(yt),hx(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(eh(h)?Us(h):c===null||c.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ls!==null&&(Hx(ls),ls=null))),uh(c,h),wr(h),null;case 5:cx(h),x=Os(Ou.current);var M=h.type;if(c!==null&&h.stateNode!=null)mm(c,h,M,w,x),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(o(166));return wr(h),null}if(c=Os(ki.current),eh(h)){if(!Ce)throw Error(o(175));c=D(h.stateNode,h.type,h.memoizedProps,x,c,h,!qf),h.updateQueue=c,c!==null&&Us(h)}else{var R=ae(M,w,x,c,h);lh(R,h,!1,!1),h.stateNode=R,Oe(R,M,w,x,c)&&Us(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return wr(h),null;case 6:if(c&&h.stateNode!=null)gm(c,h,c.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(c=Os(Ou.current),x=Os(ki.current),eh(h)){if(!Ce)throw Error(o(176));if(c=h.stateNode,w=h.memoizedProps,(x=U(c,w,h,!qf))&&(M=fi,M!==null))switch(R=(M.mode&1)!==0,M.tag){case 3:fe(M.stateNode.containerInfo,c,w,R);break;case 5:ve(M.type,M.memoizedProps,M.stateNode,c,w,R)}x&&Us(h)}else h.stateNode=we(w,c,x,h)}return wr(h),null;case 13:if(qe(Cn),w=h.memoizedState,Sn&&hi!==null&&h.mode&1&&!(h.flags&128)){for(c=hi;c;)c=qr(c);return Du(),h.flags|=98560,h}if(w!==null&&w.dehydrated!==null){if(w=eh(h),c===null){if(!w)throw Error(o(318));if(!Ce)throw Error(o(344));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Q(c,h)}else Du(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return wr(h),null}return ls!==null&&(Hx(ls),ls=null),h.flags&128?(h.lanes=x,h):(w=w!==null,x=!1,c===null?eh(h):x=c.memoizedState!==null,w&&!x&&(h.child.flags|=8192,h.mode&1&&(c===null||Cn.current&1?Qn===0&&(Qn=3):Vx())),h.updateQueue!==null&&(h.flags|=4),wr(h),null);case 4:return Nu(),uh(c,h),c===null&&Ie(h.stateNode.containerInfo),wr(h),null;case 10:return qy(h.type._context),wr(h),null;case 17:return An(h.type)&&Jt(),wr(h),null;case 19:if(qe(Cn),M=h.memoizedState,M===null)return wr(h),null;if(w=(h.flags&128)!==0,R=M.rendering,R===null)if(w)ch(M,!1);else{if(Qn!==0||c!==null&&c.flags&128)for(c=h.child;c!==null;){if(R=am(c),R!==null){for(h.flags|=128,ch(M,!1),c=R.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=x,w=h.child;w!==null;)x=w,M=c,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=M,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,M=R.dependencies,x.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),w=w.sibling;return Ue(Cn,Cn.current&1|2),h.child}c=c.sibling}M.tail!==null&&sr()>Nx&&(h.flags|=128,w=!0,ch(M,!1),h.lanes=4194304)}else{if(!w)if(c=am(R),c!==null){if(h.flags|=128,w=!0,c=c.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),ch(M,!0),M.tail===null&&M.tailMode==="hidden"&&!R.alternate&&!Sn)return wr(h),null}else 2*sr()-M.renderingStartTime>Nx&&x!==1073741824&&(h.flags|=128,w=!0,ch(M,!1),h.lanes=4194304);M.isBackwards?(R.sibling=h.child,h.child=R):(c=M.last,c!==null?c.sibling=R:h.child=R,M.last=R)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=sr(),h.sibling=null,c=Cn.current,Ue(Cn,w?c&1|2:c&1),h):(wr(h),null);case 22:case 23:return zx(),w=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(h.flags|=8192),w&&h.mode&1?pi&1073741824&&(wr(h),tt&&h.subtreeFlags&6&&(h.flags|=8192)):wr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var fG=a.ReactCurrentOwner,di=!1;function Hr(c,h,x,w){h.child=c===null?qb(h,null,x,w):Fu(h,c.child,x,w)}function bC(c,h,x,w,M){x=x.render;var R=h.ref;return Bu(h,M),w=px(c,h,x,w,R,M),x=mx(),c!==null&&!di?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~M,ao(c,h,M)):(Sn&&x&&ix(h),h.flags|=1,Hr(c,h,w,M),h.child)}function CC(c,h,x,w,M){if(c===null){var R=x.type;return typeof R=="function"&&!Wx(R)&&R.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=R,TC(c,h,R,w,M)):(c=Nm(x.type,null,w,h,h.mode,M),c.ref=h.ref,c.return=h,h.child=c)}if(R=c.child,!(c.lanes&M)){var W=R.memoizedProps;if(x=x.compare,x=x!==null?x:Zp,x(W,w)&&c.ref===h.ref)return ao(c,h,M)}return h.flags|=1,c=Zo(R,w),c.ref=h.ref,c.return=h,h.child=c}function TC(c,h,x,w,M){if(c!==null&&Zp(c.memoizedProps,w)&&c.ref===h.ref)if(di=!1,(c.lanes&M)!==0)c.flags&131072&&(di=!0);else return h.lanes=c.lanes,ao(c,h,M);return Ax(c,h,x,w,M)}function RC(c,h,x){var w=h.pendingProps,M=w.children,R=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Ue(ku,pi),pi|=x;else if(x&1073741824)h.memoizedState={baseLanes:0,cachePool:null},w=R!==null?R.baseLanes:x,Ue(ku,pi),pi|=w;else return c=R!==null?R.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null},h.updateQueue=null,Ue(ku,pi),pi|=c,null;else R!==null?(w=R.baseLanes|x,h.memoizedState=null):w=x,Ue(ku,pi),pi|=w;return Hr(c,h,M,x),h.child}function PC(c,h){var x=h.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function Ax(c,h,x,w,M){var R=An(x)?rn:yt.current;return R=Fn(h,R),Bu(h,M),x=px(c,h,x,w,R,M),w=mx(),c!==null&&!di?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~M,ao(c,h,M)):(Sn&&w&&ix(h),h.flags|=1,Hr(c,h,x,M),h.child)}function BC(c,h,x,w,M){if(An(x)){var R=!0;Lt(h)}else R=!1;if(Bu(h,M),h.stateNode===null)c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),Xb(h,x,w),rx(h,x,w,M),w=!0;else if(c===null){var W=h.stateNode,te=h.memoizedProps;W.props=te;var ye=W.context,Le=x.contextType;typeof Le=="object"&&Le!==null?Le=Oi(Le):(Le=An(x)?rn:yt.current,Le=Fn(h,Le));var st=x.getDerivedStateFromProps,Pt=typeof st=="function"||typeof W.getSnapshotBeforeUpdate=="function";Pt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(te!==w||ye!==Le)&&jb(h,W,w,Le),jo=!1;var xt=h.memoizedState;W.state=xt,nm(h,w,W,M),ye=h.memoizedState,te!==w||xt!==ye||At.current||jo?(typeof st=="function"&&(nx(h,x,st,w),ye=h.memoizedState),(te=jo||Wb(h,x,te,w,xt,ye,Le))?(Pt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=ye),W.props=w,W.state=ye,W.context=Le,w=te):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{W=h.stateNode,Gb(c,h),te=h.memoizedProps,Le=h.type===h.elementType?te:as(h.type,te),W.props=Le,Pt=h.pendingProps,xt=W.context,ye=x.contextType,typeof ye=="object"&&ye!==null?ye=Oi(ye):(ye=An(x)?rn:yt.current,ye=Fn(h,ye));var un=x.getDerivedStateFromProps;(st=typeof un=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(te!==Pt||xt!==ye)&&jb(h,W,w,ye),jo=!1,xt=h.memoizedState,W.state=xt,nm(h,w,W,M);var ft=h.memoizedState;te!==Pt||xt!==ft||At.current||jo?(typeof un=="function"&&(nx(h,x,un,w),ft=h.memoizedState),(Le=jo||Wb(h,x,Le,w,xt,ft,ye)||!1)?(st||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,ft,ye),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,ft,ye)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||te===c.memoizedProps&&xt===c.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&xt===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=ft),W.props=w,W.state=ft,W.context=ye,w=Le):(typeof W.componentDidUpdate!="function"||te===c.memoizedProps&&xt===c.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&xt===c.memoizedState||(h.flags|=1024),w=!1)}return Sx(c,h,x,w,R,M)}function Sx(c,h,x,w,M,R){PC(c,h);var W=(h.flags&128)!==0;if(!w&&!W)return M&&zt(h,x,!1),ao(c,h,R);w=h.stateNode,fG.current=h;var te=W&&typeof x.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,c!==null&&W?(h.child=Fu(h,c.child,null,R),h.child=Fu(h,null,te,R)):Hr(c,h,te,R),h.memoizedState=w.state,M&&zt(h,x,!0),h.child}function IC(c){var h=c.stateNode;h.pendingContext?Ht(c,h.pendingContext,h.pendingContext!==h.context):h.context&&Ht(c,h.context,!1),ux(c,h.containerInfo)}function LC(c,h,x,w,M){return Du(),lx(M),h.flags|=256,Hr(c,h,x,w),h.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function ym(c){return{baseLanes:c,cachePool:null}}function DC(c,h,x){var w=h.pendingProps,M=Cn.current,R=!1,W=(h.flags&128)!==0,te;if((te=W)||(te=c!==null&&c.memoizedState===null?!1:(M&2)!==0),te?(R=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(M|=1),Ue(Cn,M&1),c===null)return ax(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(h.mode&1?sl(c)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(M=w.children,c=w.fallback,R?(w=h.mode,R=h.child,M={mode:"hidden",children:M},!(w&1)&&R!==null?(R.childLanes=0,R.pendingProps=M):R=Um(M,w,0,null),c=ml(c,w,x,null),R.return=h,c.return=h,R.sibling=c,h.child=R,h.child.memoizedState=ym(x),h.memoizedState=vm,c):wx(h,M));if(M=c.memoizedState,M!==null){if(te=M.dehydrated,te!==null){if(W)return h.flags&256?(h.flags&=-257,xm(c,h,x,Error(o(422)))):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(R=w.fallback,M=h.mode,w=Um({mode:"visible",children:w.children},M,0,null),R=ml(R,M,x,null),R.flags|=2,w.return=h,R.return=h,w.sibling=R,h.child=w,h.mode&1&&Fu(h,c.child,null,x),h.child.memoizedState=ym(x),h.memoizedState=vm,R);if(!(h.mode&1))h=xm(c,h,x,null);else if(sl(te))h=xm(c,h,x,Error(o(419)));else if(w=(x&c.childLanes)!==0,di||w){if(w=Xn,w!==null){switch(x&-x){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}w=R&(w.suspendedLanes|x)?0:R,w!==0&&w!==M.retryLane&&(M.retryLane=w,Hi(c,w,-1))}Vx(),h=xm(c,h,x,Error(o(421)))}else Ps(te)?(h.flags|=128,h.child=c.child,h=EG.bind(null,c),Di(te,h),h=null):(x=M.treeContext,Ce&&(hi=Ru(te),fi=h,Sn=!0,ls=null,qf=!1,x!==null&&(Ni[Ui++]=io,Ni[Ui++]=so,Ni[Ui++]=al,io=x.id,so=x.overflow,al=h)),h=wx(h,h.pendingProps.children),h.flags|=4096);return h}return R?(w=OC(c,h,w.children,w.fallback,x),R=h.child,M=c.child.memoizedState,R.memoizedState=M===null?ym(x):{baseLanes:M.baseLanes|x,cachePool:null},R.childLanes=c.childLanes&~x,h.memoizedState=vm,w):(x=FC(c,h,w.children,x),h.memoizedState=null,x)}return R?(w=OC(c,h,w.children,w.fallback,x),R=h.child,M=c.child.memoizedState,R.memoizedState=M===null?ym(x):{baseLanes:M.baseLanes|x,cachePool:null},R.childLanes=c.childLanes&~x,h.memoizedState=vm,w):(x=FC(c,h,w.children,x),h.memoizedState=null,x)}function wx(c,h){return h=Um({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function FC(c,h,x,w){var M=c.child;return c=M.sibling,x=Zo(M,{mode:"visible",children:x}),!(h.mode&1)&&(x.lanes=w),x.return=h,x.sibling=null,c!==null&&(w=h.deletions,w===null?(h.deletions=[c],h.flags|=16):w.push(c)),h.child=x}function OC(c,h,x,w,M){var R=h.mode;c=c.child;var W=c.sibling,te={mode:"hidden",children:x};return!(R&1)&&h.child!==c?(x=h.child,x.childLanes=0,x.pendingProps=te,h.deletions=null):(x=Zo(c,te),x.subtreeFlags=c.subtreeFlags&14680064),W!==null?w=Zo(W,w):(w=ml(w,R,M,null),w.flags|=2),w.return=h,x.return=h,x.sibling=w,h.child=x,w}function xm(c,h,x,w){return w!==null&&lx(w),Fu(h,c.child,null,x),c=wx(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function NC(c,h,x){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),ex(c.return,h,x)}function Ex(c,h,x,w,M){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:M}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=w,R.tail=x,R.tailMode=M)}function UC(c,h,x){var w=h.pendingProps,M=w.revealOrder,R=w.tail;if(Hr(c,h,w.children,x),w=Cn.current,w&2)w=w&1|2,h.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&NC(c,x,h);else if(c.tag===19)NC(c,x,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Ue(Cn,w),!(h.mode&1))h.memoizedState=null;else switch(M){case"forwards":for(x=h.child,M=null;x!==null;)c=x.alternate,c!==null&&am(c)===null&&(M=x),x=x.sibling;x=M,x===null?(M=h.child,h.child=null):(M=x.sibling,x.sibling=null),Ex(h,!1,M,x,R);break;case"backwards":for(x=null,M=h.child,h.child=null;M!==null;){if(c=M.alternate,c!==null&&am(c)===null){h.child=M;break}c=M.sibling,M.sibling=x,x=M,M=c}Ex(h,!0,x,null,R);break;case"together":Ex(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ao(c,h,x){if(c!==null&&(h.dependencies=c.dependencies),Gu|=h.lanes,!(x&h.childLanes))return null;if(c!==null&&h.child!==c.child)throw Error(o(153));if(h.child!==null){for(c=h.child,x=Zo(c,c.pendingProps),h.child=x,x.return=h;c.sibling!==null;)c=c.sibling,x=x.sibling=Zo(c,c.pendingProps),x.return=h;x.sibling=null}return h.child}function hG(c,h,x){switch(h.tag){case 3:IC(h),Du();break;case 5:eC(h);break;case 1:An(h.type)&&Lt(h);break;case 4:ux(h,h.stateNode.containerInfo);break;case 10:kb(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Ue(Cn,Cn.current&1),h.flags|=128,null):x&h.child.childLanes?DC(c,h,x):(Ue(Cn,Cn.current&1),c=ao(c,h,x),c!==null?c.sibling:null);Ue(Cn,Cn.current&1);break;case 19:if(w=(x&h.childLanes)!==0,c.flags&128){if(w)return UC(c,h,x);h.flags|=128}var M=h.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ue(Cn,Cn.current),w)break;return null;case 22:case 23:return h.lanes=0,RC(c,h,x)}return ao(c,h,x)}function dG(c,h){switch(sx(h),h.tag){case 1:return An(h.type)&&Jt(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Nu(),qe(At),qe(yt),hx(),c=h.flags,c&65536&&!(c&128)?(h.flags=c&-65537|128,h):null;case 5:return cx(h),null;case 13:if(qe(Cn),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Du()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return qe(Cn),null;case 4:return Nu(),null;case 10:return qy(h.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var _m=!1,cl=!1,pG=typeof WeakSet=="function"?WeakSet:Set,je=null;function Am(c,h){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(w){ni(c,h,w)}else x.current=null}function Mx(c,h,x){try{x()}catch(w){ni(c,h,w)}}var kC=!1;function mG(c,h){for(Z(c.containerInfo),je=h;je!==null;)if(c=je,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,je=h;else for(;je!==null;){c=je;try{var x=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,M=x.memoizedState,R=c.stateNode,W=R.getSnapshotBeforeUpdate(c.elementType===c.type?w:as(c.type,w),M);R.__reactInternalSnapshotBeforeUpdate=W}break;case 3:tt&&Ve(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){ni(c,c.return,te)}if(h=c.sibling,h!==null){h.return=c.return,je=h;break}je=c.return}return x=kC,kC=!1,x}function fl(c,h,x){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var M=w=w.next;do{if((M.tag&c)===c){var R=M.destroy;M.destroy=void 0,R!==void 0&&Mx(h,x,R)}M=M.next}while(M!==w)}}function fh(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&c)===c){var w=x.create;x.destroy=w()}x=x.next}while(x!==h)}}function bx(c){var h=c.ref;if(h!==null){var x=c.stateNode;switch(c.tag){case 5:c=ne(x);break;default:c=x}typeof h=="function"?h(c):h.current=c}}function GC(c,h,x){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(Yp,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(c=h.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var M=w,R=M.destroy;M=M.tag,R!==void 0&&(M&2||M&4)&&Mx(h,x,R),w=w.next}while(w!==c)}break;case 1:if(Am(h,x),c=h.stateNode,typeof c.componentWillUnmount=="function")try{c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch(W){ni(h,x,W)}break;case 5:Am(h,x);break;case 4:tt?jC(c,h,x):$&&$&&(h=h.stateNode.containerInfo,x=Ne(h),tn(h,x))}}function HC(c,h,x){for(var w=h;;)if(GC(c,w,x),w.child===null||tt&&w.tag===4){if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function zC(c){var h=c.alternate;h!==null&&(c.alternate=null,zC(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Qe(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function VC(c){return c.tag===5||c.tag===3||c.tag===4}function WC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||VC(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function XC(c){if(tt){e:{for(var h=c.return;h!==null;){if(VC(h))break e;h=h.return}throw Error(o(160))}var x=h;switch(x.tag){case 5:h=x.stateNode,x.flags&32&&(Ke(h),x.flags&=-33),x=WC(c),Tx(c,x,h);break;case 3:case 4:h=x.stateNode.containerInfo,x=WC(c),Cx(c,x,h);break;default:throw Error(o(161))}}}function Cx(c,h,x){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?pt(x,c,h):De(x,c);else if(w!==4&&(c=c.child,c!==null))for(Cx(c,h,x),c=c.sibling;c!==null;)Cx(c,h,x),c=c.sibling}function Tx(c,h,x){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?ln(x,c,h):mt(x,c);else if(w!==4&&(c=c.child,c!==null))for(Tx(c,h,x),c=c.sibling;c!==null;)Tx(c,h,x),c=c.sibling}function jC(c,h,x){for(var w=h,M=!1,R,W;;){if(!M){M=w.return;e:for(;;){if(M===null)throw Error(o(160));switch(R=M.stateNode,M.tag){case 5:W=!1;break e;case 3:R=R.containerInfo,W=!0;break e;case 4:R=R.containerInfo,W=!0;break e}M=M.return}M=!0}if(w.tag===5||w.tag===6)HC(c,w,x),W?it(R,w.stateNode):ht(R,w.stateNode);else if(w.tag===18)W?J(R,w.stateNode):K(R,w.stateNode);else if(w.tag===4){if(w.child!==null){R=w.stateNode.containerInfo,W=!0,w.child.return=w,w=w.child;continue}}else if(GC(c,w,x),w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return,w.tag===4&&(M=!1)}w.sibling.return=w.return,w=w.sibling}}function Rx(c,h){if(tt){switch(h.tag){case 0:case 11:case 14:case 15:fl(3,h,h.return),fh(3,h),fl(5,h,h.return);return;case 1:return;case 5:var x=h.stateNode;if(x!=null){var w=h.memoizedProps;c=c!==null?c.memoizedProps:w;var M=h.type,R=h.updateQueue;h.updateQueue=null,R!==null&&Fe(x,R,M,c,w,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));x=h.memoizedProps,ze(h.stateNode,c!==null?c.memoizedProps:x,x);return;case 3:Ce&&c!==null&&c.memoizedState.isDehydrated&&k(h.stateNode.containerInfo);return;case 12:return;case 13:Sm(h);return;case 19:Sm(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:fl(3,h,h.return),fh(3,h),fl(5,h,h.return);return;case 12:return;case 13:Sm(h);return;case 19:Sm(h);return;case 3:Ce&&c!==null&&c.memoizedState.isDehydrated&&k(h.stateNode.containerInfo);break;case 22:case 23:return}e:if($){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,tn(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Sm(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new pG),h.forEach(function(w){var M=MG.bind(null,c,w);x.has(w)||(x.add(w),w.then(M,M))})}}function gG(c,h){for(je=h;je!==null;){h=je;var x=h.deletions;if(x!==null)for(var w=0;w<x.length;w++){var M=x[w];try{var R=c;tt?jC(R,M,h):HC(R,M,h);var W=M.alternate;W!==null&&(W.return=null),M.return=null}catch(ut){ni(M,h,ut)}}if(x=h.child,h.subtreeFlags&12854&&x!==null)x.return=h,je=x;else for(;je!==null;){h=je;try{var te=h.flags;if(te&32&&tt&&Ke(h.stateNode),te&512){var ye=h.alternate;if(ye!==null){var Le=ye.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(te&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var st=h.alternate;(st===null||st.memoizedState===null)&&(Ox=sr())}break;case 22:var Pt=h.memoizedState!==null,xt=h.alternate,un=xt!==null&&xt.memoizedState!==null;if(x=h,tt){e:if(w=x,M=Pt,R=null,tt)for(var ft=w;;){if(ft.tag===5){if(R===null){R=ft;var Er=ft.stateNode;M?gt(Er):Pe(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(R===null){var Vi=ft.stateNode;M?Ct(Vi):ee(Vi,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===w)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===w)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===w)break e;R===ft&&(R=null),ft=ft.return}R===ft&&(R=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Pt&&!un&&x.mode&1){je=x;for(var le=x.child;le!==null;){for(x=je=le;je!==null;){w=je;var ie=w.child;switch(w.tag){case 0:case 11:case 14:case 15:fl(4,w,w.return);break;case 1:Am(w,w.return);var de=w.stateNode;if(typeof de.componentWillUnmount=="function"){var $e=w.return;try{de.props=w.memoizedProps,de.state=w.memoizedState,de.componentWillUnmount()}catch(ut){ni(w,$e,ut)}}break;case 5:Am(w,w.return);break;case 22:if(w.memoizedState!==null){KC(x);continue}}ie!==null?(ie.return=w,je=ie):KC(x)}le=le.sibling}}}switch(te&4102){case 2:XC(h),h.flags&=-3;break;case 6:XC(h),h.flags&=-3,Rx(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Rx(h.alternate,h);break;case 4:Rx(h.alternate,h)}}catch(ut){ni(h,h.return,ut)}if(x=h.sibling,x!==null){x.return=h.return,je=x;break}je=h.return}}}function vG(c,h,x){je=c,JC(c)}function JC(c,h,x){for(var w=(c.mode&1)!==0;je!==null;){var M=je,R=M.child;if(M.tag===22&&w){var W=M.memoizedState!==null||_m;if(!W){var te=M.alternate,ye=te!==null&&te.memoizedState!==null||cl;te=_m;var Le=cl;if(_m=W,(cl=ye)&&!Le)for(je=M;je!==null;)W=je,ye=W.child,W.tag===22&&W.memoizedState!==null?YC(M):ye!==null?(ye.return=W,je=ye):YC(M);for(;R!==null;)je=R,JC(R),R=R.sibling;je=M,_m=te,cl=Le}$C(c)}else M.subtreeFlags&8772&&R!==null?(R.return=M,je=R):$C(c)}}function $C(c){for(;je!==null;){var h=je;if(h.flags&8772){var x=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:cl||fh(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!cl)if(x===null)w.componentDidMount();else{var M=h.elementType===h.type?x.memoizedProps:as(h.type,x.memoizedProps);w.componentDidUpdate(M,x.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&zb(h,R,w);break;case 3:var W=h.updateQueue;if(W!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=ne(h.child.stateNode);break;case 1:x=h.child.stateNode}zb(h,W,x)}break;case 5:var te=h.stateNode;x===null&&h.flags&4&&wt(te,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ce&&h.memoizedState===null){var ye=h.alternate;if(ye!==null){var Le=ye.memoizedState;if(Le!==null){var st=Le.dehydrated;st!==null&&z(st)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}cl||h.flags&512&&bx(h)}catch(Pt){ni(h,h.return,Pt)}}if(h===c){je=null;break}if(x=h.sibling,x!==null){x.return=h.return,je=x;break}je=h.return}}function KC(c){for(;je!==null;){var h=je;if(h===c){je=null;break}var x=h.sibling;if(x!==null){x.return=h.return,je=x;break}je=h.return}}function YC(c){for(;je!==null;){var h=je;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{fh(4,h)}catch(ye){ni(h,x,ye)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var M=h.return;try{w.componentDidMount()}catch(ye){ni(h,M,ye)}}var R=h.return;try{bx(h)}catch(ye){ni(h,R,ye)}break;case 5:var W=h.return;try{bx(h)}catch(ye){ni(h,W,ye)}}}catch(ye){ni(h,h.return,ye)}if(h===c){je=null;break}var te=h.sibling;if(te!==null){te.return=h.return,je=te;break}je=h.return}}var wm=0,Em=1,Mm=2,bm=3,Cm=4;if(typeof Symbol=="function"&&Symbol.for){var hh=Symbol.for;wm=hh("selector.component"),Em=hh("selector.has_pseudo_class"),Mm=hh("selector.role"),bm=hh("selector.test_id"),Cm=hh("selector.text")}function Px(c){var h=_e(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(c=V(c),c===null)throw Error(o(362));return c.stateNode.current}function Bx(c,h){switch(h.$$typeof){case wm:if(c.type===h.value)return!0;break;case Em:e:{h=h.value,c=[c,0];for(var x=0;x<c.length;){var w=c[x++],M=c[x++],R=h[M];if(w.tag!==5||!xe(w)){for(;R!=null&&Bx(w,R);)M++,R=h[M];if(M===h.length){h=!0;break e}else for(w=w.child;w!==null;)c.push(w,M),w=w.sibling}}h=!1}return h;case Mm:if(c.tag===5&&Re(c.stateNode,h.value))return!0;break;case Cm:if((c.tag===5||c.tag===6)&&(c=pe(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case bm:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ix(c){switch(c.$$typeof){case wm:return"<"+(P(c.value)||"Unknown")+">";case Em:return":has("+(Ix(c)||"")+")";case Mm:return'[role="'+c.value+'"]';case Cm:return'"'+c.value+'"';case bm:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function QC(c,h){var x=[];c=[c,0];for(var w=0;w<c.length;){var M=c[w++],R=c[w++],W=h[R];if(M.tag!==5||!xe(M)){for(;W!=null&&Bx(M,W);)R++,W=h[R];if(R===h.length)x.push(M);else for(M=M.child;M!==null;)c.push(M,R),M=M.sibling}}return x}function Lx(c,h){if(!bt)throw Error(o(363));c=Px(c),c=QC(c,h),h=[],c=Array.from(c);for(var x=0;x<c.length;){var w=c[x++];if(w.tag===5)xe(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return h}var yG=Math.ceil,Tm=a.ReactCurrentDispatcher,Dx=a.ReactCurrentOwner,Gn=a.ReactCurrentBatchConfig,Gt=0,Xn=null,jn=null,pr=0,pi=0,ku=Tt(0),Qn=0,dh=null,Gu=0,Rm=0,Fx=0,ph=null,ei=null,Ox=0,Nx=1/0;function Hu(){Nx=sr()+500}var Pm=!1,Ux=null,$o=null,Bm=!1,Ko=null,Im=0,mh=0,kx=null,Lm=-1,Dm=0;function zr(){return Gt&6?sr():Lm!==-1?Lm:Lm=sr()}function Yo(c){return c.mode&1?Gt&2&&pr!==0?pr&-pr:eG.transition!==null?(Dm===0&&(c=Jp,Jp<<=1,!(Jp&4194240)&&(Jp=64),Dm=c),Dm):(c=Zt,c!==0?c:Ee()):1}function Hi(c,h,x){if(50<mh)throw mh=0,kx=null,Error(o(185));var w=Fm(c,h);return w===null?null:(Zf(w,h,x),(!(Gt&2)||w!==Xn)&&(w===Xn&&(!(Gt&2)&&(Rm|=h),Qn===4&&Qo(w,pr)),ti(w,x),h===1&&Gt===0&&!(c.mode&1)&&(Hu(),Qp&&Ds())),w)}function Fm(c,h){c.lanes|=h;var x=c.alternate;for(x!==null&&(x.lanes|=h),x=c,c=c.return;c!==null;)c.childLanes|=h,x=c.alternate,x!==null&&(x.childLanes|=h),x=c,c=c.return;return x.tag===3?x.stateNode:null}function ti(c,h){var x=c.callbackNode;X4(c,h);var w=Kp(c,c===Xn?pr:0);if(w===0)x!==null&&Nb(x),c.callbackNode=null,c.callbackPriority=0;else if(h=w&-w,c.callbackPriority!==h){if(x!=null&&Nb(x),h===1)c.tag===0?q4(qC.bind(null,c)):Ub(qC.bind(null,c)),Je?ot(function(){Gt===0&&Ds()}):Jy($y,Ds),x=null;else{switch(Ob(w)){case 1:x=$y;break;case 4:x=K4;break;case 16:x=Ky;break;case 536870912:x=Y4;break;default:x=Ky}x=lT(x,ZC.bind(null,c))}c.callbackPriority=h,c.callbackNode=x}}function ZC(c,h){if(Lm=-1,Dm=0,Gt&6)throw Error(o(327));var x=c.callbackNode;if(pl()&&c.callbackNode!==x)return null;var w=Kp(c,c===Xn?pr:0);if(w===0)return null;if(w&30||w&c.expiredLanes||h)h=Om(c,w);else{h=w;var M=Gt;Gt|=2;var R=nT();(Xn!==c||pr!==h)&&(Hu(),hl(c,h));do try{AG();break}catch(te){tT(c,te)}while(!0);Zy(),Tm.current=R,Gt=M,jn!==null?h=0:(Xn=null,pr=0,h=Qn)}if(h!==0){if(h===2&&(M=Wy(c),M!==0&&(w=M,h=Gx(c,M))),h===1)throw x=dh,hl(c,0),Qo(c,w),ti(c,sr()),x;if(h===6)Qo(c,w);else{if(M=c.current.alternate,!(w&30)&&!xG(M)&&(h=Om(c,w),h===2&&(R=Wy(c),R!==0&&(w=R,h=Gx(c,R))),h===1))throw x=dh,hl(c,0),Qo(c,w),ti(c,sr()),x;switch(c.finishedWork=M,c.finishedLanes=w,h){case 0:case 1:throw Error(o(345));case 2:dl(c,ei);break;case 3:if(Qo(c,w),(w&130023424)===w&&(h=Ox+500-sr(),10<h)){if(Kp(c,0)!==0)break;if(M=c.suspendedLanes,(M&w)!==w){zr(),c.pingedLanes|=c.suspendedLanes&M;break}c.timeoutHandle=We(dl.bind(null,c,ei),h);break}dl(c,ei);break;case 4:if(Qo(c,w),(w&4194240)===w)break;for(h=c.eventTimes,M=-1;0<w;){var W=31-cn(w);R=1<<W,W=h[W],W>M&&(M=W),w&=~R}if(w=M,w=sr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*yG(w/1960))-w,10<w){c.timeoutHandle=We(dl.bind(null,c,ei),w);break}dl(c,ei);break;case 5:dl(c,ei);break;default:throw Error(o(329))}}}return ti(c,sr()),c.callbackNode===x?ZC.bind(null,c):null}function Gx(c,h){var x=ph;return c.current.memoizedState.isDehydrated&&(hl(c,h).flags|=256),c=Om(c,h),c!==2&&(h=ei,ei=x,h!==null&&Hx(h)),c}function Hx(c){ei===null?ei=c:ei.push.apply(ei,c)}function xG(c){for(var h=c;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var w=0;w<x.length;w++){var M=x[w],R=M.getSnapshot;M=M.value;try{if(!Ls(R(),M))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Qo(c,h){for(h&=~Fx,h&=~Rm,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var x=31-cn(h),w=1<<x;c[x]=-1,h&=~w}}function qC(c){if(Gt&6)throw Error(o(327));pl();var h=Kp(c,0);if(!(h&1))return ti(c,sr()),null;var x=Om(c,h);if(c.tag!==0&&x===2){var w=Wy(c);w!==0&&(h=w,x=Gx(c,w))}if(x===1)throw x=dh,hl(c,0),Qo(c,h),ti(c,sr()),x;if(x===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,dl(c,ei),ti(c,sr()),null}function eT(c){Ko!==null&&Ko.tag===0&&!(Gt&6)&&pl();var h=Gt;Gt|=1;var x=Gn.transition,w=Zt;try{if(Gn.transition=null,Zt=1,c)return c()}finally{Zt=w,Gn.transition=x,Gt=h,!(Gt&6)&&Ds()}}function zx(){pi=ku.current,qe(ku)}function hl(c,h){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==et&&(c.timeoutHandle=et,Ye(x)),jn!==null)for(x=jn.return;x!==null;){var w=x;switch(sx(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Jt();break;case 3:Nu(),qe(At),qe(yt),hx();break;case 5:cx(w);break;case 4:Nu();break;case 13:qe(Cn);break;case 19:qe(Cn);break;case 10:qy(w.type._context);break;case 22:case 23:zx()}x=x.return}if(Xn=c,jn=c=Zo(c.current,null),pr=pi=h,Qn=0,dh=null,Fx=Rm=Gu=0,ei=ph=null,Fs!==null){for(h=0;h<Fs.length;h++)if(x=Fs[h],w=x.interleaved,w!==null){x.interleaved=null;var M=w.next,R=x.pending;if(R!==null){var W=R.next;R.next=M,w.next=W}x.pending=w}Fs=null}return c}function tT(c,h){do{var x=jn;try{if(Zy(),lm.current=pm,um){for(var w=On.memoizedState;w!==null;){var M=w.queue;M!==null&&(M.pending=null),w=w.next}um=!1}if(Uu=0,or=Ar=On=null,ih=!1,sh=0,Dx.current=null,x===null||x.return===null){Qn=1,dh=h,jn=null;break}e:{var R=c,W=x.return,te=x,ye=h;if(h=pr,te.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Le=ye,st=te,Pt=st.tag;if(!(st.mode&1)&&(Pt===0||Pt===11||Pt===15)){var xt=st.alternate;xt?(st.updateQueue=xt.updateQueue,st.memoizedState=xt.memoizedState,st.lanes=xt.lanes):(st.updateQueue=null,st.memoizedState=null)}var un=SC(W);if(un!==null){un.flags&=-257,wC(un,W,te,R,h),un.mode&1&&AC(R,Le,h),h=un,ye=Le;var ft=h.updateQueue;if(ft===null){var Er=new Set;Er.add(ye),h.updateQueue=Er}else ft.add(ye);break e}else{if(!(h&1)){AC(R,Le,h),Vx();break e}ye=Error(o(426))}}else if(Sn&&te.mode&1){var Vi=SC(W);if(Vi!==null){!(Vi.flags&65536)&&(Vi.flags|=256),wC(Vi,W,te,R,h),lx(ye);break e}}R=ye,Qn!==4&&(Qn=2),ph===null?ph=[R]:ph.push(R),ye=xx(ye,te),te=W;do{switch(te.tag){case 3:te.flags|=65536,h&=-h,te.lanes|=h;var le=xC(te,ye,h);Hb(te,le);break e;case 1:R=ye;var ie=te.type,de=te.stateNode;if(!(te.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&($o===null||!$o.has(de)))){te.flags|=65536,h&=-h,te.lanes|=h;var $e=_C(te,R,h);Hb(te,$e);break e}}te=te.return}while(te!==null)}iT(x)}catch(ut){h=ut,jn===x&&x!==null&&(jn=x=x.return);continue}break}while(!0)}function nT(){var c=Tm.current;return Tm.current=pm,c===null?pm:c}function Vx(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),Xn===null||!(Gu&268435455)&&!(Rm&268435455)||Qo(Xn,pr)}function Om(c,h){var x=Gt;Gt|=2;var w=nT();Xn===c&&pr===h||hl(c,h);do try{_G();break}catch(M){tT(c,M)}while(!0);if(Zy(),Gt=x,Tm.current=w,jn!==null)throw Error(o(261));return Xn=null,pr=0,Qn}function _G(){for(;jn!==null;)rT(jn)}function AG(){for(;jn!==null&&!J4();)rT(jn)}function rT(c){var h=aT(c.alternate,c,pi);c.memoizedProps=c.pendingProps,h===null?iT(c):jn=h,Dx.current=null}function iT(c){var h=c;do{var x=h.alternate;if(c=h.return,h.flags&32768){if(x=dG(x,h),x!==null){x.flags&=32767,jn=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Qn=6,jn=null;return}}else if(x=cG(x,h,pi),x!==null){jn=x;return}if(h=h.sibling,h!==null){jn=h;return}jn=h=c}while(h!==null);Qn===0&&(Qn=5)}function dl(c,h){var x=Zt,w=Gn.transition;try{Gn.transition=null,Zt=1,SG(c,h,x)}finally{Gn.transition=w,Zt=x}return null}function SG(c,h,x){do pl();while(Ko!==null);if(Gt&6)throw Error(o(327));var w=c.finishedWork,M=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var R=w.lanes|w.childLanes;if(j4(c,R),c===Xn&&(jn=Xn=null,pr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Bm||(Bm=!0,lT(Ky,function(){return pl(),null})),R=(w.flags&15990)!==0,w.subtreeFlags&15990||R){R=Gn.transition,Gn.transition=null;var W=Zt;Zt=1;var te=Gt;Gt|=4,Dx.current=null,mG(c,w),gG(c,w),Y(c.containerInfo),c.current=w,vG(w),$4(),Gt=te,Zt=W,Gn.transition=R}else c.current=w;if(Bm&&(Bm=!1,Ko=c,Im=M),R=c.pendingLanes,R===0&&($o=null),Q4(w.stateNode),ti(c,sr()),h!==null)for(x=c.onRecoverableError,w=0;w<h.length;w++)x(h[w]);if(Pm)throw Pm=!1,c=Ux,Ux=null,c;return Im&1&&c.tag!==0&&pl(),R=c.pendingLanes,R&1?c===kx?mh++:(mh=0,kx=c):mh=0,Ds(),null}function pl(){if(Ko!==null){var c=Ob(Im),h=Gn.transition,x=Zt;try{if(Gn.transition=null,Zt=16>c?16:c,Ko===null)var w=!1;else{if(c=Ko,Ko=null,Im=0,Gt&6)throw Error(o(331));var M=Gt;for(Gt|=4,je=c.current;je!==null;){var R=je,W=R.child;if(je.flags&16){var te=R.deletions;if(te!==null){for(var ye=0;ye<te.length;ye++){var Le=te[ye];for(je=Le;je!==null;){var st=je;switch(st.tag){case 0:case 11:case 15:fl(8,st,R)}var Pt=st.child;if(Pt!==null)Pt.return=st,je=Pt;else for(;je!==null;){st=je;var xt=st.sibling,un=st.return;if(zC(st),st===Le){je=null;break}if(xt!==null){xt.return=un,je=xt;break}je=un}}}var ft=R.alternate;if(ft!==null){var Er=ft.child;if(Er!==null){ft.child=null;do{var Vi=Er.sibling;Er.sibling=null,Er=Vi}while(Er!==null)}}je=R}}if(R.subtreeFlags&2064&&W!==null)W.return=R,je=W;else e:for(;je!==null;){if(R=je,R.flags&2048)switch(R.tag){case 0:case 11:case 15:fl(9,R,R.return)}var le=R.sibling;if(le!==null){le.return=R.return,je=le;break e}je=R.return}}var ie=c.current;for(je=ie;je!==null;){W=je;var de=W.child;if(W.subtreeFlags&2064&&de!==null)de.return=W,je=de;else e:for(W=ie;je!==null;){if(te=je,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:fh(9,te)}}catch(ut){ni(te,te.return,ut)}if(te===W){je=null;break e}var $e=te.sibling;if($e!==null){$e.return=te.return,je=$e;break e}je=te.return}}if(Gt=M,Ds(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(Yp,c)}catch{}w=!0}return w}finally{Zt=x,Gn.transition=h}}return!1}function sT(c,h,x){h=xx(x,h),h=xC(c,h,1),Jo(c,h),h=zr(),c=Fm(c,1),c!==null&&(Zf(c,1,h),ti(c,h))}function ni(c,h,x){if(c.tag===3)sT(c,c,x);else for(;h!==null;){if(h.tag===3){sT(h,c,x);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&($o===null||!$o.has(w))){c=xx(x,c),c=_C(h,c,1),Jo(h,c),c=zr(),h=Fm(h,1),h!==null&&(Zf(h,1,c),ti(h,c));break}}h=h.return}}function wG(c,h,x){var w=c.pingCache;w!==null&&w.delete(h),h=zr(),c.pingedLanes|=c.suspendedLanes&x,Xn===c&&(pr&x)===x&&(Qn===4||Qn===3&&(pr&130023424)===pr&&500>sr()-Ox?hl(c,0):Fx|=x),ti(c,h)}function oT(c,h){h===0&&(c.mode&1?(h=$p,$p<<=1,!($p&130023424)&&($p=4194304)):h=1);var x=zr();c=Fm(c,h),c!==null&&(Zf(c,h,x),ti(c,x))}function EG(c){var h=c.memoizedState,x=0;h!==null&&(x=h.retryLane),oT(c,x)}function MG(c,h){var x=0;switch(c.tag){case 13:var w=c.stateNode,M=c.memoizedState;M!==null&&(x=M.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(h),oT(c,x)}var aT;aT=function(c,h,x){if(c!==null)if(c.memoizedProps!==h.pendingProps||At.current)di=!0;else{if(!(c.lanes&x)&&!(h.flags&128))return di=!1,hG(c,h,x);di=!!(c.flags&131072)}else di=!1,Sn&&h.flags&1048576&&Jb(h,sm,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps;var M=Fn(h,yt.current);Bu(h,x),M=px(null,h,w,c,M,x);var R=mx();return h.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,An(w)?(R=!0,Lt(h)):R=!1,h.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,tx(h),M.updater=rm,h.stateNode=M,M._reactInternals=h,rx(h,w,c,x),h=Sx(null,h,w,!0,R,x)):(h.tag=0,Sn&&R&&ix(h),Hr(null,h,M,x),h=h.child),h;case 16:w=h.elementType;e:{switch(c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps,M=w._init,w=M(w._payload),h.type=w,M=h.tag=CG(w),c=as(w,c),M){case 0:h=Ax(null,h,w,c,x);break e;case 1:h=BC(null,h,w,c,x);break e;case 11:h=bC(null,h,w,c,x);break e;case 14:h=CC(null,h,w,as(w.type,c),x);break e}throw Error(o(306,w,""))}return h;case 0:return w=h.type,M=h.pendingProps,M=h.elementType===w?M:as(w,M),Ax(c,h,w,M,x);case 1:return w=h.type,M=h.pendingProps,M=h.elementType===w?M:as(w,M),BC(c,h,w,M,x);case 3:e:{if(IC(h),c===null)throw Error(o(387));w=h.pendingProps,R=h.memoizedState,M=R.element,Gb(c,h),nm(h,w,null,x);var W=h.memoizedState;if(w=W.element,Ce&&R.isDehydrated)if(R={element:w,isDehydrated:!1,cache:W.cache,transitions:W.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){M=Error(o(423)),h=LC(c,h,w,x,M);break e}else if(w!==M){M=Error(o(424)),h=LC(c,h,w,x,M);break e}else for(Ce&&(hi=ol(h.stateNode.containerInfo),fi=h,Sn=!0,ls=null,qf=!1),x=qb(h,null,w,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Du(),w===M){h=ao(c,h,x);break e}Hr(c,h,w,x)}h=h.child}return h;case 5:return eC(h),c===null&&ax(h),w=h.type,M=h.pendingProps,R=c!==null?c.memoizedProps:null,W=M.children,Se(w,M)?W=null:R!==null&&Se(w,R)&&(h.flags|=32),PC(c,h),Hr(c,h,W,x),h.child;case 6:return c===null&&ax(h),null;case 13:return DC(c,h,x);case 4:return ux(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=Fu(h,null,w,x):Hr(c,h,w,x),h.child;case 11:return w=h.type,M=h.pendingProps,M=h.elementType===w?M:as(w,M),bC(c,h,w,M,x);case 7:return Hr(c,h,h.pendingProps,x),h.child;case 8:return Hr(c,h,h.pendingProps.children,x),h.child;case 12:return Hr(c,h,h.pendingProps.children,x),h.child;case 10:e:{if(w=h.type._context,M=h.pendingProps,R=h.memoizedProps,W=M.value,kb(h,w,W),R!==null)if(Ls(R.value,W)){if(R.children===M.children&&!At.current){h=ao(c,h,x);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var te=R.dependencies;if(te!==null){W=R.child;for(var ye=te.firstContext;ye!==null;){if(ye.context===w){if(R.tag===1){ye=ro(-1,x&-x),ye.tag=2;var Le=R.updateQueue;if(Le!==null){Le=Le.shared;var st=Le.pending;st===null?ye.next=ye:(ye.next=st.next,st.next=ye),Le.pending=ye}}R.lanes|=x,ye=R.alternate,ye!==null&&(ye.lanes|=x),ex(R.return,x,h),te.lanes|=x;break}ye=ye.next}}else if(R.tag===10)W=R.type===h.type?null:R.child;else if(R.tag===18){if(W=R.return,W===null)throw Error(o(341));W.lanes|=x,te=W.alternate,te!==null&&(te.lanes|=x),ex(W,x,h),W=R.sibling}else W=R.child;if(W!==null)W.return=R;else for(W=R;W!==null;){if(W===h){W=null;break}if(R=W.sibling,R!==null){R.return=W.return,W=R;break}W=W.return}R=W}Hr(c,h,M.children,x),h=h.child}return h;case 9:return M=h.type,w=h.pendingProps.children,Bu(h,x),M=Oi(M),w=w(M),h.flags|=1,Hr(c,h,w,x),h.child;case 14:return w=h.type,M=as(w,h.pendingProps),M=as(w.type,M),CC(c,h,w,M,x);case 15:return TC(c,h,h.type,h.pendingProps,x);case 17:return w=h.type,M=h.pendingProps,M=h.elementType===w?M:as(w,M),c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,An(w)?(c=!0,Lt(h)):c=!1,Bu(h,x),Xb(h,w,M),rx(h,w,M,x),Sx(null,h,w,!0,c,x);case 19:return UC(c,h,x);case 22:return RC(c,h,x)}throw Error(o(156,h.tag))};function lT(c,h){return Jy(c,h)}function bG(c,h,x,w){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(c,h,x,w){return new bG(c,h,x,w)}function Wx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function CG(c){if(typeof c=="function")return Wx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===_)return 11;if(c===S)return 14}return 2}function Zo(c,h){var x=c.alternate;return x===null?(x=zi(c.tag,h,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=h,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,h=c.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function Nm(c,h,x,w,M,R){var W=2;if(w=c,typeof c=="function")Wx(c)&&(W=1);else if(typeof c=="string")W=5;else e:switch(c){case f:return ml(x.children,M,R,h);case d:W=8,M|=8;break;case p:return c=zi(12,x,h,M|2),c.elementType=p,c.lanes=R,c;case y:return c=zi(13,x,h,M),c.elementType=y,c.lanes=R,c;case g:return c=zi(19,x,h,M),c.elementType=g,c.lanes=R,c;case E:return Um(x,M,R,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:W=10;break e;case v:W=9;break e;case _:W=11;break e;case S:W=14;break e;case A:W=16,w=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return h=zi(W,x,h,M),h.elementType=c,h.type=w,h.lanes=R,h}function ml(c,h,x,w){return c=zi(7,c,w,h),c.lanes=x,c}function Um(c,h,x,w){return c=zi(22,c,w,h),c.elementType=E,c.lanes=x,c.stateNode={},c}function Xx(c,h,x){return c=zi(6,c,null,h),c.lanes=x,c}function jx(c,h,x){return h=zi(4,c.children!==null?c.children:[],c.key,h),h.lanes=x,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function TG(c,h,x,w,M){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=et,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xy(0),this.expirationTimes=Xy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xy(0),this.identifierPrefix=w,this.onRecoverableError=M,Ce&&(this.mutableSourceEagerHydrationData=null)}function uT(c,h,x,w,M,R,W,te,ye){return c=new TG(c,h,x,te,ye),h===1?(h=1,R===!0&&(h|=8)):h=0,R=zi(3,null,null,h),c.current=R,R.stateNode=c,R.memoizedState={element:w,isDehydrated:x,cache:null,transitions:null},tx(R),c}function cT(c){if(!c)return kt;c=c._reactInternals;e:{if(N(c)!==c||c.tag!==1)throw Error(o(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(An(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(c.tag===1){var x=c.type;if(An(x))return bn(c,x,h)}return h}function fT(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=q(h),c===null?null:c.stateNode}function hT(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<h?x:h}}function Jx(c,h){hT(c,h),(c=c.alternate)&&hT(c,h)}function RG(c){return c=q(c),c===null?null:c.stateNode}function PG(){return null}return n.attemptContinuousHydration=function(c){if(c.tag===13){var h=zr();Hi(c,134217728,h),Jx(c,134217728)}},n.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=zr(),x=Yo(c);Hi(c,x,h),Jx(c,x)}},n.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var x=Qf(h.pendingLanes);x!==0&&(jy(h,x|1),ti(h,sr()),!(Gt&6)&&(Hu(),Ds()))}break;case 13:var w=zr();eT(function(){return Hi(c,1,w)}),Jx(c,1)}},n.batchedUpdates=function(c,h){var x=Gt;Gt|=1;try{return c(h)}finally{Gt=x,Gt===0&&(Hu(),Qp&&Ds())}},n.createComponentSelector=function(c){return{$$typeof:wm,value:c}},n.createContainer=function(c,h,x,w,M,R,W){return uT(c,h,!1,null,x,w,M,R,W)},n.createHasPseudoClassSelector=function(c){return{$$typeof:Em,value:c}},n.createHydrationContainer=function(c,h,x,w,M,R,W,te,ye){return c=uT(x,w,!0,c,M,R,W,te,ye),c.context=cT(null),x=c.current,w=zr(),M=Yo(x),R=ro(w,M),R.callback=h??null,Jo(x,R),c.current.lanes=M,Zf(c,M,w),ti(c,w),c},n.createPortal=function(c,h,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:c,containerInfo:h,implementation:x}},n.createRoleSelector=function(c){return{$$typeof:Mm,value:c}},n.createTestNameSelector=function(c){return{$$typeof:bm,value:c}},n.createTextSelector=function(c){return{$$typeof:Cm,value:c}},n.deferredUpdates=function(c){var h=Zt,x=Gn.transition;try{return Gn.transition=null,Zt=16,c()}finally{Zt=h,Gn.transition=x}},n.discreteUpdates=function(c,h,x,w,M){var R=Zt,W=Gn.transition;try{return Gn.transition=null,Zt=1,c(h,x,w,M)}finally{Zt=R,Gn.transition=W,Gt===0&&Hu()}},n.findAllNodes=Lx,n.findBoundingRects=function(c,h){if(!bt)throw Error(o(363));h=Lx(c,h),c=[];for(var x=0;x<h.length;x++)c.push(F(h[x]));for(h=c.length-1;0<h;h--){x=c[h];for(var w=x.x,M=w+x.width,R=x.y,W=R+x.height,te=h-1;0<=te;te--)if(h!==te){var ye=c[te],Le=ye.x,st=Le+ye.width,Pt=ye.y,xt=Pt+ye.height;if(w>=Le&&R>=Pt&&M<=st&&W<=xt){c.splice(h,1);break}else if(w!==Le||x.width!==ye.width||xt<R||Pt>W){if(!(R!==Pt||x.height!==ye.height||st<w||Le>M)){Le>w&&(ye.width+=Le-w,ye.x=w),st<M&&(ye.width=M-Le),c.splice(h,1);break}}else{Pt>R&&(ye.height+=Pt-R,ye.y=R),xt<W&&(ye.height=W-Pt),c.splice(h,1);break}}}return c},n.findHostInstance=fT,n.findHostInstanceWithNoPortals=function(c){return c=B(c),c=c!==null?X(c):null,c===null?null:c.stateNode},n.findHostInstanceWithWarning=function(c){return fT(c)},n.flushControlled=function(c){var h=Gt;Gt|=1;var x=Gn.transition,w=Zt;try{Gn.transition=null,Zt=1,c()}finally{Zt=w,Gn.transition=x,Gt=h,Gt===0&&(Hu(),Ds())}},n.flushPassiveEffects=pl,n.flushSync=eT,n.focusWithin=function(c,h){if(!bt)throw Error(o(363));for(c=Px(c),h=QC(c,h),h=Array.from(h),c=0;c<h.length;){var x=h[c++];if(!xe(x)){if(x.tag===5&&be(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Zt},n.getFindAllNodesFailureDescription=function(c,h){if(!bt)throw Error(o(363));var x=0,w=[];c=[Px(c),0];for(var M=0;M<c.length;){var R=c[M++],W=c[M++],te=h[W];if((R.tag!==5||!xe(R))&&(Bx(R,te)&&(w.push(Ix(te)),W++,W>x&&(x=W)),W<h.length))for(R=R.child;R!==null;)c.push(R,W),R=R.sibling}if(x<h.length){for(c=[];x<h.length;x++)c.push(Ix(h[x]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},n.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ne(c.child.stateNode);default:return c.child.stateNode}},n.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:RG,findFiberByHostInstance:c.findFiberByHostInstance||PG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{Yp=h.inject(c),Is=h}catch{}c=!!h.checkDCE}}return c},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(c,h,x,w){if(!bt)throw Error(o(363));c=Lx(c,h);var M=St(c,x,w).disconnect;return{disconnect:function(){M()}}},n.registerMutableSourceForHydration=function(c,h){var x=h._getVersion;x=x(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,x]:c.mutableSourceEagerHydrationData.push(h,x)},n.runWithPriority=function(c,h){var x=Zt;try{return Zt=c,h()}finally{Zt=x}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(c,h,x,w){var M=h.current,R=zr(),W=Yo(M);return x=cT(x),h.context===null?h.context=x:h.pendingContext=x,h=ro(R,W),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),Jo(M,h),c=Hi(M,W,R),c!==null&&tm(c,M,W),W},n};gN.exports=VX;var WX=gN.exports;const XX=dp(WX),jX=t=>typeof t=="object"&&typeof t.then=="function",Kl=[];function xN(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function _N(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Kl)if(xN(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Kl.indexOf(i);s!==-1&&Kl.splice(s,1)},promise:(jX(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Kl.push(i),!n)throw i.promise}const JX=(t,e,n)=>_N(t,e,!1,n),$X=(t,e,n)=>void _N(t,e,!0,n),KX=t=>{if(t===void 0||t.length===0)Kl.splice(0,Kl.length);else{const e=Kl.find(n=>xN(t,n.keys,n.equal));e&&e.remove()}},oM={},aM=t=>void Object.assign(oM,t);function YX(t,e){function n(f,{args:d=[],attach:p,...m},v){let _=`${f[0].toUpperCase()}${f.slice(1)}`,y;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=dc(g,{type:f,root:v,attach:p,primitive:!0})}else{const g=oM[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=dc(new g(...d),{type:f,root:v,attach:p,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof Rt?y.__r3f.attach="geometry":y instanceof Kn&&(y.__r3f.attach="material")),_!=="inject"&&a1(y,m),y}function r(f,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?o1(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(v=f.__r3f)==null||v.objects.push(d),d.__r3f||dc(d,{}),d.__r3f.parent=f,LS(d),pc(d)}}function i(f,d,p){let m=!1;if(d){var v,_;if((v=d.__r3f)!=null&&v.attach)o1(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const y=f.children.filter(S=>S!==d),g=y.indexOf(p);f.children=[...y.slice(0,g),d,...y.slice(g)],m=!0}m||(_=f.__r3f)==null||_.objects.push(d),d.__r3f||dc(d,{}),d.__r3f.parent=f,LS(d),pc(d)}}function s(f,d,p=!1){f&&[...f].forEach(m=>o(d,m,p))}function o(f,d,p){if(d){var m,v,_;if(d.__r3f&&(d.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)sP(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var y;f.remove(d),(y=d.__r3f)!=null&&y.root&&ij(C0(d),d)}const S=(_=d.__r3f)==null?void 0:_.primitive,A=!S&&(p===void 0?d.dispose!==null:p);if(!S){var g;s((g=d.__r3f)==null?void 0:g.objects,d,A),s(d.children,d,A)}if(delete d.__r3f,A&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?BS.unstable_scheduleCallback(BS.unstable_IdlePriority,E):E()}pc(f)}}function a(f,d,p,m){var v;const _=(v=f.__r3f)==null?void 0:v.parent;if(!_)return;const y=n(d,p,f.__r3f.root);if(f.children){for(const g of f.children)g.__r3f&&r(y,g);f.children=f.children.filter(g=>!g.__r3f)}f.__r3f.objects.forEach(g=>r(y,g)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(_,f),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(_,y),y.raycast&&y.__r3f.eventCount&&C0(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:XX({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const m=f.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,p,m){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:y=[],children:g,...S}=m,{args:A=[],children:E,...T}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,L)=>P!==A[L]))return[!0];const C=CN(f,S,T,!0);return C.changes.length?[!1,C]:null}},commitUpdate(f,[d,p],m,v,_,y){d?a(f,m,_,y):a1(f,p)},commitMount(f,d,p,m){var v;const _=(v=f.__r3f)!=null?v:{};f.raycast&&_.handlers&&_.eventCount&&C0(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>dc(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:m}=(d=f.__r3f)!=null?d:{};p&&m&&sP(m,f,p),f.isObject3D&&(f.visible=!1),pc(f)},unhideInstance(f,d){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&o1(v,f,m),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),pc(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():$c.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yn.fun(performance.now)?performance.now:yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:a1}}var tP,nP;const s1=t=>"colorSpace"in t||"outputColorSpace"in t,AN=()=>{var t;return(t=oM.ColorManagement)!=null?t:null},SN=t=>t&&t.isOrthographicCamera,QX=t=>t&&t.hasOwnProperty("current"),Ip=typeof window<"u"&&((tP=window.document)!=null&&tP.createElement||((nP=window.navigator)==null?void 0:nP.product)==="ReactNative")?j.useLayoutEffect:j.useEffect;function wN(t){const e=j.useRef(t);return Ip(()=>void(e.current=t),[t]),e}function ZX({set:t}){return Ip(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class EN extends j.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}EN.getDerivedStateFromError=()=>({error:!0});const MN="__default",rP=new Map,qX=t=>t&&!!t.memoized&&!!t.changes;function bN(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Fh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function C0(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yn={obj:t=>t===Object(t)&&!yn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(yn.str(t)||yn.num(t))return t===e;const s=yn.obj(t);if(s&&r==="reference")return t===e;const o=yn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!yn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(yn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function ej(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function tj(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function dc(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function IS(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const iP=/-\d+$/;function o1(t,e,n){if(yn.str(n)){if(iP.test(n)){const s=n.replace(iP,""),{target:o,key:a}=IS(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=IS(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function sP(t,e,n){var r,i;if(yn.str(n)){const{target:s,key:o}=IS(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function CN(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var f;const d=(f=t==null?void 0:t.__r3f)!=null?f:{},p=Object.entries(i),m=[];if(u){const _=Object.keys(l);for(let y=0;y<_.length;y++)i.hasOwnProperty(_[y])||p.unshift([_[y],MN+"remove"])}p.forEach(([_,y])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&_==="object"||yn.equ(y,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return m.push([_,y,!0,[]]);let S=[];_.includes("-")&&(S=_.split("-")),m.push([_,y,!1,S]);for(const A in i){const E=i[A];A.startsWith(`${_}-`)&&m.push([A,E,!1,A.split("-")])}});const v={...i};return d.memoizedProps&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}const nj=typeof process<"u"&&!1;function a1(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=qX(e)?e:CN(t,e),f=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,v,_,y]=u[p];if(s1(t)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:T)}let g=t,S=g[m];if(y.length&&(S=y.reduce((A,E)=>A[E],t),!(S&&S.set))){const[A,...E]=y.reverse();g=E.reverse().reduce((T,C)=>T[C],t),m=A}if(v===MN+"remove")if(g.constructor){let A=rP.get(g.constructor);A||(A=new g.constructor,rP.set(g.constructor,A)),v=A[m]}else v=0;if(_)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof tu)){if(Array.isArray(v))S.fromArray?S.fromArray(v):S.set(...v);else if(S.copy&&v&&v.constructor&&(nj?S.constructor.name===v.constructor.name:S.constructor===v.constructor))S.copy(v);else if(v!==void 0){const A=S instanceof He;!A&&S.setScalar?S.setScalar(v):S instanceof tu&&v instanceof tu?S.mask=v.mask:S.set(v),!AN()&&!a.linear&&A&&S.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof pn&&g[m].format===Ir&&g[m].type===Js){const A=g[m];s1(A)&&s1(a.gl)?A.colorSpace=a.gl.outputColorSpace:A.encoding=a.gl.outputEncoding}pc(t)}if(s.parent&&t.raycast&&f!==s.eventCount){const p=C0(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&LS(t),t}function pc(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function LS(t){t.onUpdate==null||t.onUpdate(t)}function TN(t,e){t.manual||(SN(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function $g(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function rj(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return $c.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $c.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return $c.ContinuousEventPriority;default:return $c.DefaultEventPriority}}function RN(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function ij(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{RN(n.capturedMap,e,r,i)})}function sj(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),d=new Set,p=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let g=0;g<m.length;g++){const S=Fh(m[g]);S&&(S.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(g){const S=Fh(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var A;S.events.compute==null||S.events.compute(l,S,(A=S.previousRoot)==null?void 0:A.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(v).sort((g,S)=>{const A=Fh(g.object),E=Fh(S.object);return!A||!E?g.distance-S.distance:E.events.priority-A.events.priority||g.distance-S.distance}).filter(g=>{const S=$g(g);return d.has(S)?!1:(d.add(S),!0)});f.events.filter&&(_=f.events.filter(_,f));for(const g of _){let S=g.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let g of f.internal.capturedMap.get(l.pointerId).values())d.has($g(g.intersection))||p.push(g.intersection);return p}function i(l,u,f,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const _=Fh(v.object)||p,{raycaster:y,pointer:g,camera:S,internal:A}=_,E=new G(g.x,g.y,0).unproject(S),T=b=>{var B,q;return(B=(q=A.capturedMap.get(b))==null?void 0:q.has(v.eventObject))!=null?B:!1},C=b=>{const B={intersection:v,target:u.target};A.capturedMap.has(b)?A.capturedMap.get(b).set(v.eventObject,B):A.capturedMap.set(b,new Map([[v.eventObject,B]])),u.target.setPointerCapture(b)},P=b=>{const B=A.capturedMap.get(b);B&&RN(A.capturedMap,v.eventObject,B,b)};let L={};for(let b in u){let B=u[b];typeof B!="function"&&(L[b]=B)}let N={...v,...L,pointer:g,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:E,ray:y.ray,camera:S,stopPropagation(){const b="pointerId"in u&&A.capturedMap.get(u.pointerId);if((!b||b.has(v.eventObject))&&(N.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(B=>B.eventObject===v.eventObject))){const B=l.slice(0,l.indexOf(v));s([...B,v])}},target:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:P},nativeEvent:u};if(d(N),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete($g(f)),p!=null&&p.eventCount){const v={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let f=0;f<u.length;f++){const d=u[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=f;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(f,m?n:void 0),g=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=y.map(A=>A.eventObject)),v&&!y.length&&g<=2&&(o(f,p.interaction),d&&d(f)),m&&s(y);function S(A){const E=A.eventObject,T=E.__r3f,C=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=$g(A),L=p.hovered.get(P);L?L.stopped&&A.stopPropagation():(p.hovered.set(P,A),C.onPointerOver==null||C.onPointerOver(A),C.onPointerEnter==null||C.onPointerEnter(A))}C.onPointerMove==null||C.onPointerMove(A)}else{const P=C[l];P?(!v||p.initialHits.includes(E))&&(o(f,p.interaction.filter(L=>!p.initialHits.includes(L))),P(A)):v&&p.initialHits.includes(E)&&o(f,p.interaction.filter(L=>!p.initialHits.includes(L)))}}i(y,f,g,S)}}return{handlePointer:a}}const oj=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],PN=t=>!!(t!=null&&t.render),lM=j.createContext(null),aj=(t,e)=>{const n=mN((a,l)=>{const u=new G,f=new G,d=new G;function p(g=l().camera,S=f,A=l().size){const{width:E,height:T,top:C,left:P}=A,L=E/T;S instanceof G?d.copy(S):d.set(...S);const N=g.getWorldPosition(u).distanceTo(d);if(SN(g))return{width:E/g.zoom,height:T/g.zoom,top:C,left:P,factor:1,distance:N,aspect:L};{const b=g.fov*Math.PI/180,B=2*Math.tan(b/2)*N,q=B*(E/T);return{width:q,height:B,top:C,left:P,factor:E/q,distance:N,aspect:L}}}let m;const v=g=>a(S=>({performance:{...S.performance,current:g}})),_=new Ae;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,S)=>e(g,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tM,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(S=>({...S,events:{...S.events,...g}})),setSize:(g,S,A,E,T)=>{const C=l().camera,P={width:g,height:S,top:E||0,left:T||0,updateStyle:A};a(L=>({size:P,viewport:{...L.viewport,...p(C,f,P)}}))},setDpr:g=>a(S=>{const A=bN(g);return{viewport:{...S.viewport,dpr:A,initialDpr:S.viewport.initialDpr||A}}}),setFrameloop:(g="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,g!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:j.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,S,A)=>{const E=l().internal;return E.priority=E.priority+(S>0?1:0),E.subscribers.push({ref:g,priority:S,store:A}),E.subscribers=E.subscribers.sort((T,C)=>T.priority-C.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(S>0?1:0),T.subscribers=T.subscribers.filter(C=>C.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var p;i=l,s=u.dpr,TN(a,l),f.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Kg,lj=new Set,uj=new Set,cj=new Set;function l1(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Oh(t,e){switch(t){case"before":return l1(lj,e);case"after":return l1(uj,e);case"tail":return l1(cj,e)}}let u1,c1;function f1(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),u1=e.internal.subscribers,Kg=0;Kg<u1.length;Kg++)c1=u1[Kg],c1.ref.current(c1.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function fj(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,Oh("before",l);for(const f of t.values()){var u;i=f.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=f1(l,i))}if(Oh("after",l),n===0)return Oh("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var f;if(!l)return t.forEach(d=>o(d.store.getState(),u));(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,f,d){if(u&&Oh("before",l),f)f1(l,f,d);else for(const p of t.values())f1(l,p.store.getState());u&&Oh("after",l)}return{loop:s,invalidate:o,advance:a}}function uM(){const t=j.useContext(lM);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function bo(t=n=>n,e){return uM()(t,e)}function xy(t,e=0){const n=uM(),r=n.getState().internal.subscribe,i=wN(t);return Ip(()=>r(i,e,n),[e,r,n]),null}const oP=new WeakMap;function BN(t,e){return function(n,...r){let i=oP.get(n);return i||(i=new n,oP.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,ej(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function zo(t,e,n,r){const i=Array.isArray(e)?e:[e],s=JX(BN(n,r),[t,...i],{equal:yn.equ});return Array.isArray(e)?s:s[0]}zo.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return $X(BN(n),[t,...r])};zo.clear=function(t,e){const n=Array.isArray(e)?e:[e];return KX([t,...n])};const Cf=new Map,{invalidate:aP,advance:lP}=fj(Cf),{reconciler:op,applyProps:Hs}=YX(Cf,rj),cc={objects:"shallow",strict:!1},hj=(t,e)=>{const n=typeof t=="function"?t(e):t;return PN(n)?n:new IE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function dj(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function pj(t){const e=Cf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||aj(aP,lP),o=n||op.createContainer(s,$c.ConcurrentRoot,null,!1,null,"",i,null);e||Cf.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(f={}){let{gl:d,size:p,scene:m,events:v,onCreated:_,shadows:y=!1,linear:g=!1,flat:S=!1,legacy:A=!1,orthographic:E=!1,frameloop:T="always",dpr:C=[1,2],performance:P,raycaster:L,camera:N,onPointerMissed:b}=f,B=s.getState(),q=B.gl;B.gl||B.set({gl:q=hj(d,t)});let se=B.raycaster;se||B.set({raycaster:se=new sM});const{params:X,...re}=L||{};if(yn.equ(re,se,cc)||Hs(se,{...re}),yn.equ(X,se.params,cc)||Hs(se,{params:{...se.params,...X}}),!B.camera||B.camera===u&&!yn.equ(u,N,cc)){u=N;const Y=N instanceof Ap,ae=Y?N:E?new Of(0,0,0,0,.1,1e3):new qn(75,0,.1,1e3);Y||(ae.position.z=5,N&&Hs(ae,N),!B.camera&&!(N!=null&&N.rotation)&&ae.lookAt(0,0,0)),B.set({camera:ae}),se.camera=ae}if(!B.scene){let Y;m instanceof ep?Y=m:(Y=new ep,m&&Hs(Y,m)),B.set({scene:dc(Y)})}if(!B.xr){var ne;const Y=(Oe,oe)=>{const Se=s.getState();Se.frameloop!=="never"&&lP(Oe,!0,Se,oe)},ae=()=>{const Oe=s.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?Y:null),Oe.gl.xr.isPresenting||aP(Oe)},ge={connect(){const Oe=s.getState().gl;Oe.xr.addEventListener("sessionstart",ae),Oe.xr.addEventListener("sessionend",ae)},disconnect(){const Oe=s.getState().gl;Oe.xr.removeEventListener("sessionstart",ae),Oe.xr.removeEventListener("sessionend",ae)}};typeof((ne=q.xr)==null?void 0:ne.addEventListener)=="function"&&ge.connect(),B.set({xr:ge})}if(q.shadowMap){const Y=q.shadowMap.enabled,ae=q.shadowMap.type;if(q.shadowMap.enabled=!!y,yn.boo(y))q.shadowMap.type=md;else if(yn.str(y)){var he;const ge={basic:fF,percentage:jv,soft:md,variance:vs};q.shadowMap.type=(he=ge[y])!=null?he:md}else yn.obj(y)&&Object.assign(q.shadowMap,y);(Y!==q.shadowMap.enabled||ae!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const H=AN();H&&("enabled"in H?H.enabled=!A:"legacyMode"in H&&(H.legacyMode=A)),l||Hs(q,{outputEncoding:g?3e3:3001,toneMapping:S?js:cE}),B.legacy!==A&&B.set(()=>({legacy:A})),B.linear!==g&&B.set(()=>({linear:g})),B.flat!==S&&B.set(()=>({flat:S})),d&&!yn.fun(d)&&!PN(d)&&!yn.equ(d,q,cc)&&Hs(q,d),v&&!B.events.handlers&&B.set({events:v(s)});const Z=dj(t,p);return yn.equ(Z,B.size,cc)||B.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),C&&B.viewport.dpr!==bN(C)&&B.setDpr(C),B.frameloop!==T&&B.setFrameloop(T),B.onPointerMissed||B.set({onPointerMissed:b}),P&&!yn.equ(P,B.performance,cc)&&B.set(Y=>({performance:{...Y.performance,...P}})),a=_,l=!0,this},render(f){return l||this.configure(),op.updateContainer(j.createElement(mj,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){IN(t)}}}function mj({store:t,children:e,onCreated:n,rootElement:r}){return Ip(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),j.createElement(lM.Provider,{value:t},e)}function IN(t,e){const n=Cf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),op.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),tj(i),Cf.delete(t),e&&e(t)}catch{}},500)})}}function gj(t,e,n){return j.createElement(vj,{key:e.uuid,children:t,container:e,state:n})}function vj({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=uM(),[a]=j.useState(()=>new sM),[l]=j.useState(()=>new Ae),u=j.useCallback((d,p)=>{const m={...d};Object.keys(d).forEach(_=>{(oj.includes(_)||d[_]!==p[_]&&p[_])&&delete m[_]});let v;if(p&&i){const _=p.camera;v=d.viewport.getCurrentViewport(_,new G,i),_!==d.camera&&TN(_,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...p==null?void 0:p.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...v},...s}},[t]),[f]=j.useState(()=>{const d=o.getState();return mN((m,v)=>({...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:m,get:v,setEvents:_=>m(y=>({...y,events:{...y.events,..._}}))}))});return j.useEffect(()=>{const d=o.subscribe(p=>f.setState(m=>u(p,m)));return()=>{d(),f.destroy()}},[]),j.useEffect(()=>{f.setState(d=>u(o.getState(),d))},[u]),j.createElement(j.Fragment,null,op.createPortal(j.createElement(lM.Provider,{value:f},e),f,null))}op.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:j.version});function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function DS(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}DS.debounce=DS;var yj=DS;const uP=dp(yj);function xj(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=j.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=j.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,d=j.useRef(!1);j.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=j.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:A,top:E,width:T,height:C,bottom:P,right:L,x:N,y:b}=l.current.element.getBoundingClientRect(),B={left:A,top:E,width:T,height:C,bottom:P,right:L,x:N,y:b};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),d.current&&!wj(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[S,f?uP(S,f):S,u?uP(S,u):S]},[a,i,u,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=S=>{!S||S===l.current.element||(_(),l.current.element=S,l.current.scrollContainers=LN(S),y())};return Aj(v,!!n),_j(m),j.useEffect(()=>{_(),y()},[n,v,m]),j.useEffect(()=>_,[]),[g,o,p]}function _j(t){j.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Aj(t,e){j.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function LN(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...LN(t.parentElement)]}const Sj=["x","y","top","bottom","left","right","width","height"],wj=(t,e)=>Sj.every(n=>t[n]===e[n]);var Ej=Object.defineProperty,Mj=Object.defineProperties,bj=Object.getOwnPropertyDescriptors,cP=Object.getOwnPropertySymbols,Cj=Object.prototype.hasOwnProperty,Tj=Object.prototype.propertyIsEnumerable,fP=(t,e,n)=>e in t?Ej(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hP=(t,e)=>{for(var n in e||(e={}))Cj.call(e,n)&&fP(t,n,e[n]);if(cP)for(var n of cP(e))Tj.call(e,n)&&fP(t,n,e[n]);return t},Rj=(t,e)=>Mj(t,bj(e));function DN(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=DN(r,e,n);if(i)return i;r=e?null:r.sibling}}function FN(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const cM=FN(j.createContext(null));class ON extends j.Component{render(){return j.createElement(cM.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:dP,ReactCurrentDispatcher:pP}=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Pj(){const t=j.useContext(cM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=j.useId();return j.useMemo(()=>{for(const r of[dP==null?void 0:dP.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=DN(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Bj(){var t;const e=Pj(),[n]=j.useState(()=>new Map);n.clear();let r=e;for(;r;){if(r.type&&typeof r.type=="object"){const s=r.type._context===void 0&&r.type.Provider===r.type?r.type:r.type._context;s&&s!==cM&&!n.has(s)&&n.set(s,(t=pP==null?void 0:pP.current)==null?void 0:t.readContext(FN(s)))}r=r.return}return n}function Ij(){const t=Bj();return j.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>j.createElement(e,null,j.createElement(n.Provider,Rj(hP({},r),{value:t.get(n)}))),e=>j.createElement(ON,hP({},e))),[t])}const h1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Lj(t){const{handlePointer:e}=sj(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(h1).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=h1[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=h1[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Dj=j.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Lj,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:y,raycaster:g,camera:S,scene:A,onPointerMissed:E,onCreated:T,...C},P){j.useMemo(()=>aM(GX),[]);const L=Ij(),[N,b]=xj({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=j.useRef(null),q=j.useRef(null);j.useImperativeHandle(P,()=>B.current);const se=wN(E),[X,re]=j.useState(!1),[ne,he]=j.useState(!1);if(X)throw X;if(ne)throw ne;const H=j.useRef(null);Ip(()=>{const Y=B.current;b.width>0&&b.height>0&&Y&&(H.current||(H.current=pj(Y)),H.current.configure({gl:s,events:o,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:y,raycaster:g,camera:S,scene:A,size:b,onPointerMissed:(...ae)=>se.current==null?void 0:se.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(a?QX(a)?a.current:a:q.current),l&&ae.setEvents({compute:(ge,Oe)=>{const oe=ge[l+"X"],Se=ge[l+"Y"];Oe.pointer.set(oe/Oe.size.width*2-1,-(Se/Oe.size.height)*2+1),Oe.raycaster.setFromCamera(Oe.pointer,Oe.camera)}}),T==null||T(ae)}}),H.current.render(j.createElement(L,null,j.createElement(EN,{set:he},j.createElement(j.Suspense,{fallback:j.createElement(ZX,{set:re})},e)))))}),j.useEffect(()=>{const Y=B.current;if(Y)return()=>IN(Y)},[]);const Z=a?"none":"auto";return j.createElement("div",Xa({ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i}},C),j.createElement("div",{ref:N,style:{width:"100%",height:"100%"}},j.createElement("canvas",{ref:B,style:{display:"block"}},n)))}),Fj=j.forwardRef(function(e,n){return j.createElement(ON,null,j.createElement(Dj,Xa({},e,{ref:n})))});function xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oj(t,e){if(t){if(typeof t=="string")return FS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(t,e)}}function Nj(t){if(Array.isArray(t))return FS(t)}function Uj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gj(t){return Nj(t)||Uj(t)||Oj(t)||kj()}new Ae;new Ae;function Hj(t,e,n){return Math.max(e,Math.min(n,t))}function zj(t,e){return Hj(t-Math.floor(t/e)*e,0,e)}function Vj(t,e){var n=zj(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function NN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Xi=function t(e,n,r){var i=this;NN(this,t),xd(this,"dot2",function(s,o){return i.x*s+i.y*o}),xd(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},Wj=[new Xi(1,1,0),new Xi(-1,1,0),new Xi(1,-1,0),new Xi(-1,-1,0),new Xi(1,0,1),new Xi(-1,0,1),new Xi(1,0,-1),new Xi(-1,0,-1),new Xi(0,1,1),new Xi(0,-1,1),new Xi(0,1,-1),new Xi(0,-1,-1)],mP=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],gP=new Array(512),vP=new Array(512),Xj=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=mP[n]^e&255:r=mP[n]^e>>8&255,gP[n]=gP[n+256]=r,vP[n]=vP[n+256]=Wj[r%12]}};Xj(0);function jj(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function yP(t){var e=jj(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Jj=function t(e){var n=this;NN(this,t),xd(this,"seed",0),xd(this,"init",function(r){n.seed=r,n.value=yP(r)}),xd(this,"value",yP(this.seed)),this.init(e)};new Jj(Math.random());var $j=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},UN=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},Kj=function(e){return e},Yj={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Qj={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},Zj={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},qj={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},eJ={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},tJ={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function nr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:UN,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,f=o(u*i),d=t[e]-n,p=n,m=s*r;d=Math.min(Math.max(d,-m),m),n=t[e]-d;var v=(t.__damp[l]+u*d)*i;t.__damp[l]=(t.__damp[l]-u*v)*f;var _=n+(d+v)*f;return p-t[e]>0==_>p&&(_=p,t.__damp[l]=(_-p)/i),t[e]=_,!0}var nJ=function(e){return e&&e.isCamera},rJ=function(e){return e&&e.isLight},Nh=new G,xP=new Wn,_P=new Wn,Uh=new ct,d1=new G;function iJ(t,e,n,r,i,s,o){typeof e=="number"?Nh.setScalar(e):Array.isArray(e)?Nh.set(e[0],e[1],e[2]):Nh.copy(e);var a=t.parent;t.updateWorldMatrix(!0,!1),d1.setFromMatrixPosition(t.matrixWorld),nJ(t)||rJ(t)?Uh.lookAt(d1,Nh,t.up):Uh.lookAt(Nh,d1,t.up),lv(t.quaternion,_P.setFromRotationMatrix(Uh),n,r,i,s,o),a&&(Uh.extractRotation(a.matrixWorld),xP.setFromRotationMatrix(Uh),lv(t.quaternion,_P.copy(t.quaternion).premultiply(xP.invert()),n,r,i,s,o))}function uf(t,e,n,r,i,s,o,a){return nr(t,e,t[e]+Vj(t[e],n),r,i,s,o,a)}var kh=new Ae,AP,SP;function sJ(t,e,n,r,i,s,o){return typeof e=="number"?kh.setScalar(e):Array.isArray(e)?kh.set(e[0],e[1]):kh.copy(e),AP=nr(t,"x",kh.x,n,r,i,s,o),SP=nr(t,"y",kh.y,n,r,i,s,o),AP||SP}var fc=new G,wP,EP,MP;function OS(t,e,n,r,i,s,o){return typeof e=="number"?fc.setScalar(e):Array.isArray(e)?fc.set(e[0],e[1],e[2]):fc.copy(e),wP=nr(t,"x",fc.x,n,r,i,s,o),EP=nr(t,"y",fc.y,n,r,i,s,o),MP=nr(t,"z",fc.z,n,r,i,s,o),wP||EP||MP}var Tl=new Kt,bP,CP,TP,RP;function oJ(t,e,n,r,i,s,o){return typeof e=="number"?Tl.setScalar(e):Array.isArray(e)?Tl.set(e[0],e[1],e[2],e[3]):Tl.copy(e),bP=nr(t,"x",Tl.x,n,r,i,s,o),CP=nr(t,"y",Tl.y,n,r,i,s,o),TP=nr(t,"z",Tl.z,n,r,i,s,o),RP=nr(t,"w",Tl.w,n,r,i,s,o),bP||CP||TP||RP}var Gh=new Nr,PP,BP,IP;function aJ(t,e,n,r,i,s,o){return Array.isArray(e)?Gh.set(e[0],e[1],e[2],e[3]):Gh.copy(e),PP=uf(t,"x",Gh.x,n,r,i,s,o),BP=uf(t,"y",Gh.y,n,r,i,s,o),IP=uf(t,"z",Gh.z,n,r,i,s,o),PP||BP||IP}var hc=new He,LP,DP,FP;function lJ(t,e,n,r,i,s,o){return e instanceof He?hc.copy(e):Array.isArray(e)?hc.setRGB(e[0],e[1],e[2]):hc.set(e),LP=nr(t,"r",hc.r,n,r,i,s,o),DP=nr(t,"g",hc.g,n,r,i,s,o),FP=nr(t,"b",hc.b,n,r,i,s,o),LP||DP||FP}var ds=new Wn,mo=new Kt,OP=new Kt,Hh=new Kt,NP,UP,kP,GP;function lv(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?ds.set(e[0],e[1],e[2],e[3]):ds.copy(e);var l=t.dot(ds)>0?1:-1;return ds.x*=l,ds.y*=l,ds.z*=l,ds.w*=l,NP=nr(t,"x",ds.x,n,r,i,s,o),UP=nr(t,"y",ds.y,n,r,i,s,o),kP=nr(t,"z",ds.z,n,r,i,s,o),GP=nr(t,"w",ds.w,n,r,i,s,o),mo.set(t.x,t.y,t.z,t.w).normalize(),OP.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Hh.copy(mo).multiplyScalar(OP.dot(mo)/mo.dot(mo)),a.__damp.velocity_x-=Hh.x,a.__damp.velocity_y-=Hh.y,a.__damp.velocity_z-=Hh.z,a.__damp.velocity_w-=Hh.w,t.set(mo.x,mo.y,mo.z,mo.w),NP||UP||kP||GP}var zh=new hN,HP,zP,VP;function uJ(t,e,n,r,i,s,o){return Array.isArray(e)?zh.set(e[0],e[1],e[2]):zh.copy(e),HP=nr(t,"radius",zh.radius,n,r,i,s,o),zP=uf(t,"phi",zh.phi,n,r,i,s,o),VP=uf(t,"theta",zh.theta,n,r,i,s,o),HP||zP||VP}var Yg=new ct,WP=new G,XP=new Wn,jP=new G,JP,$P,KP;function cJ(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new G,rotation:new Wn,scale:new G},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Yg.set.apply(Yg,Gj(e)):Yg.copy(e),Yg.decompose(WP,XP,jP),JP=OS(a.__damp.position,WP,n,r,i,s,o),$P=lv(a.__damp.rotation,XP,n,r,i,s,o),KP=OS(a.__damp.scale,jP,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),JP||$P||KP}var NS=Object.freeze({__proto__:null,rsqw:$j,exp:UN,linear:Kj,sine:Yj,cubic:Qj,quint:Zj,circ:qj,quart:eJ,expo:tJ,damp:nr,dampLookAt:iJ,dampAngle:uf,damp2:sJ,damp3:OS,damp4:oJ,dampE:aJ,dampC:lJ,dampQ:lv,dampS:uJ,dampM:cJ});function YP(t,e){if(e===eO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===iv||e===xE){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===iv)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const fJ=parseInt(mu.replace(/\D+/g,""));var qi=Uint8Array,Ma=Uint16Array,US=Uint32Array,kN=new qi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),GN=new qi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hJ=new qi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HN=function(t,e){for(var n=new Ma(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new US(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},zN=HN(kN,2),VN=zN[0],dJ=zN[1];VN[28]=258,dJ[258]=28;var pJ=HN(GN,0),mJ=pJ[0],kS=new Ma(32768);for(var xn=0;xn<32768;++xn){var ua=(xn&43690)>>>1|(xn&21845)<<1;ua=(ua&52428)>>>2|(ua&13107)<<2,ua=(ua&61680)>>>4|(ua&3855)<<4,kS[xn]=((ua&65280)>>>8|(ua&255)<<8)>>>1}var _d=function(t,e,n){for(var r=t.length,i=0,s=new Ma(e);i<r;++i)++s[t[i]-1];var o=new Ma(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ma(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],d=o[t[i]-1]++<<f,p=d|(1<<f)-1;d<=p;++d)a[kS[d]>>>l]=u}else for(a=new Ma(r),i=0;i<r;++i)t[i]&&(a[i]=kS[o[t[i]-1]++]>>>15-t[i]);return a},Lp=new qi(288);for(var xn=0;xn<144;++xn)Lp[xn]=8;for(var xn=144;xn<256;++xn)Lp[xn]=9;for(var xn=256;xn<280;++xn)Lp[xn]=7;for(var xn=280;xn<288;++xn)Lp[xn]=8;var WN=new qi(32);for(var xn=0;xn<32;++xn)WN[xn]=5;var gJ=_d(Lp,9,1),vJ=_d(WN,5,1),p1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ps=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},m1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},yJ=function(t){return(t/8|0)+(t&7&&1)},xJ=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Ma?Ma:t instanceof US?US:qi)(n-e);return r.set(t.subarray(e,n)),r},_J=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new qi(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new qi(r*3));var o=function(we){var We=e.length;if(we>We){var Ye=new qi(Math.max(We*2,we));Ye.set(e),e=Ye}},a=n.f||0,l=n.p||0,u=n.b||0,f=n.l,d=n.d,p=n.m,m=n.n,v=r*8;do{if(!f){n.f=a=ps(t,l,1);var _=ps(t,l+1,3);if(l+=3,_)if(_==1)f=gJ,d=vJ,p=9,m=5;else if(_==2){var A=ps(t,l,31)+257,E=ps(t,l+10,15)+4,T=A+ps(t,l+5,31)+1;l+=14;for(var C=new qi(T),P=new qi(19),L=0;L<E;++L)P[hJ[L]]=ps(t,l+L*3,7);l+=E*3;for(var N=p1(P),b=(1<<N)-1,B=_d(P,N,1),L=0;L<T;){var q=B[ps(t,l,b)];l+=q&15;var y=q>>>4;if(y<16)C[L++]=y;else{var se=0,X=0;for(y==16?(X=3+ps(t,l,3),l+=2,se=C[L-1]):y==17?(X=3+ps(t,l,7),l+=3):y==18&&(X=11+ps(t,l,127),l+=7);X--;)C[L++]=se}}var re=C.subarray(0,A),ne=C.subarray(A);p=p1(re),m=p1(ne),f=_d(re,p,1),d=_d(ne,m,1)}else throw"invalid block type";else{var y=yJ(l)+4,g=t[y-4]|t[y-3]<<8,S=y+g;if(S>r){if(s)throw"unexpected EOF";break}i&&o(u+g),e.set(t.subarray(y,S),u),n.b=u+=g,n.p=l=S*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var he=(1<<p)-1,H=(1<<m)-1,Z=l;;Z=l){var se=f[m1(t,l)&he],Y=se>>>4;if(l+=se&15,l>v){if(s)throw"unexpected EOF";break}if(!se)throw"invalid length/literal";if(Y<256)e[u++]=Y;else if(Y==256){Z=l,f=null;break}else{var ae=Y-254;if(Y>264){var L=Y-257,ge=kN[L];ae=ps(t,l,(1<<ge)-1)+VN[L],l+=ge}var Oe=d[m1(t,l)&H],oe=Oe>>>4;if(!Oe)throw"invalid distance";l+=Oe&15;var ne=mJ[oe];if(oe>3){var ge=GN[oe];ne+=m1(t,l)&(1<<ge)-1,l+=ge}if(l>v){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var Se=u+ae;u<Se;u+=4)e[u]=e[u-ne],e[u+1]=e[u+1-ne],e[u+2]=e[u+2-ne],e[u+3]=e[u+3-ne];u=Se}}n.l=f,n.p=Z,n.b=u,f&&(a=1,n.m=p,n.d=d,n.n=m)}while(!a);return u==e.length?e:xJ(e,0,u)},AJ=new qi(0),SJ=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Qg(t,e){return _J((SJ(t),t.subarray(2,-4)),e)}var wJ=typeof TextDecoder<"u"&&new TextDecoder,EJ=0;try{wJ.decode(AJ,{stream:!0}),EJ=1}catch{}const MJ=t=>t&&t.isCubeTexture;class bJ extends Bn{constructor(e,n){var r,i;const s=MJ(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),f=3*Math.max(u,16*7),d=4*u,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(mu.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,_={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new Cp(1,16),g=new Ti({uniforms:_,fragmentShader:v,vertexShader:m,side:Zi});super(y,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class fM extends kr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new BJ(n)}),this.register(function(n){return new kJ(n)}),this.register(function(n){return new GJ(n)}),this.register(function(n){return new HJ(n)}),this.register(function(n){return new LJ(n)}),this.register(function(n){return new DJ(n)}),this.register(function(n){return new FJ(n)}),this.register(function(n){return new OJ(n)}),this.register(function(n){return new PJ(n)}),this.register(function(n){return new NJ(n)}),this.register(function(n){return new IJ(n)}),this.register(function(n){return new UJ(n)}),this.register(function(n){return new TJ(n)}),this.register(function(n){return new zJ(n)}),this.register(function(n){return new VJ(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ks.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ri(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(f){n(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ks.decodeText(new Uint8Array(e.slice(0,4)))===XN){try{o[Xt.KHR_BINARY_GLTF]=new WJ(e)}catch(f){i&&i(f);return}s=JSON.parse(o[Xt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ks.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new r$(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](l);a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const f=s.extensionsUsed[u],d=s.extensionsRequired||[];switch(f){case Xt.KHR_MATERIALS_UNLIT:o[f]=new RJ;break;case Xt.KHR_DRACO_MESH_COMPRESSION:o[f]=new XJ(s,this.dracoLoader);break;case Xt.KHR_TEXTURE_TRANSFORM:o[f]=new jJ;break;case Xt.KHR_MESH_QUANTIZATION:o[f]=new JJ;break;default:d.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function CJ(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Xt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class TJ{constructor(e){this.parser=e,this.name=Xt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new He(16777215);l.color!==void 0&&f.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new qE(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new ZE(f),u.distance=d;break;case"spot":u=new QE(f),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,ma(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class RJ{constructor(){this.name=Xt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ai}extendParams(e,n,r){const i=[];e.color=new He(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class PJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class BJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ae(a,a)}return Promise.all(s)}}class IJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class LJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new He(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class DJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class FJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new He(a[0],a[1],a[2]),Promise.all(s)}}class OJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class NJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new He(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class UJ{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class kJ{constructor(e){this.parser=e,this.name=Xt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class GJ{constructor(e){this.parser=e,this.name=Xt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class HJ{constructor(e){this.parser=e,this.name=Xt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class zJ{constructor(e){this.name=Xt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,f=i.count,d=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,d,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*d);return o.decodeGltfBuffer(new Uint8Array(m),f,d,p,i.mode,i.filter),m})})}else return null}}class VJ{constructor(e){this.name=Xt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==$i.TRIANGLES&&u.mode!==$i.TRIANGLE_STRIP&&u.mode!==$i.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(f=>(l[u]=f,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const f=u.pop(),d=f.isGroup?f.children:[f],p=u[0].count,m=[];for(const v of d){const _=new ct,y=new G,g=new Wn,S=new G(1,1,1),A=new FE(v.geometry,v.material,p);for(let E=0;E<p;E++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&S.fromBufferAttribute(l.SCALE,E),A.setMatrixAt(E,_.compose(y,g,S));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&v.geometry.setAttribute(E,l[E]);jt.prototype.copy.call(A,v),this.parser.assignFinalMaterial(A),m.push(A)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const XN="glTF",Vh=12,QP={JSON:1313821514,BIN:5130562};class WJ{constructor(e){this.name=Xt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Vh);if(this.header={magic:Ks.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==XN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Vh,i=new DataView(e,Vh);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===QP.JSON){const l=new Uint8Array(e,Vh+s,o);this.content=Ks.decodeText(l)}else if(a===QP.BIN){const l=Vh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class XJ{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Xt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const f in o){const d=GS[f]||f.toLowerCase();a[d]=o[f]}for(const f in e.attributes){const d=GS[f]||f.toLowerCase();if(o[f]!==void 0){const p=r.accessors[e.attributes[f]],m=cf[p.componentType];u[d]=m.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(f){return new Promise(function(d){i.decodeDracoFile(f,function(p){for(const m in p.attributes){const v=p.attributes[m],_=l[m];_!==void 0&&(v.normalized=_)}d(p)},a,u)})})}}class jJ{constructor(){this.name=Xt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class JJ{constructor(){this.name=Xt.KHR_MESH_QUANTIZATION}}class jN extends kf{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,f=i-n,d=(r-n)/f,p=d*d,m=p*d,v=e*u,_=v-u,y=-2*m+3*p,g=m-p,S=1-y,A=g-p+d;for(let E=0;E!==a;E++){const T=o[_+E+a],C=o[_+E+l]*f,P=o[v+E+a],L=o[v+E]*f;s[E]=S*T+A*C+y*P+g*L}return s}}const $J=new Wn;class KJ extends jN{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return $J.fromArray(s).normalize().toArray(s),s}}const $i={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},cf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ZP={9728:En,9729:on,9984:jd,9985:of,9986:Aa,9987:ns},qP={33071:vr,33648:xf,10497:za},g1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},GS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...fJ>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ca={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},YJ={CUBICSPLINE:void 0,LINEAR:cu,STEP:_f},v1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function QJ(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Pp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zs})),t.DefaultMaterial}function Rl(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function ma(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ZJ(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const d=e[u];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,f=e.length;u<f;u++){const d=e[u];if(r){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],d=u[1],p=u[2];return r&&(t.morphAttributes.position=f),i&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function qJ(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function e$(t){let e;const n=t.extensions&&t.extensions[Xt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+y1(n.attributes):e=t.indices+":"+y1(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+y1(t.targets[r]);return e}function y1(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function HS(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function t$(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const n$=new ct;class r${constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new CJ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Bp(this.options.manager):this.textureLoader=new lN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ri(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Rl(s,a,i),ma(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,f]of o.children.entries())s(f,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Xt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ks.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=g1[i.type],a=cf[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Qt(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=g1[i.type],u=cf[i.componentType],f=u.BYTES_PER_ELEMENT,d=f*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let _,y;if(m&&m!==d){const g=Math.floor(p/m),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let A=n.cache.get(S);A||(_=new u(a,g*m,i.count*m/f),A=new Ep(_,m/f),n.cache.add(S,A)),y=new Va(A,l,p%m/f,v)}else a===null?_=new u(i.count*l):_=new u(a,p,i.count*l),y=new Qt(_,l,v);if(i.sparse!==void 0){const g=g1.SCALAR,S=cf[i.sparse.indices.componentType],A=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,T=new S(o[1],A,i.sparse.count*g),C=new u(o[2],E,i.sparse.count*l);a!==null&&(y=new Qt(y.array.slice(),y.itemSize,y.normalized));for(let P=0,L=T.length;P<L;P++){const N=T[P];if(y.setX(N,C[P*l]),l>=2&&y.setY(N,C[P*l+1]),l>=3&&y.setZ(N,C[P*l+2]),l>=4&&y.setW(N,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=ZP[p.magFilter]||on,f.minFilter=ZP[p.minFilter]||ns,f.wrapS=qP[p.wrapS]||za,f.wrapT=qP[p.wrapT]||za,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;n.isImageBitmapLoader===!0&&(v=function(_){const y=new pn(_);y.needsUpdate=!0,p(y)}),n.load(Ks.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||t$(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=f,f}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Xt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Xt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Xt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ry,Kn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ur,Kn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Pp}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Xt.KHR_MATERIALS_UNLIT]){const d=i[Xt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new He(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Zi);const f=s.alphaMode||v1.OPAQUE;if(f===v1.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===v1.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ai&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ae(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Ai&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ai&&(a.emissive=new He().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ai&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const d=new o(a);return s.name&&(d.name=s.name),ma(d,s),n.associations.set(d,{materials:e}),s.extensions&&Rl(i,d,s),d})}createUniqueName(e){const n=$t.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Xt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return eB(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],f=e$(u),d=i[f];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[Xt.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=eB(new Rt,u,n),i[f]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const f=o[l].material===void 0?QJ(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],d=[];for(let m=0,v=f.length;m<v;m++){const _=f[m],y=o[m];let g;const S=u[m];if(y.mode===$i.TRIANGLES||y.mode===$i.TRIANGLE_STRIP||y.mode===$i.TRIANGLE_FAN||y.mode===void 0)g=s.isSkinnedMesh===!0?new DE(_,S):new Bn(_,S),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),y.mode===$i.TRIANGLE_STRIP?g.geometry=YP(g.geometry,xE):y.mode===$i.TRIANGLE_FAN&&(g.geometry=YP(g.geometry,iv));else if(y.mode===$i.LINES)g=new Ms(_,S);else if(y.mode===$i.LINE_STRIP)g=new Uo(_,S);else if(y.mode===$i.LINE_LOOP)g=new OE(_,S);else if(y.mode===$i.POINTS)g=new NE(_,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(g.geometry.morphAttributes).length>0&&qJ(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),ma(g,s),y.extensions&&Rl(i,g,y),n.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)n.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&Rl(i,d[0],s),d[0];const p=new Eo;s.extensions&&Rl(i,p,s),n.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new qn(af.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Of(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ma(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,f=o.length;u<f;u++){const d=o[u];if(d){a.push(d);const p=new ct;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new Mp(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let f=0,d=r.channels.length;f<d;f++){const p=r.channels[f],m=r.samplers[p.sampler],v=p.target,_=v.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",_)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",g)),l.push(m),u.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(f){const d=f[0],p=f[1],m=f[2],v=f[3],_=f[4],y=[];for(let g=0,S=d.length;g<S;g++){const A=d[g],E=p[g],T=m[g],C=v[g],P=_[g];if(A===void 0)continue;A.updateMatrix();let L;switch(ca[P.path]){case ca.weights:L=Ef;break;case ca.rotation:L=Wa;break;case ca.position:case ca.scale:default:L=Mf;break}const N=A.name?A.name:A.uuid,b=C.interpolation!==void 0?YJ[C.interpolation]:cu,B=[];ca[P.path]===ca.weights?A.traverse(function(se){se.morphTargetInfluences&&B.push(se.name?se.name:se.uuid)}):B.push(N);let q=T.array;if(T.normalized){const se=HS(q.constructor),X=new Float32Array(q.length);for(let re=0,ne=q.length;re<ne;re++)X[re]=q[re]*se;q=X}for(let se=0,X=B.length;se<X;se++){const re=new L(B[se]+"."+ca[P.path],E.array,q,b);C.interpolation==="CUBICSPLINE"&&(re.createInterpolant=function(he){const H=this instanceof Wa?KJ:jN;return new H(this.times,this.values,this.getValueSize()/3,he)},re.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(re)}}return new bf(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,f=a.length;u<f;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const f=u[0],d=u[1],p=u[2];p!==null&&f.traverse(function(m){m.isSkinnedMesh&&m.bind(p,n$)});for(let m=0,v=d.length;m<v;m++)f.add(d[m]);return f})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let f;if(s.isBone===!0?f=new ny:u.length>1?f=new Eo:u.length===1?f=u[0]:f=new jt,f!==u[0])for(let d=0,p=u.length;d<p;d++)f.add(u[d]);if(s.name&&(f.userData.name=s.name,f.name=o),ma(f,s),s.extensions&&Rl(r,f,s),s.matrix!==void 0){const d=new ct;d.fromArray(s.matrix),f.applyMatrix4(d)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Eo;r.name&&(s.name=i.createUniqueName(r.name)),ma(s,r),r.extensions&&Rl(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,d=l.length;f<d;f++)s.add(l[f]);const u=f=>{const d=new Map;for(const[p,m]of i.associations)(p instanceof Kn||p instanceof pn)&&d.set(p,m);return f.traverse(p=>{const m=i.associations.get(p);m!=null&&d.set(p,m)}),d};return i.associations=u(s),s})}}function i$(t,e,n){const r=e.attributes,i=new xr;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new G(l[0],l[1],l[2]),new G(u[0],u[1],u[2])),a.normalized){const f=HS(cf[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new G,l=new G;for(let u=0,f=s.length;u<f;u++){const d=s[u];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const _=HS(cf[p.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new fr;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function eB(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=GS[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return ma(t,e),i$(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?ZJ(t,e.targets,n):t})}class s$ extends Rt{constructor(e,n,r,i){super();const s=[],o=[],a=[],l=new G,u=new ct;u.makeRotationFromEuler(r),u.setPosition(n);const f=new ct;f.copy(u).invert(),d(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(o,3)),this.setAttribute("uv",new at(a,2));function d(){let _,y=[];const g=new G,S=new G;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const A=e.geometry,E=A.attributes.position,T=A.attributes.normal;if(A.index!==null){const C=A.index;for(_=0;_<C.count;_++)g.fromBufferAttribute(E,C.getX(_)),S.fromBufferAttribute(T,C.getX(_)),p(y,g,S)}else for(_=0;_<E.count;_++)g.fromBufferAttribute(E,_),S.fromBufferAttribute(T,_),p(y,g,S);for(y=m(y,l.set(1,0,0)),y=m(y,l.set(-1,0,0)),y=m(y,l.set(0,1,0)),y=m(y,l.set(0,-1,0)),y=m(y,l.set(0,0,1)),y=m(y,l.set(0,0,-1)),_=0;_<y.length;_++){const C=y[_];a.push(.5+C.position.x/i.x,.5+C.position.y/i.y),C.position.applyMatrix4(u),s.push(C.position.x,C.position.y,C.position.z),o.push(C.normal.x,C.normal.y,C.normal.z)}}function p(_,y,g){y.applyMatrix4(e.matrixWorld),y.applyMatrix4(f),g.transformDirection(e.matrixWorld),_.push(new tB(y.clone(),g.clone()))}function m(_,y){const g=[],S=.5*Math.abs(i.dot(y));for(let A=0;A<_.length;A+=3){let E,T,C,P=0,L,N,b,B;const q=_[A+0].position.dot(y)-S,se=_[A+1].position.dot(y)-S,X=_[A+2].position.dot(y)-S;switch(E=q>0,T=se>0,C=X>0,P=(E?1:0)+(T?1:0)+(C?1:0),P){case 0:{g.push(_[A]),g.push(_[A+1]),g.push(_[A+2]);break}case 1:{if(E&&(L=_[A+1],N=_[A+2],b=v(_[A],L,y,S),B=v(_[A],N,y,S)),T){L=_[A],N=_[A+2],b=v(_[A+1],L,y,S),B=v(_[A+1],N,y,S),g.push(b),g.push(N.clone()),g.push(L.clone()),g.push(N.clone()),g.push(b.clone()),g.push(B);break}C&&(L=_[A],N=_[A+1],b=v(_[A+2],L,y,S),B=v(_[A+2],N,y,S)),g.push(L.clone()),g.push(N.clone()),g.push(b),g.push(B),g.push(b.clone()),g.push(N.clone());break}case 2:{E||(L=_[A].clone(),N=v(L,_[A+1],y,S),b=v(L,_[A+2],y,S),g.push(L),g.push(N),g.push(b)),T||(L=_[A+1].clone(),N=v(L,_[A+2],y,S),b=v(L,_[A],y,S),g.push(L),g.push(N),g.push(b)),C||(L=_[A+2].clone(),N=v(L,_[A],y,S),b=v(L,_[A+1],y,S),g.push(L),g.push(N),g.push(b));break}}}return g}function v(_,y,g,S){const A=_.position.dot(g)-S,E=y.position.dot(g)-S,T=A/(A-E);return new tB(new G(_.position.x+T*(y.position.x-_.position.x),_.position.y+T*(y.position.y-_.position.y),_.position.z+T*(y.position.z-_.position.z)),new G(_.normal.x+T*(y.normal.x-_.normal.x),_.normal.y+T*(y.normal.y-_.normal.y),_.normal.z+T*(y.normal.z-_.normal.z)))}}}class tB{constructor(e,n){this.position=e,this.normal=n}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}class o$ extends KE{constructor(e){super(e),this.type=Lr}parse(e){const a=function(A,E){switch(A){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},d=`
`,p=function(A,E,T){E=E||1024;let P=A.pos,L=-1,N=0,b="",B=String.fromCharCode.apply(null,new Uint16Array(A.subarray(P,P+128)));for(;0>(L=B.indexOf(d))&&N<E&&P<A.byteLength;)b+=B,N+=B.length,P+=128,B+=String.fromCharCode.apply(null,new Uint16Array(A.subarray(P,P+128)));return-1<L?(T!==!1&&(A.pos+=N+L+1),b+B.slice(0,L)):!1},m=function(A){const E=/^#\?(\S+)/,T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,L=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let b,B;if(A.pos>=A.byteLength||!(b=p(A)))return a(1,"no header found");if(!(B=b.match(E)))return a(3,"bad initial token");for(N.valid|=1,N.programtype=B[1],N.string+=b+`
`;b=p(A),b!==!1;){if(N.string+=b+`
`,b.charAt(0)==="#"){N.comments+=b+`
`;continue}if((B=b.match(T))&&(N.gamma=parseFloat(B[1])),(B=b.match(C))&&(N.exposure=parseFloat(B[1])),(B=b.match(P))&&(N.valid|=2,N.format=B[1]),(B=b.match(L))&&(N.valid|=4,N.height=parseInt(B[1],10),N.width=parseInt(B[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2?N.valid&4?N:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(A,E,T){const C=E;if(C<8||C>32767||A[0]!==2||A[1]!==2||A[2]&128)return new Uint8Array(A);if(C!==(A[2]<<8|A[3]))return a(3,"wrong scanline width");const P=new Uint8Array(4*E*T);if(!P.length)return a(4,"unable to allocate buffer space");let L=0,N=0;const b=4*C,B=new Uint8Array(4),q=new Uint8Array(b);let se=T;for(;se>0&&N<A.byteLength;){if(N+4>A.byteLength)return a(1);if(B[0]=A[N++],B[1]=A[N++],B[2]=A[N++],B[3]=A[N++],B[0]!=2||B[1]!=2||(B[2]<<8|B[3])!=C)return a(3,"bad rgbe scanline format");let X=0,re;for(;X<b&&N<A.byteLength;){re=A[N++];const he=re>128;if(he&&(re-=128),re===0||X+re>b)return a(3,"bad scanline data");if(he){const H=A[N++];for(let Z=0;Z<re;Z++)q[X++]=H}else q.set(A.subarray(N,N+re),X),X+=re,N+=re}const ne=C;for(let he=0;he<ne;he++){let H=0;P[L]=q[he+H],H+=C,P[L+1]=q[he+H],H+=C,P[L+2]=q[he+H],H+=C,P[L+3]=q[he+H],L+=4}se--}return P},_=function(A,E,T,C){const P=A[E+3],L=Math.pow(2,P-128)/255;T[C+0]=A[E+0]*L,T[C+1]=A[E+1]*L,T[C+2]=A[E+2]*L,T[C+3]=1},y=function(A,E,T,C){const P=A[E+3],L=Math.pow(2,P-128)/255;T[C+0]=Jl.toHalfFloat(Math.min(A[E+0]*L,65504)),T[C+1]=Jl.toHalfFloat(Math.min(A[E+1]*L,65504)),T[C+2]=Jl.toHalfFloat(Math.min(A[E+2]*L,65504)),T[C+3]=Jl.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const S=m(g);if(S!==-1){const A=S.width,E=S.height,T=v(g.subarray(g.pos),A,E);if(T!==-1){let C,P,L;switch(this.type){case er:L=T.length/4;const N=new Float32Array(L*4);for(let B=0;B<L;B++)_(T,B*4,N,B*4);C=N,P=er;break;case Lr:L=T.length/4;const b=new Uint16Array(L*4);for(let B=0;B<L;B++)y(T,B*4,b,B*4);C=b,P=Lr;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:A,height:E,data:C,header:S.string,gamma:S.gamma,exposure:S.exposure,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case er:case Lr:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=on,o.magFilter=on,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const Wh="colorSpace"in new pn;class a$ extends KE{constructor(e){super(e),this.type=Lr}parse(e){const N=Math.pow(2.7182818,2.2);function b(D,U){for(var Q=0,I=0;I<65536;++I)(I==0||D[I>>3]&1<<(I&7))&&(U[Q++]=I);for(var k=Q-1;Q<65536;)U[Q++]=0;return k}function B(D){for(var U=0;U<16384;U++)D[U]={},D[U].len=0,D[U].lit=0,D[U].p=null}const q={l:0,c:0,lc:0};function se(D,U,Q,I,k){for(;Q<D;)U=U<<8|ht(I,k),Q+=8;Q-=D,q.l=U>>Q&(1<<D)-1,q.c=U,q.lc=Q}const X=new Array(59);function re(D){for(var U=0;U<=58;++U)X[U]=0;for(var U=0;U<65537;++U)X[D[U]]+=1;for(var Q=0,U=58;U>0;--U){var I=Q+X[U]>>1;X[U]=Q,Q=I}for(var U=0;U<65537;++U){var k=D[U];k>0&&(D[U]=k|X[k]++<<6)}}function ne(D,U,Q,I,k,z,K){for(var J=Q,ue=0,fe=0;k<=z;k++){if(J.value-Q.value>I)return!1;se(6,ue,fe,D,J);var ve=q.l;if(ue=q.c,fe=q.lc,K[k]=ve,ve==63){if(J.value-Q.value>I)throw"Something wrong with hufUnpackEncTable";se(8,ue,fe,D,J);var me=q.l+6;if(ue=q.c,fe=q.lc,k+me>z+1)throw"Something wrong with hufUnpackEncTable";for(;me--;)K[k++]=0;k--}else if(ve>=59){var me=ve-59+2;if(k+me>z+1)throw"Something wrong with hufUnpackEncTable";for(;me--;)K[k++]=0;k--}}re(K)}function he(D){return D&63}function H(D){return D>>6}function Z(D,U,Q,I){for(;U<=Q;U++){var k=H(D[U]),z=he(D[U]);if(k>>z)throw"Invalid table entry";if(z>14){var K=I[k>>z-14];if(K.len)throw"Invalid table entry";if(K.lit++,K.p){var J=K.p;K.p=new Array(K.lit);for(var ue=0;ue<K.lit-1;++ue)K.p[ue]=J[ue]}else K.p=new Array(1);K.p[K.lit-1]=U}else if(z)for(var fe=0,ue=1<<14-z;ue>0;ue--){var K=I[(k<<14-z)+fe];if(K.len||K.p)throw"Invalid table entry";K.len=z,K.lit=U,fe++}}return!0}const Y={c:0,lc:0};function ae(D,U,Q,I){D=D<<8|ht(Q,I),U+=8,Y.c=D,Y.lc=U}const ge={c:0,lc:0};function Oe(D,U,Q,I,k,z,K,J,ue,fe){if(D==U){I<8&&(ae(Q,I,k,K),Q=Y.c,I=Y.lc),I-=8;var ve=Q>>I,ve=new Uint8Array([ve])[0];if(ue.value+ve>fe)return!1;for(var me=J[ue.value-1];ve-- >0;)J[ue.value++]=me}else if(ue.value<fe)J[ue.value++]=D;else return!1;ge.c=Q,ge.lc=I}function oe(D){return D&65535}function Se(D){var U=oe(D);return U>32767?U-65536:U}const we={a:0,b:0};function We(D,U){var Q=Se(D),I=Se(U),k=I,z=Q+(k&1)+(k>>1),K=z,J=z-k;we.a=K,we.b=J}function Ye(D,U){var Q=oe(D),I=oe(U),k=Q-(I>>1)&65535,z=I+k-32768&65535;we.a=z,we.b=k}function et(D,U,Q,I,k,z,K){for(var J=K<16384,ue=Q>k?k:Q,fe=1,ve;fe<=ue;)fe<<=1;for(fe>>=1,ve=fe,fe>>=1;fe>=1;){for(var me=0,Ze=me+z*(k-ve),Me=z*fe,Te=z*ve,nt=I*fe,dt=I*ve,vt,Tt,qe,Ue;me<=Ze;me+=Te){for(var kt=me,yt=me+I*(Q-ve);kt<=yt;kt+=dt){var At=kt+nt,rn=kt+Me,Fn=rn+nt;J?(We(D[kt+U],D[rn+U]),vt=we.a,qe=we.b,We(D[At+U],D[Fn+U]),Tt=we.a,Ue=we.b,We(vt,Tt),D[kt+U]=we.a,D[At+U]=we.b,We(qe,Ue),D[rn+U]=we.a,D[Fn+U]=we.b):(Ye(D[kt+U],D[rn+U]),vt=we.a,qe=we.b,Ye(D[At+U],D[Fn+U]),Tt=we.a,Ue=we.b,Ye(vt,Tt),D[kt+U]=we.a,D[At+U]=we.b,Ye(qe,Ue),D[rn+U]=we.a,D[Fn+U]=we.b)}if(Q&fe){var rn=kt+Me;J?We(D[kt+U],D[rn+U]):Ye(D[kt+U],D[rn+U]),vt=we.a,D[rn+U]=we.b,D[kt+U]=vt}}if(k&fe)for(var kt=me,yt=me+I*(Q-ve);kt<=yt;kt+=dt){var At=kt+nt;J?We(D[kt+U],D[At+U]):Ye(D[kt+U],D[At+U]),vt=we.a,D[At+U]=we.b,D[kt+U]=vt}ve=fe,fe>>=1}return me}function Et(D,U,Q,I,k,z,K,J,ue,fe){for(var ve=0,me=0,Ze=J,Me=Math.trunc(k.value+(z+7)/8);k.value<Me;)for(ae(ve,me,Q,k),ve=Y.c,me=Y.lc;me>=14;){var Te=ve>>me-14&16383,nt=U[Te];if(nt.len)me-=nt.len,Oe(nt.lit,K,ve,me,Q,I,k,ue,fe,Ze),ve=ge.c,me=ge.lc;else{if(!nt.p)throw"hufDecode issues";var dt;for(dt=0;dt<nt.lit;dt++){for(var vt=he(D[nt.p[dt]]);me<vt&&k.value<Me;)ae(ve,me,Q,k),ve=Y.c,me=Y.lc;if(me>=vt&&H(D[nt.p[dt]])==(ve>>me-vt&(1<<vt)-1)){me-=vt,Oe(nt.p[dt],K,ve,me,Q,I,k,ue,fe,Ze),ve=ge.c,me=ge.lc;break}}if(dt==nt.lit)throw"hufDecode issues"}}var Tt=8-z&7;for(ve>>=Tt,me-=Tt;me>0;){var nt=U[ve<<14-me&16383];if(nt.len)me-=nt.len,Oe(nt.lit,K,ve,me,Q,I,k,ue,fe,Ze),ve=ge.c,me=ge.lc;else throw"hufDecode issues"}return!0}function tt(D,U,Q,I,k,z){var K={value:0},J=Q.value,ue=pt(U,Q),fe=pt(U,Q);Q.value+=4;var ve=pt(U,Q);if(Q.value+=4,ue<0||ue>=65537||fe<0||fe>=65537)throw"Something wrong with HUF_ENCSIZE";var me=new Array(65537),Ze=new Array(16384);B(Ze);var Me=I-(Q.value-J);if(ne(D,U,Q,Me,ue,fe,me),ve>8*(I-(Q.value-J)))throw"Something wrong with hufUncompress";Z(me,ue,fe,Ze),Et(me,Ze,D,U,Q,ve,fe,z,k,K)}function $(D,U,Q){for(var I=0;I<Q;++I)U[I]=D[U[I]]}function Ce(D){for(var U=1;U<D.length;U++){var Q=D[U-1]+D[U]-128;D[U]=Q}}function _e(D,U){for(var Q=0,I=Math.floor((D.length+1)/2),k=0,z=D.length-1;!(k>z||(U[k++]=D[Q++],k>z));)U[k++]=D[I++]}function Ie(D){for(var U=D.byteLength,Q=new Array,I=0,k=new DataView(D);U>0;){var z=k.getInt8(I++);if(z<0){var K=-z;U-=K+1;for(var J=0;J<K;J++)Q.push(k.getUint8(I++))}else{var K=z;U-=2;for(var ue=k.getUint8(I++),J=0;J<K+1;J++)Q.push(ue)}}return Q}function Ee(D,U,Q,I,k,z){var At=new DataView(z.buffer),K=Q[D.idx[0]].width,J=Q[D.idx[0]].height,ue=3,fe=Math.floor(K/8),ve=Math.ceil(K/8),me=Math.ceil(J/8),Ze=K-(ve-1)*8,Me=J-(me-1)*8,Te={value:0},nt=new Array(ue),dt=new Array(ue),vt=new Array(ue),Tt=new Array(ue),qe=new Array(ue);for(let Ht=0;Ht<ue;++Ht)qe[Ht]=U[D.idx[Ht]],nt[Ht]=Ht<1?0:nt[Ht-1]+ve*me,dt[Ht]=new Float32Array(64),vt[Ht]=new Uint16Array(64),Tt[Ht]=new Uint16Array(ve*64);for(let Ht=0;Ht<me;++Ht){var Ue=8;Ht==me-1&&(Ue=Me);var kt=8;for(let Lt=0;Lt<ve;++Lt){Lt==ve-1&&(kt=Ze);for(let zt=0;zt<ue;++zt)vt[zt].fill(0),vt[zt][0]=k[nt[zt]++],Qe(Te,I,vt[zt]),Je(vt[zt],dt[zt]),ot(dt[zt]);bt(dt);for(let zt=0;zt<ue;++zt)V(dt[zt],Tt[zt],Lt*64)}let bn=0;for(let Lt=0;Lt<ue;++Lt){const zt=Q[D.idx[Lt]].type;for(let cn=8*Ht;cn<8*Ht+Ue;++cn){bn=qe[Lt][cn];for(let Fi=0;Fi<fe;++Fi){const Gr=Fi*64+(cn&7)*8;At.setUint16(bn+0*2*zt,Tt[Lt][Gr+0],!0),At.setUint16(bn+1*2*zt,Tt[Lt][Gr+1],!0),At.setUint16(bn+2*2*zt,Tt[Lt][Gr+2],!0),At.setUint16(bn+3*2*zt,Tt[Lt][Gr+3],!0),At.setUint16(bn+4*2*zt,Tt[Lt][Gr+4],!0),At.setUint16(bn+5*2*zt,Tt[Lt][Gr+5],!0),At.setUint16(bn+6*2*zt,Tt[Lt][Gr+6],!0),At.setUint16(bn+7*2*zt,Tt[Lt][Gr+7],!0),bn+=8*2*zt}}if(fe!=ve)for(let cn=8*Ht;cn<8*Ht+Ue;++cn){const Fi=qe[Lt][cn]+8*fe*2*zt,Gr=fe*64+(cn&7)*8;for(let Bs=0;Bs<kt;++Bs)At.setUint16(Fi+Bs*2*zt,Tt[Lt][Gr+Bs],!0)}}}for(var yt=new Uint16Array(K),At=new DataView(z.buffer),rn=0;rn<ue;++rn){Q[D.idx[rn]].decoded=!0;var Fn=Q[D.idx[rn]].type;if(Q[rn].type==2)for(var An=0;An<J;++An){const Ht=qe[rn][An];for(var Jt=0;Jt<K;++Jt)yt[Jt]=At.getUint16(Ht+Jt*2*Fn,!0);for(var Jt=0;Jt<K;++Jt)At.setFloat32(Ht+Jt*2*Fn,Pe(yt[Jt]),!0)}}}function Qe(D,U,Q){for(var I,k=1;k<64;)I=U[D.value],I==65280?k=64:I>>8==255?k+=I&255:(Q[k]=I,k++),D.value++}function Je(D,U){U[0]=Pe(D[0]),U[1]=Pe(D[1]),U[2]=Pe(D[5]),U[3]=Pe(D[6]),U[4]=Pe(D[14]),U[5]=Pe(D[15]),U[6]=Pe(D[27]),U[7]=Pe(D[28]),U[8]=Pe(D[2]),U[9]=Pe(D[4]),U[10]=Pe(D[7]),U[11]=Pe(D[13]),U[12]=Pe(D[16]),U[13]=Pe(D[26]),U[14]=Pe(D[29]),U[15]=Pe(D[42]),U[16]=Pe(D[3]),U[17]=Pe(D[8]),U[18]=Pe(D[12]),U[19]=Pe(D[17]),U[20]=Pe(D[25]),U[21]=Pe(D[30]),U[22]=Pe(D[41]),U[23]=Pe(D[43]),U[24]=Pe(D[9]),U[25]=Pe(D[11]),U[26]=Pe(D[18]),U[27]=Pe(D[24]),U[28]=Pe(D[31]),U[29]=Pe(D[40]),U[30]=Pe(D[44]),U[31]=Pe(D[53]),U[32]=Pe(D[10]),U[33]=Pe(D[19]),U[34]=Pe(D[23]),U[35]=Pe(D[32]),U[36]=Pe(D[39]),U[37]=Pe(D[45]),U[38]=Pe(D[52]),U[39]=Pe(D[54]),U[40]=Pe(D[20]),U[41]=Pe(D[22]),U[42]=Pe(D[33]),U[43]=Pe(D[38]),U[44]=Pe(D[46]),U[45]=Pe(D[51]),U[46]=Pe(D[55]),U[47]=Pe(D[60]),U[48]=Pe(D[21]),U[49]=Pe(D[34]),U[50]=Pe(D[37]),U[51]=Pe(D[47]),U[52]=Pe(D[50]),U[53]=Pe(D[56]),U[54]=Pe(D[59]),U[55]=Pe(D[61]),U[56]=Pe(D[35]),U[57]=Pe(D[36]),U[58]=Pe(D[48]),U[59]=Pe(D[49]),U[60]=Pe(D[57]),U[61]=Pe(D[58]),U[62]=Pe(D[62]),U[63]=Pe(D[63])}function ot(D){const U=.5*Math.cos(.7853975),Q=.5*Math.cos(3.14159/16),I=.5*Math.cos(3.14159/8),k=.5*Math.cos(3*3.14159/16),z=.5*Math.cos(5*3.14159/16),K=.5*Math.cos(3*3.14159/8),J=.5*Math.cos(7*3.14159/16);for(var ue=new Array(4),fe=new Array(4),ve=new Array(4),me=new Array(4),Ze=0;Ze<8;++Ze){var Me=Ze*8;ue[0]=I*D[Me+2],ue[1]=K*D[Me+2],ue[2]=I*D[Me+6],ue[3]=K*D[Me+6],fe[0]=Q*D[Me+1]+k*D[Me+3]+z*D[Me+5]+J*D[Me+7],fe[1]=k*D[Me+1]-J*D[Me+3]-Q*D[Me+5]-z*D[Me+7],fe[2]=z*D[Me+1]-Q*D[Me+3]+J*D[Me+5]+k*D[Me+7],fe[3]=J*D[Me+1]-z*D[Me+3]+k*D[Me+5]-Q*D[Me+7],ve[0]=U*(D[Me+0]+D[Me+4]),ve[3]=U*(D[Me+0]-D[Me+4]),ve[1]=ue[0]+ue[3],ve[2]=ue[1]-ue[2],me[0]=ve[0]+ve[1],me[1]=ve[3]+ve[2],me[2]=ve[3]-ve[2],me[3]=ve[0]-ve[1],D[Me+0]=me[0]+fe[0],D[Me+1]=me[1]+fe[1],D[Me+2]=me[2]+fe[2],D[Me+3]=me[3]+fe[3],D[Me+4]=me[3]-fe[3],D[Me+5]=me[2]-fe[2],D[Me+6]=me[1]-fe[1],D[Me+7]=me[0]-fe[0]}for(var Te=0;Te<8;++Te)ue[0]=I*D[16+Te],ue[1]=K*D[16+Te],ue[2]=I*D[48+Te],ue[3]=K*D[48+Te],fe[0]=Q*D[8+Te]+k*D[24+Te]+z*D[40+Te]+J*D[56+Te],fe[1]=k*D[8+Te]-J*D[24+Te]-Q*D[40+Te]-z*D[56+Te],fe[2]=z*D[8+Te]-Q*D[24+Te]+J*D[40+Te]+k*D[56+Te],fe[3]=J*D[8+Te]-z*D[24+Te]+k*D[40+Te]-Q*D[56+Te],ve[0]=U*(D[Te]+D[32+Te]),ve[3]=U*(D[Te]-D[32+Te]),ve[1]=ue[0]+ue[3],ve[2]=ue[1]-ue[2],me[0]=ve[0]+ve[1],me[1]=ve[3]+ve[2],me[2]=ve[3]-ve[2],me[3]=ve[0]-ve[1],D[0+Te]=me[0]+fe[0],D[8+Te]=me[1]+fe[1],D[16+Te]=me[2]+fe[2],D[24+Te]=me[3]+fe[3],D[32+Te]=me[3]-fe[3],D[40+Te]=me[2]-fe[2],D[48+Te]=me[1]-fe[1],D[56+Te]=me[0]-fe[0]}function bt(D){for(var U=0;U<64;++U){var Q=D[0][U],I=D[1][U],k=D[2][U];D[0][U]=Q+1.5747*k,D[1][U]=Q-.1873*I-.4682*k,D[2][U]=Q+1.8556*I}}function V(D,U,Q){for(var I=0;I<64;++I)U[Q+I]=Jl.toHalfFloat(F(D[I]))}function F(D){return D<=1?Math.sign(D)*Math.pow(Math.abs(D),2.2):Math.sign(D)*Math.pow(N,Math.abs(D)-1)}function pe(D){return new DataView(D.array.buffer,D.offset.value,D.size)}function xe(D){var U=D.viewer.buffer.slice(D.offset.value,D.offset.value+D.size),Q=new Uint8Array(Ie(U)),I=new Uint8Array(Q.length);return Ce(Q),_e(Q,I),new DataView(I.buffer)}function Re(D){var U=D.array.slice(D.offset.value,D.offset.value+D.size),Q=Qg(U),I=new Uint8Array(Q.length);return Ce(Q),_e(Q,I),new DataView(I.buffer)}function be(D){for(var U=D.viewer,Q={value:D.offset.value},I=new Uint16Array(D.width*D.scanlineBlockSize*(D.channels*D.type)),k=new Uint8Array(8192),z=0,K=new Array(D.channels),J=0;J<D.channels;J++)K[J]={},K[J].start=z,K[J].end=K[J].start,K[J].nx=D.width,K[J].ny=D.lines,K[J].size=D.type,z+=K[J].nx*K[J].ny*K[J].size;var ue=ee(U,Q),fe=ee(U,Q);if(fe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ue<=fe)for(var J=0;J<fe-ue+1;J++)k[J+ue]=it(U,Q);var ve=new Uint16Array(65536),me=b(k,ve),Ze=pt(U,Q);tt(D.array,U,Q,Ze,I,z);for(var J=0;J<D.channels;++J)for(var Me=K[J],Te=0;Te<K[J].size;++Te)et(I,Me.start+Te,Me.nx,Me.size,Me.ny,Me.nx*Me.size,me);$(ve,I,z);for(var nt=0,dt=new Uint8Array(I.buffer.byteLength),vt=0;vt<D.lines;vt++)for(var Tt=0;Tt<D.channels;Tt++){var Me=K[Tt],qe=Me.nx*Me.size,Ue=new Uint8Array(I.buffer,Me.end*2,qe*2);dt.set(Ue,nt),nt+=qe*2,Me.end+=qe}return new DataView(dt.buffer)}function St(D){var U=D.array.slice(D.offset.value,D.offset.value+D.size),Q=Qg(U);const I=D.lines*D.channels*D.width,k=D.type==1?new Uint16Array(I):new Uint32Array(I);let z=0,K=0;const J=new Array(4);for(let ue=0;ue<D.lines;ue++)for(let fe=0;fe<D.channels;fe++){let ve=0;switch(D.type){case 1:J[0]=z,J[1]=J[0]+D.width,z=J[1]+D.width;for(let me=0;me<D.width;++me){const Ze=Q[J[0]++]<<8|Q[J[1]++];ve+=Ze,k[K]=ve,K++}break;case 2:J[0]=z,J[1]=J[0]+D.width,J[2]=J[1]+D.width,z=J[2]+D.width;for(let me=0;me<D.width;++me){const Ze=Q[J[0]++]<<24|Q[J[1]++]<<16|Q[J[2]++]<<8;ve+=Ze,k[K]=ve,K++}break}}return new DataView(k.buffer)}function mt(D){var U=D.viewer,Q={value:D.offset.value},I=new Uint8Array(D.width*D.lines*(D.channels*D.type*2)),k={version:Ke(U,Q),unknownUncompressedSize:Ke(U,Q),unknownCompressedSize:Ke(U,Q),acCompressedSize:Ke(U,Q),dcCompressedSize:Ke(U,Q),rleCompressedSize:Ke(U,Q),rleUncompressedSize:Ke(U,Q),rleRawSize:Ke(U,Q),totalAcUncompressedCount:Ke(U,Q),totalDcUncompressedCount:Ke(U,Q),acCompression:Ke(U,Q)};if(k.version<2)throw"EXRLoader.parse: "+qr.compression+" version "+k.version+" is unsupported";for(var z=new Array,K=ee(U,Q)-2;K>0;){var J=De(U.buffer,Q),ue=it(U,Q),fe=ue>>2&3,ve=(ue>>4)-1,me=new Int8Array([ve])[0],Ze=it(U,Q);z.push({name:J,index:me,type:Ze,compression:fe}),K-=J.length+3}for(var Me=qr.channels,Te=new Array(D.channels),nt=0;nt<D.channels;++nt){var dt=Te[nt]={},vt=Me[nt];dt.name=vt.name,dt.compression=0,dt.decoded=!1,dt.type=vt.pixelType,dt.pLinear=vt.pLinear,dt.width=D.width,dt.height=D.lines}for(var Tt={idx:new Array(3)},qe=0;qe<D.channels;++qe)for(var dt=Te[qe],nt=0;nt<z.length;++nt){var Ue=z[nt];dt.name==Ue.name&&(dt.compression=Ue.compression,Ue.index>=0&&(Tt.idx[Ue.index]=qe),dt.offset=qe)}if(k.acCompressedSize>0)switch(k.acCompression){case 0:var At=new Uint16Array(k.totalAcUncompressedCount);tt(D.array,U,Q,k.acCompressedSize,At,k.totalAcUncompressedCount);break;case 1:var kt=D.array.slice(Q.value,Q.value+k.totalAcUncompressedCount),yt=Qg(kt),At=new Uint16Array(yt.buffer);Q.value+=k.totalAcUncompressedCount;break}if(k.dcCompressedSize>0){var rn={array:D.array,offset:Q,size:k.dcCompressedSize},Fn=new Uint16Array(Re(rn).buffer);Q.value+=k.dcCompressedSize}if(k.rleRawSize>0){var kt=D.array.slice(Q.value,Q.value+k.rleCompressedSize),yt=Qg(kt),An=Ie(yt.buffer);Q.value+=k.rleCompressedSize}for(var Jt=0,Ht=new Array(Te.length),nt=0;nt<Ht.length;++nt)Ht[nt]=new Array;for(var bn=0;bn<D.lines;++bn)for(var Lt=0;Lt<Te.length;++Lt)Ht[Lt].push(Jt),Jt+=Te[Lt].width*D.type*2;Ee(Tt,Ht,Te,At,Fn,I);for(var nt=0;nt<Te.length;++nt){var dt=Te[nt];if(!dt.decoded)switch(dt.compression){case 2:for(var zt=0,cn=0,bn=0;bn<D.lines;++bn){for(var Fi=Ht[nt][zt],Gr=0;Gr<dt.width;++Gr){for(var Bs=0;Bs<2*dt.type;++Bs)I[Fi++]=An[cn+Bs*dt.width*dt.height];cn++}zt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(I.buffer)}function De(D,U){for(var Q=new Uint8Array(D),I=0;Q[U.value+I]!=0;)I+=1;var k=new TextDecoder().decode(Q.slice(U.value,U.value+I));return U.value=U.value+I+1,k}function ze(D,U,Q){var I=new TextDecoder().decode(new Uint8Array(D).slice(U.value,U.value+Q));return U.value=U.value+Q,I}function wt(D,U){var Q=ln(D,U),I=pt(D,U);return[Q,I]}function Fe(D,U){var Q=pt(D,U),I=pt(D,U);return[Q,I]}function ln(D,U){var Q=D.getInt32(U.value,!0);return U.value=U.value+4,Q}function pt(D,U){var Q=D.getUint32(U.value,!0);return U.value=U.value+4,Q}function ht(D,U){var Q=D[U.value];return U.value=U.value+1,Q}function it(D,U){var Q=D.getUint8(U.value);return U.value=U.value+1,Q}const Ke=function(D,U){let Q;return"getBigInt64"in DataView.prototype?Q=Number(D.getBigInt64(U.value,!0)):Q=D.getUint32(U.value+4,!0)+Number(D.getUint32(U.value,!0)<<32),U.value+=8,Q};function gt(D,U){var Q=D.getFloat32(U.value,!0);return U.value+=4,Q}function Ct(D,U){return Jl.toHalfFloat(gt(D,U))}function Pe(D){var U=(D&31744)>>10,Q=D&1023;return(D>>15?-1:1)*(U?U===31?Q?NaN:1/0:Math.pow(2,U-15)*(1+Q/1024):6103515625e-14*(Q/1024))}function ee(D,U){var Q=D.getUint16(U.value,!0);return U.value+=2,Q}function Ve(D,U){return Pe(ee(D,U))}function ce(D,U,Q,I){for(var k=Q.value,z=[];Q.value<k+I-1;){var K=De(U,Q),J=ln(D,Q),ue=it(D,Q);Q.value+=3;var fe=ln(D,Q),ve=ln(D,Q);z.push({name:K,pixelType:J,pLinear:ue,xSampling:fe,ySampling:ve})}return Q.value+=1,z}function Ne(D,U){var Q=gt(D,U),I=gt(D,U),k=gt(D,U),z=gt(D,U),K=gt(D,U),J=gt(D,U),ue=gt(D,U),fe=gt(D,U);return{redX:Q,redY:I,greenX:k,greenY:z,blueX:K,blueY:J,whiteX:ue,whiteY:fe}}function Xe(D,U){var Q=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],I=it(D,U);return Q[I]}function Nt(D,U){var Q=pt(D,U),I=pt(D,U),k=pt(D,U),z=pt(D,U);return{xMin:Q,yMin:I,xMax:k,yMax:z}}function tn(D,U){var Q=["INCREASING_Y"],I=it(D,U);return Q[I]}function Dn(D,U){var Q=gt(D,U),I=gt(D,U);return[Q,I]}function dr(D,U){var Q=gt(D,U),I=gt(D,U),k=gt(D,U);return[Q,I,k]}function nn(D,U,Q,I,k){if(I==="string"||I==="stringvector"||I==="iccProfile")return ze(U,Q,k);if(I==="chlist")return ce(D,U,Q,k);if(I==="chromaticities")return Ne(D,Q);if(I==="compression")return Xe(D,Q);if(I==="box2i")return Nt(D,Q);if(I==="lineOrder")return tn(D,Q);if(I==="float")return gt(D,Q);if(I==="v2f")return Dn(D,Q);if(I==="v3f")return dr(D,Q);if(I==="int")return ln(D,Q);if(I==="rational")return wt(D,Q);if(I==="timecode")return Fe(D,Q);if(I==="preview")return Q.value+=k,"skipped";Q.value+=k}function Yn(D,U,Q){const I={};if(D.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";I.version=D.getUint8(4);const k=D.getUint8(5);I.spec={singleTile:!!(k&2),longName:!!(k&4),deepFormat:!!(k&8),multiPart:!!(k&16)},Q.value=8;for(var z=!0;z;){var K=De(U,Q);if(K==0)z=!1;else{var J=De(U,Q),ue=pt(D,Q),fe=nn(D,U,Q,J,ue);fe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${J}'.`):I[K]=fe}}if(k&-5)throw console.error("EXRHeader:",I),"THREE.EXRLoader: provided file is currently unsupported.";return I}function Zr(D,U,Q,I,k){const z={size:0,viewer:U,array:Q,offset:I,width:D.dataWindow.xMax-D.dataWindow.xMin+1,height:D.dataWindow.yMax-D.dataWindow.yMin+1,channels:D.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:D.channels[0].pixelType,uncompress:null,getter:null,format:null,[Wh?"colorSpace":"encoding"]:null};switch(D.compression){case"NO_COMPRESSION":z.lines=1,z.uncompress=pe;break;case"RLE_COMPRESSION":z.lines=1,z.uncompress=xe;break;case"ZIPS_COMPRESSION":z.lines=1,z.uncompress=Re;break;case"ZIP_COMPRESSION":z.lines=16,z.uncompress=Re;break;case"PIZ_COMPRESSION":z.lines=32,z.uncompress=be;break;case"PXR24_COMPRESSION":z.lines=16,z.uncompress=St;break;case"DWAA_COMPRESSION":z.lines=32,z.uncompress=mt;break;case"DWAB_COMPRESSION":z.lines=256,z.uncompress=mt;break;default:throw"EXRLoader.parse: "+D.compression+" is unsupported"}if(z.scanlineBlockSize=z.lines,z.type==1)switch(k){case er:z.getter=Ve,z.inputSize=2;break;case Lr:z.getter=ee,z.inputSize=2;break}else if(z.type==2)switch(k){case er:z.getter=gt,z.inputSize=4;break;case Lr:z.getter=Ct,z.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+z.type+" for "+D.compression+".";z.blockCount=(D.dataWindow.yMax+1)/z.scanlineBlockSize;for(var K=0;K<z.blockCount;K++)Ke(U,I);z.outputChannels=z.channels==3?4:z.channels;const J=z.width*z.height*z.outputChannels;switch(k){case er:z.byteArray=new Float32Array(J),z.channels<z.outputChannels&&z.byteArray.fill(1,0,J);break;case Lr:z.byteArray=new Uint16Array(J),z.channels<z.outputChannels&&z.byteArray.fill(15360,0,J);break;default:console.error("THREE.EXRLoader: unsupported type: ",k);break}return z.bytesPerLine=z.width*z.inputSize*z.channels,z.outputChannels==4?z.format=Ir:z.format=Kv,Wh?z.colorSpace="srgb-linear":z.encoding=3e3,z}const Ps=new DataView(e),sl=new Uint8Array(e),Di={value:0},qr=Yn(Ps,e,Di),It=Zr(qr,Ps,sl,Di,this.type),ol={value:0},Ru={R:0,G:1,B:2,A:3,Y:0};for(let D=0;D<It.height/It.scanlineBlockSize;D++){const U=pt(Ps,Di);It.size=pt(Ps,Di),It.lines=U+It.scanlineBlockSize>It.height?It.height-U:It.scanlineBlockSize;const I=It.size<It.lines*It.bytesPerLine?It.uncompress(It):pe(It);Di.value+=It.size;for(let k=0;k<It.scanlineBlockSize;k++){const z=k+D*It.scanlineBlockSize;if(z>=It.height)break;for(let K=0;K<It.channels;K++){const J=Ru[qr.channels[K].name];for(let ue=0;ue<It.width;ue++){ol.value=(k*(It.channels*It.width)+K*It.width+ue)*It.inputSize;const fe=(It.height-1-z)*(It.width*It.outputChannels)+ue*It.outputChannels+J;It.byteArray[fe]=It.getter(I,ol)}}}}return{header:qr,width:It.width,height:It.height,data:It.byteArray,format:It.format,[Wh?"colorSpace":"encoding"]:It[Wh?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){Wh?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=on,o.magFilter=on,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const x1=new WeakMap;class l$ extends kr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Ri(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(x1.has(e)){const l=x1.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,f)=>{i._callbacks[s]={resolve:u,reject:f},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),x1.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Rt;e.index&&n.setIndex(new Qt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Qt(o,a))}return n}_loadLibrary(e,n){const r=new Ri(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=u$.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function u$(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(d){f({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(f=>{const d=f.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=n(d,p,m,u),_=v.attributes.map(y=>y.array.buffer);v.index&&_.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},_)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function n(o,a,l,u){const f=u.attributeIDs,d=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const _={index:null,attributes:[]};for(const y in f){const g=self[d[y]];let S,A;if(u.useUniqueIDs)A=f[y],S=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[f[y]]),A===-1)continue;S=a.GetAttribute(p,A)}_.attributes.push(i(o,a,p,y,g,S))}return v===o.TRIANGULAR_MESH&&(_.index=r(o,a,p)),o.destroy(p),_}function r(o,a,l){const f=l.num_faces()*3,d=f*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,f,d){const p=d.num_components(),v=l.num_points()*p,_=v*f.BYTES_PER_ELEMENT,y=s(o,f),g=o._malloc(_);a.GetAttributeDataArrayForAllPoints(l,d,y,_,g);const S=new f(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:u,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Zg;const _1=()=>{if(Zg)return Zg;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const _=d.charCodeAt(v);p[v]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,_,y){const g=s.exports.sbrk,S=m+3&-4,A=g(S*v),E=g(_.length),T=new Uint8Array(s.exports.memory.buffer);T.set(_,E);const C=d(A,m,v,E,_.length);if(C===0&&y&&y(A,S,v),p.set(T.subarray(A,A+m*v)),g(A-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Zg={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,_){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[u[_]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,_,y){l(s.exports[f[_]],d,p,m,v,s.exports[u[y]])}},Zg};function JN(t,e,n,r){const i=class extends Ti{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,f])=>{const d=bE.clone({[u]:{value:f}});return{...l,...d}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=af.generateUUID(),i}const nB=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function uv(t,e){const n=bo(s=>s.gl),r=zo(Bp,nB(t)?Object.values(t):t);return j.useLayoutEffect(()=>{e==null||e(r)},[e]),j.useEffect(()=>{"initTexture"in n&&(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),j.useMemo(()=>{if(nB(t)){const s={};let o=0;for(const a in t)s[a]=r[o++];return s}else return r},[t,r])}uv.preload=t=>zo.preload(Bp,t);uv.clear=t=>zo.clear(Bp,t);const c$=()=>parseInt(mu.replace(/\D+/g,"")),$N=c$();function f$(t){return Array.isArray(t)}function A1(t=[0,0,0]){return f$(t)?t:t instanceof G||t instanceof Nr?[t.x,t.y,t.z]:[t,t,t]}const rB=j.forwardRef(function({debug:e,depthTest:n=!1,polygonOffsetFactor:r=-10,map:i,mesh:s,children:o,position:a,rotation:l,scale:u,...f},d){const p=j.useRef(null);j.useImperativeHandle(d,()=>p.current);const m=j.useRef(null);return j.useLayoutEffect(()=>{const v=(s==null?void 0:s.current)||p.current.parent,_=p.current;if(!(v instanceof Bn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const y={position:new G,rotation:new Nr,scale:new G(1,1,1)};if(v){Hs(y,{position:a,scale:u});const g=v.matrixWorld.clone();if(v.matrixWorld.identity(),!l||typeof l=="number"){const S=new jt;S.position.copy(y.position),S.lookAt(v.position),typeof l=="number"&&S.rotateZ(l),Hs(y,{rotation:S.rotation})}else Hs(y,{rotation:l});return _.geometry=new s$(v,y.position,y.rotation,y.scale),m.current&&(Hs(m.current,y),m.current.traverse(S=>S.raycast=()=>null)),v.matrixWorld=g,()=>{_.geometry.dispose()}}},[s,...A1(a),...A1(u),...A1(l)]),j.createElement("mesh",Xa({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":r,"material-depthTest":n,"material-map":i},f),o,e&&j.createElement("mesh",{ref:m},j.createElement("boxGeometry",null),j.createElement("meshNormalMaterial",{wireframe:!0}),j.createElement("axesHelper",null)))});let qg=null,KN="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function YN(t,e,n){return r=>{n&&n(r),t&&(qg||(qg=new l$),qg.setDecoderPath(typeof t=="string"?t:KN),r.setDRACOLoader(qg)),e&&r.setMeshoptDecoder(typeof _1=="function"?_1():_1)}}function _y(t,e=!0,n=!0,r){return zo(fM,t,YN(e,n,r))}_y.preload=(t,e=!0,n=!0,r)=>zo.preload(fM,t,YN(e,n,r));_y.clear=t=>zo.clear(fM,t);_y.setDecoderPath=t=>{KN=t};const h$=j.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:f,back:d,onCentered:p,precise:m=!0,cacheKey:v=0,..._},y){const g=j.useRef(null),S=j.useRef(null),A=j.useRef(null);return j.useLayoutEffect(()=>{S.current.matrixWorld.identity();const E=new xr().setFromObject(A.current,m),T=new G,C=new fr,P=E.max.x-E.min.x,L=E.max.y-E.min.y,N=E.max.z-E.min.z;E.getCenter(T),E.getBoundingSphere(C);const b=l?L/2:u?-L/2:0,B=o?-P/2:a?P/2:0,q=f?N/2:d?-N/2:0;S.current.position.set(n||r?0:-T.x+B,n||i?0:-T.y+b,n||s?0:-T.z+q),typeof p<"u"&&p({parent:g.current.parent,container:g.current,width:P,height:L,depth:N,boundingBox:E,boundingSphere:C,center:T,verticalAlignment:b,horizontalAlignment:B,depthAlignment:q})},[v,p,l,o,f,n,r,i,s,m,a,u,d]),j.useImperativeHandle(y,()=>g.current,[]),j.createElement("group",Xa({ref:g},_),j.createElement("group",{ref:S},j.createElement("group",{ref:A},e)))});var QN={exports:{}},d$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",p$=d$,m$=p$;function ZN(){}function qN(){}qN.resetWarningCache=ZN;var g$=function(){function t(r,i,s,o,a,l){if(l!==m$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qN,resetWarningCache:ZN};return n.PropTypes=n,n};QN.exports=g$();var v$=QN.exports;const Ge=dp(v$),y$=3e3,x$=3001,_$=JN({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),S1={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},A$="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",iB=t=>Array.isArray(t);function eU({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var s;let o=null,a=!1,l;if(n){if(!(n in S1))throw new Error("Preset must be one of: "+Object.keys(S1).join(", "));t=S1[n],e=A$}if(a=iB(t),l=iB(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(s=t.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=a?eN:l==="hdr"?o$:l==="exr"?a$:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=zo(o,a?[t]:t,d=>{d.setPath==null||d.setPath(e),i&&i(d)}),f=a?u[0]:u;return f.mapping=a?qs:yf,"colorSpace"in f?f.colorSpace=r??a?"srgb":"srgb-linear":f.encoding=r??a?x$:y$,f}const S$=t=>t.current&&t.current.isScene,w$=t=>S$(t)?t.current:t;function hM(t,e,n,r,i=0){const s=w$(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=r),t&&(s.background=r),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function dM({scene:t,background:e=!1,blur:n,map:r}){const i=bo(s=>s.scene);return j.useLayoutEffect(()=>{if(r)return hM(e,t,i,r,n)},[i,t,r,e,n]),null}function tU({background:t=!1,scene:e,blur:n,...r}){const i=eU(r),s=bo(o=>o.scene);return j.useLayoutEffect(()=>hM(t,e,s,i,n),[i,t,e,s,n]),null}function E$({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:f,preset:d=void 0,extensions:p}){const m=bo(A=>A.gl),v=bo(A=>A.scene),_=j.useRef(null),[y]=j.useState(()=>new ep),g=j.useMemo(()=>{const A=new CE(r);return A.texture.type=Lr,A},[r]);j.useLayoutEffect(()=>(i===1&&_.current.update(m,y),hM(o,l,v,g.texture,a)),[t,y,g.texture,l,v,o,i,m]);let S=1;return xy(()=>{(i===1/0||S<i)&&(_.current.update(m,y),S++)}),j.createElement(j.Fragment,null,gj(j.createElement(j.Fragment,null,t,j.createElement("cubeCamera",{ref:_,args:[e,n,g]}),u||d?j.createElement(tU,{background:!0,files:u,preset:d,path:f,extensions:p}):s?j.createElement(dM,{background:!0,map:s,extensions:p}):null),y))}function M$(t){var e,n,r,i;const s=eU(t),o=t.map||s;j.useMemo(()=>aM({GroundProjectedEnvImpl:bJ}),[]);const a=j.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,f=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return j.createElement(j.Fragment,null,j.createElement(dM,Xa({},t,{map:o})),j.createElement("groundProjectedEnvImpl",{args:a,scale:f,height:l,radius:u}))}function b$(t){return t.ground?j.createElement(M$,t):t.map?j.createElement(dM,t):t.children?j.createElement(E$,t):j.createElement(tU,t)}function C$(t){return t.isLight}function T$(t){return!!t.geometry}const nU=j.createContext(null),R$=JN({color:new He,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${$N>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),P$=j.forwardRef(({children:t,temporal:e,frames:n=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:u=2,resolution:f=1024,toneMapped:d=!0,...p},m)=>{aM({SoftShadowMaterial:R$});const v=bo(C=>C.gl),_=bo(C=>C.scene),y=bo(C=>C.camera),g=bo(C=>C.invalidate),S=j.useRef(null),A=j.useRef(null),[E]=j.useState(()=>new B$(v,_,f));j.useLayoutEffect(()=>{E.configure(S.current)},[]);const T=j.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,n),blend:Math.max(2,n===1/0?i:n),count:0,getMesh:()=>S.current,reset:()=>{E.clear();const C=S.current.material;C.opacity=0,C.alphaTest=0,T.count=0},update:(C=1)=>{const P=S.current.material;T.temporal?(P.opacity=Math.min(o,P.opacity+o/T.blend),P.alphaTest=Math.min(a,P.alphaTest+a/T.blend)):(P.opacity=o,P.alphaTest=a),A.current.visible=!0,E.prepare();for(let L=0;L<C;L++)T.lights.forEach(N=>N.update()),E.update(y,T.blend);A.current.visible=!1,E.finish()}}),[E,y,_,e,n,i,o,a]);return j.useLayoutEffect(()=>{T.reset(),!T.temporal&&T.frames!==1/0&&T.update(T.blend)}),j.useImperativeHandle(m,()=>T,[T]),xy(()=>{(T.temporal||T.frames===1/0)&&T.count<T.frames&&T.count<r&&(g(),T.update(),T.count++)}),j.createElement("group",p,j.createElement("group",{traverse:()=>null,ref:A},j.createElement(nU.Provider,{value:T},t)),j.createElement("mesh",{receiveShadow:!0,ref:S,scale:s,rotation:[-Math.PI/2,0,0]},j.createElement("planeGeometry",null),j.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:d,color:l,blend:u,map:E.progressiveLightMap2.texture})))}),sB=j.forwardRef(({castShadow:t=!0,bias:e=.001,mapSize:n=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:u=8,intensity:f=$N>=155?Math.PI:1,ambient:d=.5,...p},m)=>{const v=j.useRef(null),_=new G(...a).length(),y=j.useContext(nU),g=j.useCallback(()=>{let A;if(v.current)for(let E=0;E<v.current.children.length;E++)if(A=v.current.children[E],Math.random()>d)A.position.set(a[0]+af.randFloatSpread(l),a[1]+af.randFloatSpread(l),a[2]+af.randFloatSpread(l));else{let T=Math.acos(2*Math.random()-1)-Math.PI/2,C=2*Math.PI*Math.random();A.position.set(Math.cos(T)*Math.cos(C)*_,Math.abs(Math.cos(T)*Math.sin(C)*_),Math.sin(T)*_)}},[l,d,_,...a]),S=j.useMemo(()=>({update:g}),[g]);return j.useImperativeHandle(m,()=>S,[S]),j.useLayoutEffect(()=>{var A;const E=v.current;return y&&((A=y.lights)==null||A.set(E.uuid,S)),()=>{var T;return void(y==null||(T=y.lights)==null?void 0:T.delete(E.uuid))}},[y,S]),j.createElement("group",Xa({ref:v},p),Array.from({length:u},(A,E)=>j.createElement("directionalLight",{key:E,castShadow:t,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:f/u},j.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class B${constructor(e,n,r=1024){this.renderer=e,this.res=r,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new He,this.clearAlpha=0;const i={type:Lr,magFilter:En,minFilter:En};this.progressiveLightMap1=new Ci(this.res,this.res,i),this.progressiveLightMap2=new Ci(this.res,this.res,i),this.discardMat=new _$,this.targetMat=new WE({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{T$(e)?this.meshes.push({object:e,material:e.material}):C$(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,n=100){if(!this.object)return;this.averagingWindow.value=n,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}var rU={exports:{}},iU={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=j;function I$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var L$=typeof Object.is=="function"?Object.is:I$,D$=Tf.useState,F$=Tf.useEffect,O$=Tf.useLayoutEffect,N$=Tf.useDebugValue;function U$(t,e){var n=e(),r=D$({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return O$(function(){i.value=n,i.getSnapshot=e,w1(i)&&s({inst:i})},[t,n,e]),F$(function(){return w1(i)&&s({inst:i}),t(function(){w1(i)&&s({inst:i})})},[t]),N$(n),n}function w1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!L$(t,n)}catch{return!0}}function k$(t,e){return e()}var G$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k$:U$;iU.useSyncExternalStore=Tf.useSyncExternalStore!==void 0?Tf.useSyncExternalStore:G$;rU.exports=iU;var H$=rU.exports;const z$=dp(H$),V$=Symbol(),pM=Symbol(),Xh="a",Ad="w";let W$=(t,e)=>new Proxy(t,e);const zS=Object.getPrototypeOf,VS=new WeakMap,sU=t=>t&&(VS.has(t)?VS.get(t):zS(t)===Object.prototype||zS(t)===Array.prototype),cv=t=>typeof t=="object"&&t!==null,X$=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(zS(t),e)},mM=t=>t[pM]||t,oU=(t,e,n,r)=>{if(!sU(t))return t;let i=r&&r.get(t);if(!i){const l=mM(t);i=(u=>Object.values(Object.getOwnPropertyDescriptors(u)).some(f=>!f.configurable&&!f.writable))(l)?[l,X$(l)]:[l],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((l,u)=>{const f={f:u};let d=!1;const p=(v,_)=>{if(!d){let y=f[Xh].get(l);if(y||(y={},f[Xh].set(l,y)),v===Ad)y[Ad]=!0;else{let g=y[v];g||(g=new Set,y[v]=g),g.add(_)}}},m={get:(v,_)=>_===pM?l:(p("k",_),oU(Reflect.get(v,_),f[Xh],f.c,f.t)),has:(v,_)=>_===V$?(d=!0,f[Xh].delete(l),!0):(p("h",_),Reflect.has(v,_)),getOwnPropertyDescriptor:(v,_)=>(p("o",_),Reflect.getOwnPropertyDescriptor(v,_)),ownKeys:v=>(p(Ad),Reflect.ownKeys(v))};return u&&(m.set=m.deleteProperty=()=>!1),[m,f]})(s,!!o),a[1].p=W$(o||s,a[0]),n&&n.set(s,a)),a[1][Xh]=e,a[1].c=n,a[1].t=r,a[1].p},aU=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!cv(t)||!cv(e))return!0;const s=n.get(mM(t));if(!s)return!0;if(r){const a=r.get(t);if(a&&a.n===e)return a.g;r.set(t,{n:e,g:!1})}let o=null;try{for(const a of s.h||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[Ad]===!0){if(o=((a,l)=>{const u=Reflect.ownKeys(a),f=Reflect.ownKeys(l);return u.length!==f.length||u.some((d,p)=>d!==f[p])})(t,e),o)return o}else for(const a of s.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,a)!=!!Reflect.getOwnPropertyDescriptor(e,a),o)return o;for(const a of s.k||[])if(o=aU(t[a],e[a],n,r,i),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(t,{n:e,g:o})}},j$=t=>sU(t)&&t[pM]||null,oB=(t,e=!0)=>{VS.set(t,e)},J$=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;cv(o)&&i.add(o);const l=cv(o)&&e.get(mM(o));if(l){var u,f;if((u=l.h)==null||u.forEach(p=>{const m=`:has(${String(p)})`;r.push(a?[...a,m]:[m])}),l[Ad]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else{var d;(d=l.o)==null||d.forEach(p=>{const m=`:hasOwn(${String(p)})`;r.push(a?[...a,m]:[m])})}(f=l.k)==null||f.forEach(p=>{n&&!("value"in(Object.getOwnPropertyDescriptor(o,p)||{}))||s(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return s(t),r};var fv={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const E1=t=>typeof t=="object"&&t!==null,ga=new WeakMap,e0=new WeakSet,$$=(t=Object.is,e=(u,f)=>new Proxy(u,f),n=u=>E1(u)&&!e0.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,f,d=r)=>{const p=i.get(u);if((p==null?void 0:p[0])===f)return p[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return oB(m,!0),i.set(u,[f,m]),Reflect.ownKeys(u).forEach(v=>{if(Object.getOwnPropertyDescriptor(m,v))return;const _=Reflect.get(u,v),{enumerable:y}=Reflect.getOwnPropertyDescriptor(u,v),g={value:_,enumerable:y,configurable:!0};if(e0.has(_))oB(_,!1);else if(_ instanceof Promise)delete g.value,g.get=()=>d(_);else if(ga.has(_)){const[S,A]=ga.get(_);g.value=s(S,A(),d)}Object.defineProperty(m,v,g)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],l=u=>{if(!E1(u))throw new Error("object required");const f=o.get(u);if(f)return f;let d=a[0];const p=new Set,m=(N,b=++a[0])=>{d!==b&&(d=b,p.forEach(B=>B(N,b)))};let v=a[1];const _=(N=++a[1])=>(v!==N&&!p.size&&(v=N,g.forEach(([b])=>{const B=b[1](N);B>d&&(d=B)})),d),y=N=>(b,B)=>{const q=[...b];q[1]=[N,...q[1]],m(q,B)},g=new Map,S=(N,b)=>{if((fv?"production":void 0)!=="production"&&g.has(N))throw new Error("prop listener already exists");if(p.size){const B=b[3](y(N));g.set(N,[b,B])}else g.set(N,[b])},A=N=>{var b;const B=g.get(N);B&&(g.delete(N),(b=B[1])==null||b.call(B))},E=N=>(p.add(N),p.size===1&&g.forEach(([B,q],se)=>{if((fv?"production":void 0)!=="production"&&q)throw new Error("remove already exists");const X=B[3](y(se));g.set(se,[B,X])}),()=>{p.delete(N),p.size===0&&g.forEach(([B,q],se)=>{q&&(q(),g.set(se,[B]))})}),T=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),P=e(T,{deleteProperty(N,b){const B=Reflect.get(N,b);A(b);const q=Reflect.deleteProperty(N,b);return q&&m(["delete",[b],B]),q},set(N,b,B,q){const se=Reflect.has(N,b),X=Reflect.get(N,b,q);if(se&&(t(X,B)||o.has(B)&&t(X,o.get(B))))return!0;A(b),E1(B)&&(B=j$(B)||B);let re=B;if(B instanceof Promise)B.then(ne=>{B.status="fulfilled",B.value=ne,m(["resolve",[b],ne])}).catch(ne=>{B.status="rejected",B.reason=ne,m(["reject",[b],ne])});else{!ga.has(B)&&n(B)&&(re=l(B));const ne=!e0.has(re)&&ga.get(re);ne&&S(b,ne)}return Reflect.set(N,b,re,q),m(["set",[b],B,X]),!0}});o.set(u,P);const L=[T,_,s,E];return ga.set(P,L),Reflect.ownKeys(u).forEach(N=>{const b=Object.getOwnPropertyDescriptor(u,N);"value"in b&&(P[N]=u[N],delete b.value,delete b.writable),Object.defineProperty(T,N,b)}),P})=>[l,ga,e0,t,e,n,r,i,s,o,a],[K$]=$$();function Y$(t={}){return K$(t)}function Q$(t,e,n){const r=ga.get(t);(fv?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const u=o(f=>{if(s.push(f),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function aB(t,e){const n=ga.get(t);(fv?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}var Z$={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{use:lB}=O,{useSyncExternalStore:q$}=z$,eK=(t,e)=>{const n=j.useRef();j.useEffect(()=>{n.current=J$(t,e,!0)}),j.useDebugValue(n.current)},tK=new WeakMap;function _u(t,e){const n=e==null?void 0:e.sync,r=j.useRef(),i=j.useRef();let s=!0;const o=q$(j.useCallback(u=>{const f=Q$(t,u,n);return u(),f},[t,n]),()=>{const u=aB(t,lB);try{if(!s&&r.current&&i.current&&!aU(r.current,u,i.current,new WeakMap))return r.current}catch{}return u},()=>aB(t,lB));s=!1;const a=new WeakMap;j.useEffect(()=>{r.current=o,i.current=a}),(Z$?"production":void 0)!=="production"&&eK(o,a);const l=j.useMemo(()=>new WeakMap,[]);return oU(o,a,l,tK)}const jr=Y$({intro:!0,color:"tomato",isLogoTexture:!0,isFullTexture:!1,logoDecal:"./threejs.png",fullDecal:"./threejs.png"}),nK=()=>{const t=_u(jr),{nodes:e,materials:n}=_y("/shirt_baked.glb"),r=uv(t.logoDecal),i=uv(t.fullDecal);xy((o,a)=>NS.dampC(n.lambert1.color,t.color,.25,a));const s=JSON.stringify(t);return O.createElement("group",{key:s},O.createElement("mesh",{castShadow:!0,geometry:e.T_Shirt_male.geometry,material:n.lambert1,"material-roughness":1,dispose:null},t.isFullTexture&&O.createElement(rB,{position:[0,0,0],rotation:[0,0,0],scale:1,map:i}),t.isLogoTexture&&O.createElement(rB,{position:[0,.04,.15],rotation:[0,0,0],scale:.15,map:r,depthTest:!1,depthWrite:!0})))},rK=()=>{const t=j.useRef();return O.createElement(P$,{ref:t,temporal:!0,frames:60,alphaTest:.45,scae:6,rotation:[Math.PI/2,0,0],position:[0,0,-.14]},O.createElement(sB,{amount:4,radius:9,intensity:.55,ambient:.25,position:[5,5,-10]}),O.createElement(sB,{amount:4,radius:5,intensity:.25,ambient:.55,position:[-5,5,-9]}))},iK=({children:t})=>{const e=j.useRef(),n=_u(jr);return xy((r,i)=>{const s=window.innerWidth<=1200,o=window.innerWidth<=600;let a=[-.4,0,2];n.intro?(s&&(a=[0,0,2]),o&&(a=[0,.2,2.5])):o?a=[0,0,2.5]:a=[0,0,2],NS.damp3(r.camera.position,a,.35,i),NS.dampE(e.current.rotation,[r.pointer.y/10,-r.pointer.x/5,0],.35,i)}),O.createElement("group",{ref:e},t)},sK=()=>O.createElement(Fj,{shadows:!0,camera:{position:[0,0,0],fov:25},gl:{preserveDrawingBuffer:!0},className:"w-full max-w-full h-full transition-all ease-in"},O.createElement("ambientLight",{intensity:.5}),O.createElement(b$,{preset:"city"}),O.createElement(iK,null,O.createElement(rK,null),O.createElement(h$,null,O.createElement(nK,null)))),gM=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ay=j.createContext({}),Sy=j.createContext(null),vM=typeof document<"u",yM=vM?j.useLayoutEffect:j.useEffect,lU=j.createContext({strict:!1}),xM=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oK="framerAppearId",uU="data-"+xM(oK),aK={skipAnimations:!1,useManualTiming:!1};class uB{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function lK(t){let e=new uB,n=new uB,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const d=f&&i,p=d?e:n;return u&&o.add(l),p.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const f=e.order[u];o.has(f)&&(a.schedule(f),t()),f(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const t0=["read","resolveKeyframes","update","preRender","render","postRender"],uK=40;function cU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=t0.reduce((d,p)=>(d[p]=lK(()=>n=!0),d),{}),o=d=>{s[d].process(i)},a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,uK),1),i.timestamp=d,i.isProcessing=!0,t0.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:t0.reduce((d,p)=>{const m=s[p];return d[p]=(v,_=!1,y=!1)=>(n||l(),m.schedule(v,_,y)),d},{}),cancel:d=>t0.forEach(p=>s[p].cancel(d)),state:i,steps:s}}const{schedule:_M,cancel:uye}=cU(queueMicrotask,!1);function cK(t,e,n,r){const{visualElement:i}=j.useContext(Ay),s=j.useContext(lU),o=j.useContext(Sy),a=j.useContext(gM).reducedMotion,l=j.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;j.useInsertionEffect(()=>{u&&u.update(n,o)});const f=j.useRef(!!(n[uU]&&!window.HandoffComplete));return yM(()=>{u&&(_M.postRender(u.render),f.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function Kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fK(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Kc(n)&&(n.current=r))},[e])}function ap(t){return typeof t=="string"||Array.isArray(t)}function wy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const AM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SM=["initial",...AM];function Ey(t){return wy(t.animate)||SM.some(e=>ap(t[e]))}function fU(t){return!!(Ey(t)||t.variants)}function hK(t,e){if(Ey(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ap(n)?n:void 0,animate:ap(r)?r:void 0}}return t.inherit!==!1?e:{}}function dK(t){const{initial:e,animate:n}=hK(t,j.useContext(Ay));return j.useMemo(()=>({initial:e,animate:n}),[cB(e),cB(n)])}function cB(t){return Array.isArray(t)?t.join(" "):t}const fB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lp={};for(const t in fB)lp[t]={isEnabled:e=>fB[t].some(n=>!!e[n])};function pK(t){for(const e in t)lp[e]={...lp[e],...t[e]}}const wM=j.createContext({}),hU=j.createContext({}),mK=Symbol.for("motionComponentSymbol");function gK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&pK(t);function s(a,l){let u;const f={...j.useContext(gM),...a,layoutId:vK(a)},{isStatic:d}=f,p=dK(a),m=r(a,d);if(!d&&vM){p.visualElement=cK(i,m,f,e);const v=j.useContext(hU),_=j.useContext(lU).strict;p.visualElement&&(u=p.visualElement.loadFeatures(f,_,t,v))}return j.createElement(Ay.Provider,{value:p},u&&p.visualElement?j.createElement(u,{visualElement:p.visualElement,...f}):null,n(i,a,fK(m,p.visualElement,l),m,d,p.visualElement))}const o=j.forwardRef(s);return o[mK]=i,o}function vK({layoutId:t}){const e=j.useContext(wM).id;return e&&t!==void 0?e+"-"+t:t}function yK(t){function e(r,i={}){return gK(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const xK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EM(t){return typeof t!="string"||t.includes("-")?!1:!!(xK.indexOf(t)>-1||/[A-Z]/u.test(t))}const hv={};function _K(t){Object.assign(hv,t)}const Dp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Au=new Set(Dp);function dU(t,{layout:e,layoutId:n}){return Au.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hv[t]||t==="opacity")}const Dr=t=>!!(t&&t.getVelocity),AK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SK=Dp.length;function wK(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<SK;o++){const a=Dp[o];if(t[a]!==void 0){const l=AK[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const pU=t=>e=>typeof e=="string"&&e.startsWith(t),mU=pU("--"),EK=pU("var(--"),MM=t=>EK(t)?MK.test(t.split("/*")[0].trim()):!1,MK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bK=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ja=(t,e,n)=>n>e?e:n<t?t:n,Gf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sd={...Gf,transform:t=>ja(0,1,t)},n0={...Gf,default:1},wd=t=>Math.round(t*1e5)/1e5,bM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,CK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,TK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Fp(t){return typeof t=="string"}const Op=t=>({test:e=>Fp(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fa=Op("deg"),Ys=Op("%"),_t=Op("px"),RK=Op("vh"),PK=Op("vw"),hB={...Ys,parse:t=>Ys.parse(t)/100,transform:t=>Ys.transform(t*100)},dB={...Gf,transform:Math.round},gU={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,size:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,rotate:fa,rotateX:fa,rotateY:fa,rotateZ:fa,scale:n0,scaleX:n0,scaleY:n0,scaleZ:n0,skew:fa,skewX:fa,skewY:fa,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:Sd,originX:hB,originY:hB,originZ:_t,zIndex:dB,backgroundPositionX:_t,backgroundPositionY:_t,fillOpacity:Sd,strokeOpacity:Sd,numOctaves:dB};function CM(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,f=!0;for(const d in e){const p=e[d];if(mU(d)){s[d]=p;continue}const m=gU[d],v=bK(p,m);if(Au.has(d)){if(l=!0,o[d]=v,!f)continue;p!==(m.default||0)&&(f=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):i[d]=v}if(e.transform||(l||r?i.transform=wK(t.transform,n,f,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${p} ${m}`}}const TM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vU(t,e,n){for(const r in e)!Dr(e[r])&&!dU(r,n)&&(t[r]=e[r])}function BK({transformTemplate:t},e,n){return j.useMemo(()=>{const r=TM();return CM(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function IK(t,e,n){const r=t.style||{},i={};return vU(i,r,t),Object.assign(i,BK(t,e,n)),i}function LK(t,e,n){const r={},i=IK(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const DK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DK.has(t)}let yU=t=>!dv(t);function FK(t){t&&(yU=e=>e.startsWith("on")?!dv(e):t(e))}try{FK(require("@emotion/is-prop-valid").default)}catch{}function OK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(yU(i)||n===!0&&dv(i)||!e&&!dv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function pB(t,e,n){return typeof t=="string"?t:_t.transform(e+n*t)}function NK(t,e,n){const r=pB(e,t.x,t.width),i=pB(n,t.y,t.height);return`${r} ${i}`}const UK={offset:"stroke-dashoffset",array:"stroke-dasharray"},kK={offset:"strokeDashoffset",array:"strokeDasharray"};function GK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UK:kK;t[s.offset]=_t.transform(-r);const o=_t.transform(e),a=_t.transform(n);t[s.array]=`${o} ${a}`}function RM(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,d,p){if(CM(t,u,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:_}=t;m.transform&&(_&&(v.transform=m.transform),delete m.transform),_&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=NK(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&GK(m,o,a,l,!1)}const xU=()=>({...TM(),attrs:{}}),PM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HK(t,e,n,r){const i=j.useMemo(()=>{const s=xU();return RM(s,e,{enableHardwareAcceleration:!1},PM(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};vU(s,t.style,t),i.style={...s,...i.style}}return i}function zK(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(EM(n)?HK:LK)(r,s,o,n),u=OK(r,typeof n=="string",t),f=n!==j.Fragment?{...u,...l,ref:i}:{},{children:d}=r,p=j.useMemo(()=>Dr(d)?d.get():d,[d]);return j.createElement(n,{...f,children:p})}}function _U(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const AU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SU(t,e,n,r){_U(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(AU.has(i)?i:xM(i),e.attrs[i])}function BM(t,e){const{style:n}=t,r={};for(const i in n)(Dr(n[i])||e.style&&Dr(e.style[i])||dU(i,t))&&(r[i]=n[i]);return r}function wU(t,e){const n=BM(t,e);for(const r in t)if(Dr(t[r])||Dr(e[r])){const i=Dp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function IM(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function EU(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const WS=t=>Array.isArray(t),VK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WK=t=>WS(t)?t[t.length-1]||0:t;function T0(t){const e=Dr(t)?t.get():t;return VK(e)?e.toValue():e}function XK({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:jK(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const MU=t=>(e,n)=>{const r=j.useContext(Ay),i=j.useContext(Sy),s=()=>XK(t,e,r,i);return n?s():EU(s)};function jK(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=T0(s[p]);let{initial:o,animate:a}=t;const l=Ey(t),u=fU(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const d=f?a:o;return d&&typeof d!="boolean"&&!wy(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=IM(t,m);if(!v)return;const{transitionEnd:_,transition:y,...g}=v;for(const S in g){let A=g[S];if(Array.isArray(A)){const E=f?A.length-1:0;A=A[E]}A!==null&&(i[S]=A)}for(const S in _)i[S]=_[S]}),i}const Fr=t=>t,{schedule:hr,cancel:Ja,state:gr,steps:M1}=cU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0),JK={useVisualState:MU({scrapeMotionValuesFromProps:wU,createRenderState:xU,onMount:(t,e,{renderState:n,latestValues:r})=>{hr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),hr.render(()=>{RM(n,r,{enableHardwareAcceleration:!1},PM(e.tagName),t.transformTemplate),SU(e,n)})}})},$K={useVisualState:MU({scrapeMotionValuesFromProps:BM,createRenderState:TM})};function KK(t,{forwardMotionProps:e=!1},n,r){return{...EM(t)?JK:$K,preloadedFeatures:n,useRender:zK(e),createVisualElement:r,Component:t}}function Co(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const bU=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function My(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const YK=t=>e=>bU(e)&&t(e,My(e));function Po(t,e,n,r){return Co(t,e,YK(n),r)}const QK=(t,e)=>n=>e(t(n)),Bo=(...t)=>t.reduce(QK);function CU(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const mB=CU("dragHorizontal"),gB=CU("dragVertical");function TU(t){let e=!1;if(t==="y")e=gB();else if(t==="x")e=mB();else{const n=mB(),r=gB();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function RU(){const t=TU(!0);return t?(t(),!1):!0}class rl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vB(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||RU())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&a[r](s,o)};return Po(t.current,n,i,{passive:!t.getProps()[r]})}class ZK extends rl{mount(){this.unmount=Bo(vB(this.node,!0),vB(this.node,!1))}unmount(){}}class qK extends rl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bo(Co(this.node.current,"focus",()=>this.onFocus()),Co(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PU=(t,e)=>e?t===e?!0:PU(t,e.parentElement):!1;function b1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,My(n))}class eY extends rl{constructor(){super(...arguments),this.removeStartListeners=Fr,this.removeEndListeners=Fr,this.removeAccessibleListeners=Fr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Po(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps();!d&&!PU(this.node.current,a.target)?f&&f(a,l):u&&u(a,l)},{passive:!(r.onTap||r.onPointerUp)}),o=Po(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Bo(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||b1("up",(l,u)=>{const{onTap:f}=this.node.getProps();f&&f(l,u)})};this.removeEndListeners(),this.removeEndListeners=Co(this.node.current,"keyup",o),b1("down",(a,l)=>{this.startPress(a,l)})},n=Co(this.node.current,"keydown",e),r=()=>{this.isPressing&&b1("cancel",(s,o)=>this.cancelPress(s,o))},i=Co(this.node.current,"blur",r);this.removeAccessibleListeners=Bo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RU()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(e,n)}mount(){const e=this.node.getProps(),n=Po(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Co(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const XS=new WeakMap,C1=new WeakMap,tY=t=>{const e=XS.get(t.target);e&&e(t)},nY=t=>{t.forEach(tY)};function rY({root:t,...e}){const n=t||document;C1.has(n)||C1.set(n,{});const r=C1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nY,{root:t,...e})),r[i]}function iY(t,e,n){const r=rY(e);return XS.set(t,n),r.observe(t),()=>{XS.delete(t),r.unobserve(t)}}const sY={some:0,all:1};class oY extends rl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sY[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=u?f:d;p&&p(l)};return iY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(aY(e,n))&&this.startObserver()}unmount(){}}function aY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lY={inView:{Feature:oY},tap:{Feature:eY},focus:{Feature:qK},hover:{Feature:ZK}};function BU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function uY(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function cY(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function by(t,e,n){const r=t.getProps();return IM(r,e,n!==void 0?n:r.custom,uY(t),cY(t))}const Na=t=>t*1e3,Io=t=>t/1e3,fY={type:"spring",stiffness:500,damping:25,restSpeed:10},hY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dY={type:"keyframes",duration:.8},pY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mY=(t,{keyframes:e})=>e.length>2?dY:Au.has(t)?t.startsWith("scale")?hY(e[1]):fY:pY;function gY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}function LM(t,e){return t[e]||t.default||t}const vY=t=>t!==null;function Cy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(vY),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let R0;function yY(){R0=void 0}const Ua={now:()=>(R0===void 0&&Ua.set(gr.isProcessing||aK.useManualTiming?gr.timestamp:performance.now()),R0),set:t=>{R0=t,queueMicrotask(yY)}},IU=t=>/^0[^.\s]+$/u.test(t);function xY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IU(t):!0}let LU=Fr;const DU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_Y=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AY(t){const e=_Y.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FU(t,e,n=1){const[r,i]=AY(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return DU(o)?parseFloat(o):o}return MM(i)?FU(i,e,n+1):i}const SY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yB=t=>t===Gf||t===_t,xB=(t,e)=>parseFloat(t.split(", ")[e]),_B=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return xB(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?xB(s[1],t):0}},wY=new Set(["x","y","z"]),EY=Dp.filter(t=>!wY.has(t));function AB(t){const e=[];return EY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Rf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_B(4,13),y:_B(5,14)};Rf.translateX=Rf.x;Rf.translateY=Rf.y;const OU=t=>e=>e.test(t),MY={test:t=>t==="auto",parse:t=>t},NU=[Gf,_t,Ys,fa,PK,RK,MY],SB=t=>NU.find(OU(t)),ru=new Set;let jS=!1,JS=!1;function UU(){if(JS){const t=Array.from(ru).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{AB(r).length&&(n.set(r,AB(r)),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render()}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}JS=!1,jS=!1,ru.forEach(t=>t.complete()),ru.clear()}function kU(){ru.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(JS=!0)})}function bY(){kU(),UU()}class DM{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ru.add(this),jS||(jS=!0,hr.read(kU),hr.resolveKeyframes(UU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ru.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ru.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const FM=(t,e)=>n=>!!(Fp(n)&&TK.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),GU=(t,e,n)=>r=>{if(!Fp(r))return r;const[i,s,o,a]=r.match(bM);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},CY=t=>ja(0,255,t),T1={...Gf,transform:t=>Math.round(CY(t))},Yl={test:FM("rgb","red"),parse:GU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+T1.transform(t)+", "+T1.transform(e)+", "+T1.transform(n)+", "+wd(Sd.transform(r))+")"};function TY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $S={test:FM("#"),parse:TY,transform:Yl.transform},Yc={test:FM("hsl","hue"),parse:GU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ys.transform(wd(e))+", "+Ys.transform(wd(n))+", "+wd(Sd.transform(r))+")"},Pr={test:t=>Yl.test(t)||$S.test(t)||Yc.test(t),parse:t=>Yl.test(t)?Yl.parse(t):Yc.test(t)?Yc.parse(t):$S.parse(t),transform:t=>Fp(t)?t:t.hasOwnProperty("red")?Yl.transform(t):Yc.transform(t)};function RY(t){var e,n;return isNaN(t)&&Fp(t)&&(((e=t.match(bM))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CK))===null||n===void 0?void 0:n.length)||0)>0}const HU="number",zU="color",PY="var",BY="var(",wB="${}",IY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(IY,l=>(Pr.test(l)?(r.color.push(s),i.push(zU),n.push(Pr.parse(l))):l.startsWith(BY)?(r.var.push(s),i.push(PY),n.push(l)):(r.number.push(s),i.push(HU),n.push(parseFloat(l))),++s,wB)).split(wB);return{values:n,split:a,indexes:r,types:i}}function VU(t){return pv(t).values}function WU(t){const{split:e,types:n}=pv(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===HU?s+=wd(i[o]):a===zU?s+=Pr.transform(i[o]):s+=i[o]}return s}}const LY=t=>typeof t=="number"?0:t;function DY(t){const e=VU(t);return WU(t)(e.map(LY))}const $a={test:RY,parse:VU,createTransformer:WU,getAnimatableNone:DY},FY=new Set(["brightness","contrast","saturate","opacity"]);function OY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bM)||[];if(!r)return t;const i=n.replace(r,"");let s=FY.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const NY=/\b([a-z-]*)\(.*?\)/gu,KS={...$a,getAnimatableNone:t=>{const e=t.match(NY);return e?e.map(OY).join(" "):t}},UY={...gU,color:Pr,backgroundColor:Pr,outlineColor:Pr,fill:Pr,stroke:Pr,borderColor:Pr,borderTopColor:Pr,borderRightColor:Pr,borderBottomColor:Pr,borderLeftColor:Pr,filter:KS,WebkitFilter:KS},OM=t=>UY[t];function XU(t,e){let n=OM(t);return n!==KS&&(n=$a),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function kY(t,e,n){let r=0,i;for(;r<t.length&&!i;)typeof t[r]=="string"&&t[r]!=="none"&&t[r]!=="0"&&(i=t[r]),r++;if(i&&n)for(const s of e)t[s]=XU(n,i)}class jU extends DM{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const u=e[l];if(typeof u=="string"&&MM(u)){const f=FU(u,n.current);f!==void 0&&(e[l]=f)}}if(!SY.has(r)||e.length!==2)return this.resolveNoneKeyframes();const[i,s]=e,o=SB(i),a=SB(s);if(o!==a)if(yB(o)&&yB(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)xY(e[i])&&r.push(i);r.length&&kY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Rf[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function GY(t){let e;return()=>(e===void 0&&(e=t()),e)}const EB=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($a.test(t)||t==="0")&&!t.startsWith("url("));function HY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zY(t,e,n,r){const i=t[0];if(i===null)return!1;const s=t[t.length-1],o=EB(i,e),a=EB(s,e);return!o||!a?!1:HY(t)||n==="spring"&&r}class JU{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bY(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!zY(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Cy(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function $U(t,e){return e?t*(1e3/e):0}const VY=5;function KU(t,e,n){const r=Math.max(e-VY,0);return $U(n-t(r),e-r)}const R1=.001,WY=.01,XY=10,jY=.05,JY=1;function $Y({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ja(jY,JY,o),t=ja(WY,XY,Io(t)),o<1?(i=u=>{const f=u*o,d=f*t,p=f-n,m=YS(u,o),v=Math.exp(-d);return R1-p/m*v},s=u=>{const d=u*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-d),_=YS(Math.pow(u,2),o);return(-i(u)+R1>0?-1:1)*((p-m)*v)/_}):(i=u=>{const f=Math.exp(-u*t),d=(u-n)*t+1;return-R1+f*d},s=u=>{const f=Math.exp(-u*t),d=(n-u)*(t*t);return f*d});const a=5/t,l=YY(i,s,a);if(t=Na(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const KY=12;function YY(t,e,n){let r=n;for(let i=1;i<KY;i++)r=r-t(r)/e(r);return r}function YS(t,e){return t*Math.sqrt(1-e*e)}const QY=["duration","bounce"],ZY=["stiffness","damping","mass"];function MB(t,e){return e.some(n=>t[n]!==void 0)}function qY(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!MB(t,ZY)&&MB(t,QY)){const n=$Y(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function YU({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:f,velocity:d,isResolvedFromDuration:p}=qY({...r,velocity:-Io(r.velocity||0)}),m=d||0,v=l/(2*Math.sqrt(a*u)),_=s-i,y=Io(Math.sqrt(a/u)),g=Math.abs(_)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let S;if(v<1){const A=YS(y,v);S=E=>{const T=Math.exp(-v*y*E);return s-T*((m+v*y*_)/A*Math.sin(A*E)+_*Math.cos(A*E))}}else if(v===1)S=A=>s-Math.exp(-y*A)*(_+(m+y*_)*A);else{const A=y*Math.sqrt(v*v-1);S=E=>{const T=Math.exp(-v*y*E),C=Math.min(A*E,300);return s-T*((m+v*y*_)*Math.sinh(C)+A*_*Math.cosh(C))/A}}return{calculatedDuration:p&&f||null,next:A=>{const E=S(A);if(p)o.done=A>=f;else{let T=m;A!==0&&(v<1?T=KU(S,A,E):T=0);const C=Math.abs(T)<=n,P=Math.abs(s-E)<=e;o.done=C&&P}return o.value=o.done?s:E,o}}}function bB({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=t[0],p={done:!1,value:d},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,v=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let _=n*e;const y=d+_,g=o===void 0?y:o(y);g!==y&&(_=g-d);const S=L=>-_*Math.exp(-L/r),A=L=>g+S(L),E=L=>{const N=S(L),b=A(L);p.done=Math.abs(N)<=u,p.value=p.done?g:b};let T,C;const P=L=>{m(p.value)&&(T=L,C=YU({keyframes:[p.value,v(p.value)],velocity:KU(A,L,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return P(0),{calculatedDuration:null,next:L=>{let N=!1;return!C&&T===void 0&&(N=!0,E(L),P(L)),T!==void 0&&L>=T?C.next(L-T):(!N&&E(L),p)}}}const QU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eQ=1e-7,tQ=12;function nQ(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=QU(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>eQ&&++a<tQ);return o}function Np(t,e,n,r){if(t===e&&n===r)return Fr;const i=s=>nQ(s,0,1,t,n);return s=>s===0||s===1?s:QU(i(s),e,r)}const rQ=Np(.42,0,1,1),iQ=Np(0,0,.58,1),ZU=Np(.42,0,.58,1),sQ=t=>Array.isArray(t)&&typeof t[0]!="number",qU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ek=t=>e=>1-t(1-e),NM=t=>1-Math.sin(Math.acos(t)),tk=ek(NM),oQ=qU(NM),nk=Np(.33,1.53,.69,.99),UM=ek(nk),aQ=qU(UM),lQ=t=>(t*=2)<1?.5*UM(t):.5*(2-Math.pow(2,-10*(t-1))),uQ={linear:Fr,easeIn:rQ,easeInOut:ZU,easeOut:iQ,circIn:NM,circInOut:oQ,circOut:tk,backIn:UM,backInOut:aQ,backOut:nk,anticipate:lQ},CB=t=>{if(Array.isArray(t)){LU(t.length===4);const[e,n,r,i]=t;return Np(e,n,r,i)}else if(typeof t=="string")return uQ[t];return t},up=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Pn=(t,e,n)=>t+(e-t)*n;function P1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cQ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=P1(l,a,t+1/3),s=P1(l,a,t),o=P1(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const B1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fQ=[$S,Yl,Yc],hQ=t=>fQ.find(e=>e.test(t));function TB(t){const e=hQ(t);let n=e.parse(t);return e===Yc&&(n=cQ(n)),n}const RB=(t,e)=>{const n=TB(t),r=TB(e),i={...n};return s=>(i.red=B1(n.red,r.red,s),i.green=B1(n.green,r.green,s),i.blue=B1(n.blue,r.blue,s),i.alpha=Pn(n.alpha,r.alpha,s),Yl.transform(i))};function QS(t,e){return n=>n>0?e:t}function dQ(t,e){return n=>Pn(t,e,n)}function kM(t){return typeof t=="number"?dQ:typeof t=="string"?MM(t)?QS:Pr.test(t)?RB:gQ:Array.isArray(t)?rk:typeof t=="object"?Pr.test(t)?RB:pQ:QS}function rk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>kM(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function pQ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kM(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function mQ(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const gQ=(t,e)=>{const n=$a.createTransformer(e),r=pv(t),i=pv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Bo(rk(mQ(r,i),i.values),n):QS(t,e)};function ik(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pn(t,e,n):kM(t)(t,e)}function vQ(t,e,n){const r=[],i=n||ik,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Fr:e;a=Bo(l,a)}r.push(a)}return r}function yQ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(LU(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=vQ(e,r,i),a=o.length,l=u=>{let f=0;if(a>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const d=up(t[f],t[f+1],u);return o[f](d)};return n?u=>l(ja(t[0],t[s-1],u)):l}function xQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=up(0,e,r);t.push(Pn(n,1,i))}}function _Q(t){const e=[0];return xQ(e,t.length-1),e}function AQ(t,e){return t.map(n=>n*e)}function SQ(t,e){return t.map(()=>e||ZU).splice(0,t.length-1)}function mv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sQ(r)?r.map(CB):CB(r),s={done:!1,value:e[0]},o=AQ(n&&n.length===e.length?n:_Q(e),t),a=yQ(o,e,{ease:Array.isArray(i)?i:SQ(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const PB=2e4;function wQ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<PB;)e+=n,r=t.next(e);return e>=PB?1/0:e}const EQ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>hr.update(e,!0),stop:()=>Ja(e),now:()=>gr.isProcessing?gr.timestamp:Ua.now()}},MQ={decay:bB,inertia:bB,tween:mv,keyframes:mv,spring:YU},bQ=t=>t/100;class GM extends JU{constructor({KeyframeResolver:e=DM,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle";const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=MQ[n]||mv;let l,u;a!==mv&&typeof e[0]!="number"&&(l=Bo(bQ,ik(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=wQ(f));const{calculatedDuration:d}=f,p=d+i,m=p*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:_,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?g<0:g>f;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let A=this.currentTime,E=s;if(m){const L=Math.min(this.currentTime,f)/d;let N=Math.floor(L),b=L%1;!b&&L>=1&&(b=1),b===1&&N--,N=Math.min(N,m+1),!!(N%2)&&(v==="reverse"?(b=1-b,_&&(b-=_/d)):v==="mirror"&&(E=o)),A=ja(0,1,b)*d}const T=S?{done:!1,value:l[0]}:E.next(A);a&&(T.value=a(T.value));let{done:C}=T;!S&&u!==null&&(C=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&i!==void 0&&(T.value=Cy(l,this.options,i)),y&&y(T.value),P&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Io(e.calculatedDuration):0}get time(){return Io(this.currentTime)}set time(e){e=Na(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Io(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=EQ,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:e}=this.options;e&&e()}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const sk=t=>Array.isArray(t)&&typeof t[0]=="number";function ok(t){return!!(!t||typeof t=="string"&&ak[t]||sk(t)||Array.isArray(t)&&t.every(ok))}const nd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ak={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nd([0,.65,.55,1]),circOut:nd([.55,0,1,.45]),backIn:nd([.31,.01,.66,-.59]),backOut:nd([.33,1.53,.69,.99])};function lk(t){if(t)return sk(t)?nd(t):Array.isArray(t)?t.map(lk):ak[t]}function CQ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const f=lk(a);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const TQ=GY(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),RQ=new Set(["opacity","clipPath","filter","transform"]),gv=10,PQ=2e4;function BQ(t){return t.type==="spring"||t.name==="backgroundColor"||!ok(t.ease)}function IQ(t,e){const n=new GM({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<PQ;)r=n.sample(s),i.push(r.value),s+=gv;return{times:void 0,keyframes:i,duration:s-gv,ease:"linear"}}class BB extends JU{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new jU(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(BQ(this.options)){const{onComplete:d,onUpdate:p,motionValue:m,...v}=this.options,_=IQ(e,v);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const f=CQ(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=Ua.now(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:d}=this.options;l.set(Cy(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Io(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Io(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Na(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Fr;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Fr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:f,...d}=this.options,p=new GM({...d,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Na(this.time);l.setWithVelocity(p.sample(m-gv).value,p.sample(m).value,gv)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return TQ()&&r&&RQ.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const HM=(t,e,n,r={},i,s)=>o=>{const a=LM(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Na(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};gY(a)||(f={...f,...mY(t,f)}),f.duration&&(f.duration=Na(f.duration)),f.repeatDelay&&(f.repeatDelay=Na(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if(f.type===!1&&(f.duration=0,f.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=Cy(f.keyframes,a);if(p!==void 0){hr.update(()=>{f.onUpdate(p),f.onComplete()});return}}return!s&&BB.supports(f)?new BB(f):new GM(f)};function vv(t){return!!(Dr(t)&&t.add)}function zM(t,e){t.indexOf(e)===-1&&t.push(e)}function VM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class WM{constructor(){this.subscriptions=[]}add(e){return zM(this.subscriptions,e),()=>VM(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const IB=30,LQ=t=>!isNaN(parseFloat(t));class DQ{constructor(e,n={}){this.version="11.0.23",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ua.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=LQ(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ua.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WM);const r=this.events[e].add(n);return e==="change"?()=>{r(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ua.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IB)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IB);return $U(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cp(t,e){return new DQ(t,e)}function FQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cp(n))}function OQ(t,e){const n=by(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=WK(s[o]);FQ(t,o,a)}}function NQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(o=r);const f=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const m=t.getValue(p,(s=t.latestValues[p])!==null&&s!==void 0?s:null),v=l[p];if(v===void 0||d&&NQ(d,p))continue;const _={delay:n,elapsed:0,...LM(o||{},p)};let y=!1;if(window.HandoffAppearAnimations){const S=t.getProps()[uU];if(S){const A=window.HandoffAppearAnimations(S,p);A!==null&&(_.elapsed=A,y=!0)}}m.start(HM(p,m,v,t.shouldReduceMotion&&Au.has(p)?{type:!1}:_,t,y));const g=m.animation;g&&(vv(u)&&(u.add(p),g.then(()=>u.remove(p))),f.push(g))}return a&&Promise.all(f).then(()=>{hr.update(()=>{a&&OQ(t,a)})}),f}function ZS(t,e,n={}){var r;const i=by(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(uk(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=s;return UQ(t,e,f+u,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function UQ(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(kQ).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(ZS(u,e,{...s,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function kQ(t,e){return t.sortNodePosition(e)}function GQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ZS(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ZS(t,e,n);else{const i=typeof e=="function"?by(t,e,n.custom):e;r=Promise.all(uk(t,i,n))}return r.then(()=>{hr.postRender(()=>{t.notify("AnimationComplete",e)})})}const HQ=[...AM].reverse(),zQ=AM.length;function VQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>GQ(t,n,r)))}function WQ(t){let e=VQ(t);const n=jQ();let r=!0;const i=l=>(u,f)=>{var d;const p=by(t,f,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:m,transitionEnd:v,..._}=p;u={...u,..._,...v}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),f=t.getVariantContext(!0)||{},d=[],p=new Set;let m={},v=1/0;for(let y=0;y<zQ;y++){const g=HQ[y],S=n[g],A=u[g]!==void 0?u[g]:f[g],E=ap(A),T=g===l?S.isActive:null;T===!1&&(v=y);let C=A===f[g]&&A!==u[g]&&E;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),S.protectedKeys={...m},!S.isActive&&T===null||!A&&!S.prevProp||wy(A)||typeof A=="boolean")continue;let L=XQ(S.prevProp,A)||g===l&&S.isActive&&!C&&E||y>v&&E,N=!1;const b=Array.isArray(A)?A:[A];let B=b.reduce(i(g),{});T===!1&&(B={});const{prevResolvedValues:q={}}=S,se={...q,...B},X=re=>{L=!0,p.has(re)&&(N=!0,p.delete(re)),S.needsAnimating[re]=!0};for(const re in se){const ne=B[re],he=q[re];if(m.hasOwnProperty(re))continue;let H=!1;WS(ne)&&WS(he)?H=!BU(ne,he):H=ne!==he,H?ne!=null?X(re):p.add(re):ne!==void 0&&p.has(re)?X(re):S.protectedKeys[re]=!0}S.prevProp=A,S.prevResolvedValues=B,S.isActive&&(m={...m,...B}),r&&t.blockInitialAnimation&&(L=!1),L&&(!C||N)&&d.push(...b.map(re=>({animation:re,options:{type:g}})))}if(p.size){const y={};p.forEach(g=>{const S=t.getBaseTarget(g);y[g]=S===void 0?null:S}),d.push({animation:y})}let _=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function XQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BU(e,t):!1}function Pl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jQ(){return{animate:Pl(!0),whileInView:Pl(),whileHover:Pl(),whileTap:Pl(),whileDrag:Pl(),whileFocus:Pl(),exit:Pl()}}class JQ extends rl{constructor(e){super(e),e.animationState||(e.animationState=WQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),wy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let $Q=0;class KQ extends rl{constructor(){super(...arguments),this.id=$Q++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const YQ={animation:{Feature:JQ},exit:{Feature:KQ}},LB=(t,e)=>Math.abs(t-e);function QQ(t,e){const n=LB(t.x,e.x),r=LB(t.y,e.y);return Math.sqrt(n**2+r**2)}class ck{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=L1(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=QQ(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=d,{timestamp:_}=gr;this.history.push({...v,timestamp:_});const{onStart:y,onMove:g}=this.handlers;p||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=I1(p,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=L1(d.type==="pointercancel"?this.lastMoveEventInfo:I1(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),v&&v(d,y)},!bU(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=My(e),a=I1(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=gr;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,L1(a,this.history)),this.removeListeners=Bo(Po(this.contextWindow,"pointermove",this.handlePointerMove),Po(this.contextWindow,"pointerup",this.handlePointerUp),Po(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ja(this.updatePoint)}}function I1(t,e){return e?{point:e(t.point)}:t}function DB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function L1({point:t},e){return{point:t,delta:DB(t,fk(e)),offset:DB(t,ZQ(e)),velocity:qQ(e,.1)}}function ZQ(t){return t[0]}function fk(t){return t[t.length-1]}function qQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=fk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Na(e)));)n--;if(!r)return{x:0,y:0};const s=Io(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pi(t){return t.max-t.min}function qS(t,e=0,n=.01){return Math.abs(t-e)<=n}function FB(t,e,n,r=.5){t.origin=r,t.originPoint=Pn(e.min,e.max,t.origin),t.scale=Pi(n)/Pi(e),(qS(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pn(n.min,n.max,t.origin)-t.originPoint,(qS(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ed(t,e,n,r){FB(t.x,e.x,n.x,r?r.originX:void 0),FB(t.y,e.y,n.y,r?r.originY:void 0)}function OB(t,e,n){t.min=n.min+e.min,t.max=t.min+Pi(e)}function eZ(t,e,n){OB(t.x,e.x,n.x),OB(t.y,e.y,n.y)}function NB(t,e,n){t.min=e.min-n.min,t.max=t.min+Pi(e)}function Md(t,e,n){NB(t.x,e.x,n.x),NB(t.y,e.y,n.y)}function tZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pn(n,t,r.max):Math.min(t,n)),t}function UB(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nZ(t,{top:e,left:n,bottom:r,right:i}){return{x:UB(t.x,n,i),y:UB(t.y,e,r)}}function kB(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rZ(t,e){return{x:kB(t.x,e.x),y:kB(t.y,e.y)}}function iZ(t,e){let n=.5;const r=Pi(t),i=Pi(e);return i>r?n=up(e.min,e.max-r,t.min):r>i&&(n=up(t.min,t.max-i,e.min)),ja(0,1,n)}function sZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ew=.35;function oZ(t=ew){return t===!1?t=0:t===!0&&(t=ew),{x:GB(t,"left","right"),y:GB(t,"top","bottom")}}function GB(t,e,n){return{min:HB(t,e),max:HB(t,n)}}function HB(t,e){return typeof t=="number"?t:t[e]||0}const zB=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qc=()=>({x:zB(),y:zB()}),VB=()=>({min:0,max:0}),zn=()=>({x:VB(),y:VB()});function Ji(t){return[t("x"),t("y")]}function hk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function D1(t){return t===void 0||t===1}function tw({scale:t,scaleX:e,scaleY:n}){return!D1(t)||!D1(e)||!D1(n)}function Fl(t){return tw(t)||dk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dk(t){return WB(t.x)||WB(t.y)}function WB(t){return t&&t!=="0%"}function yv(t,e,n){const r=t-n,i=e*r;return n+i}function XB(t,e,n,r,i){return i!==void 0&&(t=yv(t,i,r)),yv(t,n,r)+e}function nw(t,e=0,n=1,r,i){t.min=XB(t.min,e,n,r,i),t.max=XB(t.max,e,n,r,i)}function pk(t,{x:e,y:n}){nw(t.x,e.translate,e.scale,e.originPoint),nw(t.y,n.translate,n.scale,n.originPoint)}function uZ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pk(t,o)),r&&Fl(s.latestValues)&&Zc(t,s.latestValues))}e.x=jB(e.x),e.y=jB(e.y)}function jB(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function va(t,e){t.min=t.min+e,t.max=t.max+e}function JB(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Pn(t.min,t.max,s);nw(t,e[n],e[r],o,e.scale)}const cZ=["x","scaleX","originX"],fZ=["y","scaleY","originY"];function Zc(t,e){JB(t.x,e,cZ),JB(t.y,e,fZ)}function mk(t,e){return hk(lZ(t.getBoundingClientRect(),e))}function hZ(t,e,n){const r=mk(t,n),{scroll:i}=e;return i&&(va(r.x,i.offset.x),va(r.y,i.offset.y)),r}const gk=({current:t})=>t?t.ownerDocument.defaultView:null,dZ=new WeakMap;class pZ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(My(f,"page").point)},s=(f,d)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TU(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Ys.test(g)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[y];A&&(g=Pi(A)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&v(f,d);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=mZ(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),_&&_(f,d)},a=(f,d)=>this.stop(f,d),l=()=>Ji(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ck(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:gk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&s(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!r0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=tZ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Kc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=nZ(i.layoutBox,n):this.constraints=!1,this.elastic=oZ(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ji(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=sZ(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Kc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=hZ(r,i.root,this.visualElement.getTransformPagePoint());let o=rZ(i.layout.layoutBox,s);if(n){const a=n(aZ(o));this.hasMutatedConstraints=!!a,a&&(o=hk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ji(f=>{if(!r0(f,n,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(HM(e,r,0,n,this.visualElement))}stopAnimation(){Ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ji(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ji(n=>{const{drag:r}=this.getProps();if(!r0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Pn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Kc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ji(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=iZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ji(o=>{if(!r0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Pn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;dZ.set(this.visualElement,this);const e=this.visualElement.current,n=Po(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Kc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Co(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ji(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ew,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function r0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gZ extends rl{constructor(e){super(e),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new pZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const $B=t=>(e,n)=>{t&&t(e,n)};class vZ extends rl{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(e){this.session=new ck(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:$B(e),onStart:$B(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&i(s,o)}}}mount(){this.removePointerDownListener=Po(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yZ(){const t=j.useContext(Sy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=j.useId();return j.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const P0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KB(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_t.test(t))t=parseFloat(t);else return t;const n=KB(t,e.target.x),r=KB(t,e.target.y);return`${n}% ${r}%`}},xZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$a.parse(t);if(i.length>5)return r;const s=$a.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Pn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class _Z extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;_K(AZ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),P0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||hr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_M.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vk(t){const[e,n]=yZ(),r=j.useContext(wM);return O.createElement(_Z,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(hU),isPresent:e,safeToRemove:n})}const AZ={borderRadius:{...jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jh,borderTopRightRadius:jh,borderBottomLeftRadius:jh,borderBottomRightRadius:jh,boxShadow:xZ},yk=["TopLeft","TopRight","BottomLeft","BottomRight"],SZ=yk.length,YB=t=>typeof t=="string"?parseFloat(t):t,QB=t=>typeof t=="number"||_t.test(t);function wZ(t,e,n,r,i,s){i?(t.opacity=Pn(0,n.opacity!==void 0?n.opacity:1,EZ(r)),t.opacityExit=Pn(e.opacity!==void 0?e.opacity:1,0,MZ(r))):s&&(t.opacity=Pn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<SZ;o++){const a=`border${yk[o]}Radius`;let l=ZB(e,a),u=ZB(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||QB(l)===QB(u)?(t[a]=Math.max(Pn(YB(l),YB(u),r),0),(Ys.test(u)||Ys.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Pn(e.rotate||0,n.rotate||0,r))}function ZB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EZ=xk(0,.5,tk),MZ=xk(.5,.95,Fr);function xk(t,e,n){return r=>r<t?0:r>e?1:n(up(t,e,r))}function qB(t,e){t.min=e.min,t.max=e.max}function ji(t,e){qB(t.x,e.x),qB(t.y,e.y)}function eI(t,e,n,r,i){return t-=e,t=yv(t,1/n,r),i!==void 0&&(t=yv(t,1/i,r)),t}function bZ(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ys.test(e)&&(e=parseFloat(e),e=Pn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pn(s.min,s.max,r);t===s&&(a-=e),t.min=eI(t.min,e,n,a,i),t.max=eI(t.max,e,n,a,i)}function tI(t,e,[n,r,i],s,o){bZ(t,e[n],e[r],e[i],e.scale,s,o)}const CZ=["x","scaleX","originX"],TZ=["y","scaleY","originY"];function nI(t,e,n,r){tI(t.x,e,CZ,n?n.x:void 0,r?r.x:void 0),tI(t.y,e,TZ,n?n.y:void 0,r?r.y:void 0)}function rI(t){return t.translate===0&&t.scale===1}function _k(t){return rI(t.x)&&rI(t.y)}function RZ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Ak(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function iI(t){return Pi(t.x)/Pi(t.y)}class PZ{constructor(){this.members=[]}add(e){zM(this.members,e),e.scheduleRender()}remove(e){if(VM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sI(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:f,rotateY:d,skewX:p,skewY:m}=n;u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const BZ=(t,e)=>t.depth-e.depth;class IZ{constructor(){this.children=[],this.isDirty=!1}add(e){zM(this.children,e),this.isDirty=!0}remove(e){VM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BZ),this.isDirty=!1,this.children.forEach(e)}}function LZ(t,e){const n=Ua.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ja(r),t(s-e))};return hr.read(r,!0),()=>Ja(r)}function DZ(t){window.MotionDebug&&window.MotionDebug.record(t)}function FZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function OZ(t,e,n){const r=Dr(t)?t:cp(t);return r.start(HM("",r,e,n)),r.animation}const F1=["","X","Y","Z"],NZ={visibility:"hidden"},oI=1e3;let UZ=0;const Ol={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function O1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Sk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=UZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ol.totalNodes=Ol.resolvedTargetDeltas=Ol.recalculatedProjection=0,this.nodes.forEach(HZ),this.nodes.forEach(jZ),this.nodes.forEach(JZ),this.nodes.forEach(zZ),DZ(Ol)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new WM),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FZ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=LZ(p,250),P0.hasAnimatedSinceResize&&(P0.hasAnimatedSinceResize=!1,this.nodes.forEach(lI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||ZZ,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=f.getProps(),S=!this.targetLayout||!Ak(this.targetLayout,v)||m,A=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,A);const E={...LM(_,"layout"),onPlay:y,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||lI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($Z),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aI);return}this.isUpdating||this.nodes.forEach(WZ),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(XZ),this.nodes.forEach(kZ),this.nodes.forEach(GZ),this.clearAllSnapshots();const a=Ua.now();gr.delta=ja(0,1e3/60,a-gr.timestamp),gr.timestamp=a,gr.isProcessing=!0,M1.update.process(gr),M1.preRender.process(gr),M1.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_M.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(VZ),this.sharedNodes.forEach(KZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!_k(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||Fl(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),qZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return zn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(va(a.x,l.offset.x),va(a.y,l.offset.y)),a}removeElementScroll(o){const a=zn();ji(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:d}=u;if(u!==this.root&&f&&d.layoutScroll){if(f.isRoot){ji(a,o);const{scroll:p}=this.root;p&&(va(a.x,-p.offset.x),va(a.y,-p.offset.y))}va(a.x,f.offset.x),va(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=zn();ji(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Zc(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Fl(f.latestValues)&&Zc(l,f.latestValues)}return Fl(this.latestValues)&&Zc(l,this.latestValues),l}removeTransform(o){const a=zn();ji(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Fl(u.latestValues))continue;tw(u.latestValues)&&u.updateSnapshot();const f=zn(),d=u.measurePageBox();ji(f,d),nI(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Fl(this.latestValues)&&nI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=gr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zn(),this.relativeTargetOrigin=zn(),Md(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zn(),this.targetWithTransforms=zn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),pk(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zn(),this.relativeTargetOrigin=zn(),Md(this.relativeTargetOrigin,this.target,m.target),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ol.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tw(this.parent.latestValues)||dk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;ji(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;uZ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=zn());const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Qc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qc(),this.projectionDeltaWithTransform=Qc());const _=this.projectionTransform;Ed(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=sI(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ol.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=Qc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=zn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,y=this.getStack(),g=!y||y.members.length<=1,S=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(QZ));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const T=E/1e3;uI(d.x,o.x,T),uI(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Md(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YZ(this.relativeTarget,this.relativeTargetOrigin,p,T),A&&RZ(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=zn()),ji(A,this.relativeTarget)),_&&(this.animationValues=f,wZ(f,u,this.latestValues,T,S,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{P0.hasAnimatedSinceResize=!0,this.currentAnimation=OZ(0,oI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&wk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||zn();const d=Pi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Pi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ji(a,l),Zc(a,f),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PZ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&O1("z",o,u,this.animationValues);for(let f=0;f<F1.length;f++)O1(`rotate${F1[f]}`,o,u,this.animationValues),O1(`skew${F1[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return NZ;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=T0(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=T0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fl(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=sI(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in hv){if(p[_]===void 0)continue;const{correct:y,applyTo:g}=hv[_],S=u.transform==="none"?p[_]:y(p[_],d);if(g){const A=g.length;for(let E=0;E<A;E++)u[g[E]]=S}else u[_]=S}return this.options.layoutId&&(u.pointerEvents=d===this?T0(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(aI),this.root.sharedNodes.clear()}}}function kZ(t){t.updateLayout()}function GZ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ji(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Pi(p);p.min=r[d].min,p.max=p.min+m}):wk(s,n.layoutBox,r)&&Ji(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Pi(r[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Qc();Ed(a,r,n.layoutBox);const l=Qc();o?Ed(l,t.applyTransform(i,!0),n.measuredBox):Ed(l,r,n.layoutBox);const u=!_k(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=zn();Md(v,n.layoutBox,p.layoutBox);const _=zn();Md(_,r,m.layoutBox),Ak(v,_)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function HZ(t){Ol.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VZ(t){t.clearSnapshot()}function aI(t){t.clearMeasurements()}function WZ(t){t.isLayoutDirty=!1}function XZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jZ(t){t.resolveTargetDelta()}function JZ(t){t.calcProjection()}function $Z(t){t.resetSkewAndRotation()}function KZ(t){t.removeLeadSnapshot()}function uI(t,e,n){t.translate=Pn(e.translate,0,n),t.scale=Pn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cI(t,e,n,r){t.min=Pn(e.min,n.min,r),t.max=Pn(e.max,n.max,r)}function YZ(t,e,n,r){cI(t.x,e.x,n.x,r),cI(t.y,e.y,n.y,r)}function QZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZZ={duration:.45,ease:[.4,0,.1,1]},fI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hI=fI("applewebkit/")&&!fI("chrome/")?Math.round:Fr;function dI(t){t.min=hI(t.min),t.max=hI(t.max)}function qZ(t){dI(t.x),dI(t.y)}function wk(t,e,n){return t==="position"||t==="preserve-aspect"&&!qS(iI(e),iI(n),.2)}const eq=Sk({attachResizeListener:(t,e)=>Co(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N1={current:void 0},Ek=Sk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!N1.current){const t=new eq({});t.mount(window),t.setOptions({layoutScroll:!0}),N1.current=t}return N1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tq={pan:{Feature:vZ},drag:{Feature:gZ,ProjectionNode:Ek,MeasureLayout:vk}},rw={current:null},Mk={current:!1};function nq(){if(Mk.current=!0,!!vM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rw.current=t.matches;t.addListener(e),e()}else rw.current=!1}function rq(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Dr(s))t.addValue(i,s),vv(r)&&r.add(i);else if(Dr(o))t.addValue(i,cp(s,{owner:t})),vv(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,cp(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const pI=new WeakMap,iq=[...NU,Pr,$a],sq=t=>iq.find(OU(t)),bk=Object.keys(lp),oq=bk.length,mI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],aq=SM.length;class lq{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(p,m,v,_)=>new this.KeyframeResolver(p,m,v,_,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>hr.render(this.render,!1,!0);const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ey(n),this.isVariantNode=fU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{});for(const p in d){const m=d[p];l[p]!==void 0&&Dr(m)&&(m.set(l[p],!1),vv(f)&&f.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,pI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Mk.current||nq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pI.delete(this.current),this.projection&&this.projection.unmount(),Ja(this.notifyUpdate),Ja(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Au.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&hr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<oq;l++){const u=bk[l],{isEnabled:f,Feature:d,ProjectionNode:p,MeasureLayout:m}=lp[u];p&&(o=p),f(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:f,dragConstraints:d,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!f||d&&Kc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<mI.length;r++){const i=mI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=rq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<aq;r++){const i=SM[r],s=this.props[i];(ap(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(DU(i)||IU(i))?i=parseFloat(i):!sq(i)&&$a.test(n)&&(i=XU(e,n)),this.setBaseTarget(e,Dr(i)?i.get():i)),Dr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n,r;const{initial:i}=this.props,s=typeof i=="string"||typeof i=="object"?(r=IM(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom))===null||r===void 0?void 0:r[e]:void 0;if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WM),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ck extends lq{constructor(){super(...arguments),this.KeyframeResolver=jU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function uq(t){return window.getComputedStyle(t)}class cq extends Ck{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Au.has(n)){const r=OM(n);return r&&r.default||0}else{const r=uq(e),i=(mU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mk(e,n)}build(e,n,r,i){CM(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return BM(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){_U(e,n,r,i)}}class fq extends Ck{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Au.has(n)){const r=OM(n);return r&&r.default||0}return n=AU.has(n)?n:xM(n),e.getAttribute(n)}measureInstanceViewportBox(){return zn()}scrapeMotionValuesFromProps(e,n){return wU(e,n)}build(e,n,r,i){RM(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){SU(e,n,r,i)}mount(e){this.isSVGTag=PM(e.tagName),super.mount(e)}}const hq=(t,e)=>EM(t)?new fq(e,{enableHardwareAcceleration:!1}):new cq(e,{enableHardwareAcceleration:!0}),dq={layout:{ProjectionNode:Ek,MeasureLayout:vk}},pq={...YQ,...lY,...tq,...dq},Sa=yK((t,e)=>KK(t,e,pq,hq));function Tk(){const t=j.useRef(!1);return yM(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function mq(){const t=Tk(),[e,n]=j.useState(0),r=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>hr.postRender(r),[r]),e]}class gq extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vq({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=j.useContext(gM);return j.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),j.createElement(gq,{isPresent:e,childRef:r,sizeRef:i},j.cloneElement(t,{ref:r}))}const U1=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=EU(yq),l=j.useId(),u=j.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:f=>{a.set(f,!0);for(const d of a.values())if(!d)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[n]);return j.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=j.createElement(vq,{isPresent:n},t)),j.createElement(Sy.Provider,{value:u},t)};function yq(){return new Map}function xq(t){return j.useEffect(()=>()=>t(),[])}const Nl=t=>t.key||"";function _q(t,e){t.forEach(n=>{const r=Nl(n);e.set(r,n)})}function Aq(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Rk=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=j.useContext(wM).forceRender||mq()[0],l=Tk(),u=Aq(t);let f=u;const d=j.useRef(new Map).current,p=j.useRef(f),m=j.useRef(new Map).current,v=j.useRef(!0);if(yM(()=>{v.current=!1,_q(u,m),p.current=f}),xq(()=>{v.current=!0,m.clear(),d.clear()}),v.current)return j.createElement(j.Fragment,null,f.map(S=>j.createElement(U1,{key:Nl(S),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},S)));f=[...f];const _=p.current.map(Nl),y=u.map(Nl),g=_.length;for(let S=0;S<g;S++){const A=_[S];y.indexOf(A)===-1&&!d.has(A)&&d.set(A,void 0)}return o==="wait"&&d.size&&(f=[]),d.forEach((S,A)=>{if(y.indexOf(A)!==-1)return;const E=m.get(A);if(!E)return;const T=_.indexOf(A);let C=S;if(!C){const P=()=>{d.delete(A);const L=Array.from(m.keys()).filter(N=>!y.includes(N));if(L.forEach(N=>m.delete(N)),p.current=u.filter(N=>{const b=Nl(N);return b===A||L.includes(b)}),!d.size){if(l.current===!1)return;a(),r&&r()}};C=j.createElement(U1,{key:Nl(E),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:o},E),d.set(A,C)}f.splice(T,0,C)}),f=f.map(S=>{const A=S.key;return d.has(A)?S:j.createElement(U1,{key:Nl(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),j.createElement(j.Fragment,null,d.size?f:f.map(S=>j.cloneElement(S)))},Sq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKLElEQVR4nO2de3ATxx3HjxaSafqHQ4fpTDopTRsyk9ICTfZ0JxkT84wdCBmaYGjopBMgdWPer5K0ZXiUBBJKGtowgDgVtTRtitOhkzKFPNrYJwHDQ9KdhDHGls3T2Ea61cuAedjb+ckYG1uSdXCnO9n3nfmOGVu3u/f78Lvdvds9UZQhQ4YMGTJkyJAhQ3fJSpebOOT4nQ3x+8Dxf5sO0nd/ypDq2j3ys69ziP/IRjtIEv8NPmOgyIBKh1c8wCG+PAWMuDna8aUVuQYZUFQWhxwre4NxBwoqX24AUVGEIgM4xF9MF4gNOS7AMQYUlbSLLX8ibRgdWfJU2TADiEqy0nyuXCA2U7nFAKKjDLGig48bQFQSocgA6BfS79Qd540+RGXZaH6FDCBL1W5Pv5cVuQbZaL4sDSD/W5NfNrDfByxzM3Xnv5JPCvm9VuR6yICRQdnZsseSAYG/GTAyLLsBRF+yG0D0JbsBRF+yG0CU0ZoyMnBuTWxsSU1kxXx/5IN5/hiXyjOqIh8wIn6nu8eWN20v3lhNEhn+luiYdMwK0lpWCM1mfWFUVEq+SvVVFVeFJizwR/+9tC7WvLwuRtL1jFMRwopYI0shRpTstCdgovqKflGHRy3yR79YXhttkwNi+W1PrghrCKSLBWkf64k8QWWz5vmja5bVRW/eC4jldTGyuDZGLF4dwOjMmBuMgOdT2aZiFxm0sDby9+4B/kP9VeKI3CCfh66T1eeaewXyYqVOsqOnrcMryANUtmhBTfQ/XQO7/nwz8TbfJG2kU/XXW8mKFDBmV0eJWfvAp7qE7aayQSX+6Oaugd166SqJ3eqKolObLlxJCOOV0xGdXaoSmxGklZSeVXw6MmWZv7Pz3tFwldxMzILcaCNk1dnOy9ayuhiZWx0lBRUhzQMtI0tazYI0mtKlCBmwpC56oiPA71y4Qq62JqZxrbUtnjkvnAyTwooQGecLkdwsyAg2UZaI+CicO6U3FZ8OF3fAgL7hbMuthDCgQ5+cTVkgpuPQi5TetLg2drIDyF+arvUAAbkCoyztg4fVyJJDlJ70Wk3sB1075TPXembHx4EWzQPHqmVBarO48XcovaikOvpGVyCXrrfeBSN4o5U8k6V9BJt2lgTnUnrRAn90T1cg/wi03JlzAJoN569oHjBWdUtbKb1ooT96NNGs/BOphWy+eIWMP9HXOnHc0wL+lNKLFvljlalugWTrkJaVYUbARyi9aHFttCYZjCW1Mc2DxWbEkkDpRUtOR84mA1Lij+ogWFh15x4PVGoKYdsI52AO8W9ziK9deSiY9HL1cpWWD5hwxjx53yUCsbDR/FsQm4zCsJn4n9poHnesg0oGBO5PwW2R/gLEdmdfCi9xqHxWZmAgfl33hWnJgMzqJ9nBdgfSvnqyjUP8WnVh0M45iVYKJgIypzpKLDoIFKsRkE4wzmJVYMA+C47mr/cGZGldjMysiqT1cCnvSJC8sq2WrFh2gvz6dS9Z/GYlmf7Xc8TsUT+AUEfR7nNkyZuV8bqhDdCW0UeCigKx0Y6WnQz/XcWBpNqGvNgRiD/LmH4qTPLT7DN+Yj9Lto4/nLC8d6cdIwUHGlSDUXiggWz68bGEdUObZtrPKgkEtkV8qCgMK/oiJ1l2gKExcho/y3qGcKbU2wm25R8iBZ82Kg7j2QMN8bJT7ithHORl7oxiQGw0f8M+quxhxYBwND8z1QnIATKOv0y2jz6Y1oabDTOOE7Og4GVKwGTjS8fTqnt73kEy1nFZISAw8nIWKQcE8WuVAlLy26q0AmK77WmlFxQDMm3PBVl1l6yvUgwIRztWKwbERjt2KAXkrVluWUGZty79oPTm+evk/WdYP8utJJDtigHhkMOuFJD3phyRFZQVy04oBgTKklP35uePKAcEOey6BPL2DJesoMxfc0oxIAtXn5JV94aZrr4PZOGqSllBeenD84oBgTmOnLoBoF6BbFEKyMT/NhKr2Zn2JcPskRQDYhYksnnq0bTqhjZO/LxRSSDvKwbEhpxvKAUE/Nqmmt4DYnGSqXvrFYPR4Rf2XiQ7Lb0Pu+durpZVbq/DXpr/pWJAOOQcqyQQ8Jz3asgOS+JM+ePEw4oOd7sbyoY6EtUNbZrz+xrZZfYGZOfT5WMUAwIb8DnkCCoJBDzhy6b4WH/tqx6yseg4+c3PRTJ7i5/kHb23+0lyDHW8+r4/XifUDW14fX0VGV/WdE/lTd5XnwpIoLSoVNndWDbEr1IaSN+wFP9ZuL8hef9B87+i1Hl7guOMAQTDwrgeYJIBgaeIpebDX6PU0J8Y5ygb7Yj19wxh0gcS24XKR6gC4w4U5Myz0XxTfwViTrKkqQcQxDdyyJGZrQpW5BzKIcc/4TFlfwPCiqmBtMeE/3gXzX+byrTgpcXw8uKC/ZeuaR0QVmNP+qyhBWLBPe1ElNaCRWJaB4TV2GYBn6T0IkaQPFoHhNXeFZReBBtWdBAQoq5T31NjROkYpRcxgvSJ9gHD2loIHqD0IlbE72oeEFFbM0JoC6UXMUJomtYBYTW+ZFmEsHKLGO5XyIVzGAH326EvI+JrqBbnUHoSI+CPtA4Mq7TTXILEiNJeSm+y+AJPMqJ0s99lhxffMgmhH1F6FCtgW9/ICCn9Y7w6fglNrjvwLUbAjZoHVkwnkN1+3kt2iPgyfexi5u9ZyZHFI+UygtSiecDFXm6fJ7iFLq+M4E3WE5xEZYMYEf+MEaVbWgeeTWgFYMC5CZI6+z7UklmUCuElktoDwN18n1vsPLjZ7AvPoLJRjCc4nBEkt/YQsDIWsM/sxeo+AVRdhAxgBKmIESS/5gH13vOx9awYXEQR8hWqrwi5yCCziKeyovRnVsTntADCyPvsRdYb3IM8oelZ9cLL+7ndAhMqVsR5Zk9wYkYshgsZAU9JZos7MIH2hE0jfOHM7jM3ZMiQIUOGDBkyZMiQIUM9lV9GBg6rrn4QuchDMIk0Hz7/DeSKDrGIDd9Elc2PdDXjvfIouPvv4591RYe0H4tzoCwoE8o2Yn5bw6rJg3m+8GB4mGV2Nw2ziNIPWXcYmXySxezD+awnPAlmzSYRP6+moQ6oC+qEuqEN0JbcE+HHoW15vnODoa19BxwhA2AlBiuEHmPdeCR8i4BJDBeqHWiT4pYKoe1wDnAukGm6fPl+MrVfVkJPMULwWe2DiVUx6wtPgnNErvohlF4F6d2eBdoHzJRBwzlDv0TpTdCJah0ck0ZGlZcfofSo0S48lBED47UOkClDZlyB8chVP5TSfWfuig5h3cHvm9z4mUyMmEyZAgDPTbx4DJwbnGNWde4dgq8vzRdCD0P2wLDSLISZ+PDWG3lO6wCbkpj1Ss9BG6Gt0GZoO5xDn/4qVtCw/TDxwzkwgWO8wUfpY43fs7gCT7K+2EjWHUAQEJgjMC48hhFC4+Cpn0mUCro4wTAaftf5GTgGjoUyTG7JAmVC2awPj4S6oE6ou30SiXO0flz7f9jRas81uCAVAAAAAElFTkSuQmCC",wq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEdElEQVR4nO3d34sVZRgH8DHyLiLqL9j7wroLNlsUCloQ29U9FhaRoBIUi+y+73qxKBES1F0QXQSF6SybEZtd7Hpk9YCoRBw97+v+0NAFD4Ii6i7pnDNzfn5jjoYQLnTcmXned+Z54Hs/8/3wnDlnzsA4Dg8PDw8PDw/PagM19hqUOAAlj0KLApQompDaiVzZn+ov+79vOVM7MbQLcJ5JrSLgrIOW26HEZWgJExNMD8Bzex/n2OZ6MD3wHQp9zzppGizufwlKzlIXjm5BHqX661t/1/K5l500DNRID5S8Rl021gDycFs2NYKZHVsdmwfzB5+DEpeoi0YUIGEm+1rBzLZBx9aBFoepS0aUIP+i5AcGHNsGeuwVKNFKHYhr6aZAyQnqghEXiG2bguKe9dByJdUgrkWbgtJoL3W5SALElk2BFu9nBsS1YFOgxXCmQFzDNwVaiMyBuAZvSmZBXENRMg3iGoiSeRC3F97Pfa1gNveuY8LYClLLD0WzIaZtiq0g9dmd0YKYgmIrSPPc7uhBTPj4shUESqAy+WY8KJN9LT+/420G0d2hBDOD8YC4vaj8srnm54d6eEP0/wdpF4fhTWyMDcWfeuc6g+guL+6nPogNJEz4RAtfQzTRj8Qnbkl/mUF09xf52slcPCgTG9sofPQCf8vS3aM0znwcXoyj35L89r0Mop/y63BpFPXCh/CP98ObeCMSkGBm8FsG0RH8VimNoPXnp2ie34vmuadP6/wnXzCINilCMIimRmAQ0BfPIKAvm0FAXzCDgL5UBgF9kQxiQHmSQegLkwxCX5JkEPpiJIPQlyENCN86AT1CKkDG0F44hPbil7RZONQ5lkyD1Mu/ofJgGZ7nGZHKg+XOMWUSpLH0EzmAt0oaS4ezB+LfvkhevLdK/NsXsghywWCQYvZAwo8F6uI9/sj670V9CpX798gBvEcJjyU8prVvh4Ub8jj8tTe7T7/rJGPthqQ1gkFAjsAgoC+eQUBfNoOAvmAGAX2pDAL6IhnEgPIkg3RKuLQfzavfd25X1MvH15TG0hG05z83AMLW3yFz46jevRLxvag7aF75xgAMC0FqN6ZjuUFYXbluAIaFIP6dudju2rbnDjBItyDBrbOx3UJHpA8rZGRDWpe/hnd/JXKQemT/Z2QMpIOy+BWCm2dRvfsXqveurinhX8LRPJyQYZB0RzAIyBEYBPTFMwjoy2YQ0BfMIKAvlUFAXySDGFCeZBD6wiSD0JckGYS+GMkg9GVIA8K3TpBlECtfeYRkQYaTA1HyPfoTlmanJHPJgVj62jwkm9eTA7H0xZJIKkoso3Aw2Xe0QwmX/MS1oVHyaKIYtr6cGIlgiBbmxjYkDtJBUfJH8gK0YVHiBxIMG19wj/izgD8+e54MpIOiRnqg5DUDygBpwg7USPJv13nSYH7fi1DiJHkpmiz5sAPHpAGcdVCj26DEogEFIaEsQMnB8Nwdkwel0VehxTi0OAItT0OJYiqi5emH5yTGw3Ok7pmHh4eHh4fHMXf+AeIfVIkLad8DAAAAAElFTkSuQmCC",Eq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAM5klEQVR4nO3dW1Qadx4H8Jzunm72nD503/rWPX1r39q8bx82D3vOKphm3V7SbgKKGGO8zABimmRAUam9YiRt0nTTy7bp2mpuaqK24SLOIAzGGsQYZTUGvCE6CkJU8L9nUCIaRS4zQMh8z/k+Jg98zv//H378kT17mDBhwoQJEyZMmDBhwoRJxAGHL+4lOHX7CU6d3AZBcptAsH8EQfZG/j8wiTsE55OXCI4ij+AoGghO3QLBrQNk7TAcrMcOQR12GC4bh+F9AEGeYV52CuM+XP8CkXMmm+DWnSM4CnsQYGtDQDbVBsMOOww3jMNw3kRx8Z8ZnCgzVVD/XHAbIjh1+E4AkYJsA2S1wfA5GwRl3xeL/8QAbQlAkN8TuYp9BFdRRnAVHXMcxXKkCLGAbMHx2WAYD54/944f/8NTCbTwnvLlOY6iZI6jaCY4ClcsAAQFINsAuewQ1GwXCErGRcUv73ka0s7HeHheq4oKBIJikNA6TxSpQG3u8T3pjtGWj6228fWeSe65B6kLAtn9tXmL4APeatqiBDHa8/WArJavQlMVxIUUoKCWBwJNR5StGMGO5nzTm2og4wKoD8hJhHWQdEPZCYPsL/nowCxX4UsVEBsE+ZdkfMsmjHRCCYcRrJnXqE0VkKmyYu22GOmAEgnGWjGHk6ucTzaIDYJcvhreVFiQJxUlcoy16vNuqpMNMneyUL0rxpOIEi3G+ipZGud+OZIskHEYuu+X5z6MGORJQYkNY63qfG13skDckgJDVBhPAko8GMFac/5jTDTIhKDUFBNGKqNQgREoH7XOcuoSN1yEoJVlWf5QXCCphkIZxnp/y72iThSIQ1wU+UH+JKBQjdEeWCX6OQfnrJN+EGjWJ89zUgaSbBRaMPLXivE7NHSDEKcKNZRiJBNFAfe88k2JQXWTr/fQAdKer/fZuV8N0gcCDYMPeD5aQGpzPeCHbBVoZb2SMJB6oalUKTQBpRCfuFRk0NGxUm7laW/TBeKpOBrfk9VO/fJdA2jJfABuZALQmlmSMBClwNSyBrLWswKT+cqx7jtUowzlXMKoBpkogzDKIeqPDIBmVm8AItjWjOaEYDQg5meVAtwVCkK2XoivXoBwXctR/RRVIB356Ngs94yXMhAIWlqu5o9SBvEJ1wl+OqgBNzJ8mzDWVogbtP6N/s/olcKe17dibC7u/rrEqG7jdz+kAsXEa1ZRBTIT+FiWknNiGXz3pga0ZMw/BhHaZtZf6AcR4JXhQYLbGD7603EDGjcKH3NPcz+fjBfEBsPT/hreQtwY594zgZbM4bAQG9tWBe0g9QITFglIsF/AeM/VY9334kHR8X/tjBdk/nSBLi4IxZERcJVtiAhiY9tCacX4tPj280qBaSUakEAFppULkFHbmq+fiQWkLR9bHeVeNMcMIoAsoDbXHxPERzlzoOGgGtzIWIoKI9AMH2j+O32X8c4I8ANRY4Qe/ALT7PdFBs1Nvn4lWpRf+bo7c1zFarQgNhhe9VYe7YvhnPCDr9/SgdZMR/QQIW3JyKINpF5gUsYDEuznQpO1sdBgjBbFwmvQRQsyKSqOfqv64r3boDVzMC6IjW2rnkYQ/B4VIMGeh3DD9QL9/SgO+Akn94w7UhAbBC2u1PDtEUN8mmMHl7N0lEBsdJAeDNj0IpUYG+9fTMv/LsU1N/L1C5Gg4LybqkhBnCeOR/aY+1GuG1zKVoPWTC/FGOtlU3/r/owQz6UDJKSTPxQZtO18zB/+gNd7J7nnx3YFgUrXbh/uNgj86hAKWjLs9EA82rZyKAepF+A/0gwCyJ4V4Jamwu6+cCgavhrbDcQtKQg/Iqk/bAHXM/tohdh42rpEKQaCgGeUAnw6ESDK9THMeRhHm49223ZCGc35dtPwMRRjXAj99tjtw41xxyRoPKAFNzL8icEI1EHpN7nOCPHXEoWhDIURmBbJMcx2Y/5f+F2DobceQw5y/5Is//Hbhx/ylgLjjtYMVwIhQrYt1quUgSgFJlEyQJTBCvDx7cb8fbwm7VYQh7hEs8NYfCwpEBvblpAykHoh3pFUEOH6+QIbe68VdN/deAzWzzq4Z2c3QCDCJ+fNbIw7DlvBtSw8uRDBFZLRTgnGRUS1Vyk0eZKNodxYLf71Mf80iaLPawtcigh8LHty/dLCx9zZHcfiSQPJ9IKG7D/GDXJW0LM/6QjC7WBMxHfFRvXNfL3bzv1qyA7DVn9t7iL45m0taM10Jh1g+1Xy17hB6gW4POkvvjAcjHH0SqGm3VN35DpoYQ0l/UUP2wx53CDlVQZ5ebURpGrFcnyk+CdtMzF2tAVYsoZAPxukblnxg4hrDPtTEqLaQPAvDKkPaN0uBKv5X/sgMgoIkRuMcbXgDtuZ/Bd/28a/ZSGIam95ldGTQhB+6LM+3cFfXNPsTi8o7LqulmIy0NQvBVNTYjWYFwEwC8+Cobc0wMzypQDCWs1sLxij4FAnU15l7Eg2RHm1EQhrTb1vNTvvkhBkD2pnZiSYjAiCXOtHFgAhmgqgkHUUWcHdN/AUAaHmsXcdRJTcVYGP534/pmNrPatBDLKirgtaEiMIQvbug/e1j0CCtfMNoJ81llwUFnVvDE/I8NeStD0tHjs/qGarFz2hEGTf1lrvSrBK31aQy2apf4UQWh5DmRMsgdHDGtDPciUJ5FVKh4viasN0wjCqDKvwJ71odtu8bStEsKfQD3uDGKEgZHXWU32AEK0+hkLWWToJ7v1TC8wsfwK3KwcAFP+ZqPIq44+JwCj7ALccujrdtxME2dwuFA3F2ApC1uUsw7YFCXaq0ALuHuhLEAi143cyZTV4Lq3bU41xMufbES1L4/GHwzjQueCVoFUPdgO5MXjaDuaFi2FRyFVk56HAnGWnGYX6D6jerzS9SNM5sVSktGjeuOVaCAcRbFHXz6qtGNuBkLVPnVCFBXkEI1gE1kPqwKMpHSADNHyES0ZcbbxHJYbg49uGf7TNjUUCwe70guzO6QkJWumOFOSKRbroI0T2iFAC719K7WAwW0ftdsWi55IDmfIqo5KSVSHHrf9qnDBGCsFerxg7q9sOYycQsuax93URgwQ7cfQ26GcPUoRC3zWgspruA3GeE7P8i8OaLO3iSrQYh3SDdyRo5Wq0II1mZHV5TvRb1CiE0A9sXHK1OOIEoe+iHILcfl5cbVyJ/pwwrpQqzNoDt1zOaCHYnV6QpfWsIliteSeMcCBkNUOnLYEXOFqUwPsXmADD76hBP2sphu3KB/povEpKRlxtwKLBENb29LzZ4hyKBYK93vyuW53hMHYDIUs4xJ0xgWyMYUbAwEFDlCD0XrZeB6mMcHsaPdJgR+OBYAdWB+GWoNWT8YK0DCDTYF60EBcK2cmjJmBhD0eGwqL/6wjlVYbXw2JUGdzkuCNLu/gwXgx2pxeUdv2w7WNutCBk749H+Bi86zYmWg6MYcys+V1A6P/CDoKYnxVXG1y7jcWpaHanfUyKybxUgVyxSJf8hGiEEpTAYzLsDDPmd4N7CfhKG5nyKkNLKEZZrcn8zrWZO1RBsNd7Aq3TR4IRKQjZ26Onwo9UYunM8QFgeaN38/nBTsyXPtdAjKVrqwKf2G4sTkUP6/p6IsWIBoSsd1aMU47yaMyftTbmt7AT97Xo8g97Xik4P6jabixOTRd9ElQ+SBfIrWFkGBAiHy0ohNADrO+qgDmBfziADEvr5dGxMtidXnBM16qJBiNaELIzDrGGHhDRKiBEhQnFoBPlYCcxJ+mSOekGaRmQzIJ5kTNtMOhCEXR9Hbi0QDcI2WH7CXVaYVCN8qbuvlWCVi4nCqTJIl1ZmRUNpRUGlSgnsc+MsWDEDNIvBZj1VE/aYVCBwtF1d8eKEQ8IWY+zrDvtMOJDcS1JuqpHkgXSNnj6PiBED9MOI1aUQt3VmA5yKUUgZCcn1289phtGtCgHOx0OCSqbTzbINYvEBQjhZFpiRINShn356PahNIkgZAcenNCmLUYkKId01gEpKvOnCshls9S/PCfqT1uM3VBOox9tun0oTTIIWZ319OO3HtMJYyeUPFTXRRWGlEIQsgszZWhaY2xFydK6PAhWbUtVkJt3kXEwL3KnNUYoSknXfyP6WFaaJBCytslyVdpjBHMSk78sRWUlErSyWYrJXCkE4moyS5obLdKSpjsnn44fltyahoaG31XoK/ZJMFmZFJN1JHS4aJb4Gs0SvKlfKv+5H9nfek/xdP70arggKuQ5BK3cL0Ur5RJUhtMAYm3sl5xr6pdmN/fVMD9OHDVQN/KCFJVlS9DKcxKscscHgZ0AGs1SR1O/tOGyuSLv8gDC/Hw35SvIUPNShV6WJ8VkDRKscuExELPE02SWdjSaJWWXByr2IVR/c4nJzkFUyN7g9hY8By6OIHvD/BMmTJgwYcKECRMmTJgwYbJnc/4PKLMFE0aceqoAAAAASUVORK5CYII=",Mq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAALoUlEQVR4nO1deXAT5xXf0k4z7XSmLX8U2gx/MRM69GDSdqZtIJQrXCaEGwzBgCVZsmVz37iY+LYbQzgsMGAuyzYmjuNgcAFjbI5QTBxIABOukMMYKrCl/T7FcTqO/TpvLdm7OlfWSlqZ/c28GQat9L33fvv73nftmmEUKFCgQIECBQoUKFCg4DmG2Wz+Ocuyf7ZarXMJIWsopeukNPxNq9U6j2XZv1gsll+EOl7ZwGQy/cxqtY4hhKwghOyjlH5ICHlKKYVgGiHkGaX0P4SQ/YSQlegT+sY8D7BYLH8ihKRSSusJIe3BTj4VT1K7zcdU9JnpKwCAH1BKR1BKt1JKvwh1omnvDX3PwVgwJibcAAAvEEKiCCG3ZJBMkNjuE0KWNTU1/ZSRO6xW669shbOptwGbWyxw5/ZDqKmuh6KC03Bw/wlJrfDIaaiu+gg+u/2Qa8uPbu0pISSztbX1RUZuYFn2l5TSbEJImy9BffnFIy45ebnlsHalAeZOT4KxI5bDqL8vDYqNGb6ca3PN8lzIM5TD2TNXOZ98JKaNEJIlixEbAPSjlMZSSlvE3v3na65BRkoBzJiSGLTEj/LRZr6eyPmIvprN4lRECMEc6DAnISHDarX+DoeqIhyFC7XXYMumfIgYt9Z7QoYvhcmTE2DOQj2oVsTBArUe5qukMfwt1cpYmBulh4jJ8Vxb3vxBn9F3jAFj8RYvy7KXrVbr74NGBAD8yFYnvvPkWEuLGcrerYFFkWlug31tVALMmq+HmLU6WLc9BjJL1bCrNhoMF3tsc74G1u+MkcTwt/i/jW1hm9g2+oC+oE/u/MVYMCaMzQsp7VhfAODHwVDFVU/ONDe3QP7eCpg2eaPrOy4iAbTrdJBcoIbc88Lku7LM99SSEZJVpvbaHvqUYtSAdn0sRETEu4wBYzuw7wQXq8cu2my+ZbFYXg6ZKqpO13FF0pUSYtbGQnqJ8A4VYztroiExz38y8Dcc1SfG0Gf03ZVyMFaM2ZtaWJbNkkwtYlSBQ8gV8TucHJ48KQGWpelge5XviTDwbGulCjbs6j0Z+N1t/1b55QPGsCxVy8XkGCfGjjkIqFrEqMJiYTnpvjZypcDBCeMSYHWOVlSX5AspGw2+k4Hfwe9K5QfGtPptLRcjP+bx/1jF5QJzIrlaxKii4eYD0CzOdhohLdbHwbZT0iXAwO++zqkg2aiB9WLUsiuGuxa7vED48s6ZaNCsjoXRDiO1JQsy4JPrd6VRi23tqVeqmDEnHjKOeS+akhBTrYKMUjW8dVgDiXu6ko+G/8b/w4EAXhMMX9KPqbnYBTVz5Eoxavkfy7Ib3K6N2SZ5hb6qYsyIpaDbENurgtlXLPdCNCxN0cLYV31Xi8lkKnFJCiFklSdV4DqQoyrUUVlQci4v5AkxyMRKz+8FnSpHkKNxr66AndtKPc74r1y5kikgA1cuKaWsWFVgI3m5x6G9/XuwftcCey7FhDwZhhDbnksaoG3PoKOjA4oKqrgiL1Ytzc3N3wwePHgUXx2vO16EywSuVDFr3jL4/MHXwMe5ewdCnhBDiK3m3kFBTj5/0MjlyrG2YE5dLcGkpKRkMwwzhCOEUrrW8YIPyi441YqEZB037Lv5uFrQOGkzwZ5LwSnoBhna7ktqsHz7X0FObjSddVtbKsovOhFSUlJiZBhmJsMwP2RshwkEF7xfWisYzqYf7ZllH7m6Gjo62wUOVN3ZG/LEGEJkZ+/uE+Sio/N7KLi6pvtzzB1/IRNz64aQSIZhfuOyy8IFtFlT/9kzG83UCpxoeHJe4IS59THsvhicoaZBRoYxt7Q+EuSi4Umt4BrMXff0IGITPHvW4q7LQkJ+i0Pen1BKLY4XFRWc6f6hSeMTuImZvRHjR+ugo7ND4MjpzwwhT5AhyIYx89HZ2QGF9Ru6P8eJ6aSJPfMU3AV1UdRbBw4cuKibEFthT/FVJXdMHwqcaf7mazA8VypRwVPrl4IcYE58VcfJkyfLbGR0dVkI3IL0VSV4J+AdwUdlw3YZJCo6KFbZsMNJHUX1G31Sh9lsbhs2bFiMjYyuos4b/vqskvvP6gROmejDkCfKECR7Qu4LYr//tM5fdfxRMEHsjUqOfpwIndApcKziZk7Ik2UIsFXc2iqIGaATSq5t9kcdsxmGecHVEorPKnnYfE3gGt45Uga/q0YFq7K1MHu+nrPscs9znp3VXXsXuCWLO5RT34iHBeo42LhbuhWFx+SuIOaHzR9Lqw5/VHLs+hbuDuGj/EaWJIFvOaThEsqfWMUn6dxe//ZxFUyZ4nrrFW1hbKzf+zQYmyPevZ4svTr8UclX5hsCBxstDX4FvbVSBVG6OJdJjd3kmhBM9Bsz3JPh7ftirdFyWxDrV+ZPA6MOn1QyMV6w+fPeJ6lOd03Zp+ncqQ7tBh3EJuq4rkds0NNm6n1O6JocrdN175xSQdb7aq774i8DbT0pzhf0GX8HY8BY3MXJV8fECQnSqcOTSvCUBR4ic6eSR7Y7B1eBa6qvgy4mXZAgrANiCZk43hbU8K5uRgwhc97sSfq0WXphV1ahgtGv8PbBM8T5gj7z29Zp07nYMMaunuC2e3VMSXR5MsUndfhTSwovpnNLz3OmOZ88QdNvFt9VJB/RcFukqcVqbkvYGyHYXeGd76nOTJ/Z0529GRMnyg/02VUsmGzcgiioTQ9c7ehtLUkrVnN76fyE+EuIgWdiCMEzV/xrNhmcjxyhj/bPp06L94sQu6Hq5kfHQdIBjfS1ozcqcXccs+sOKoesNGNQCEk2agTX4OjM8RpUnP1z7BJ9JQRjwZjcnkvm5UJydfiiEr6pojK5vRT7liWeKg8GIVsOCQlJLXKeq+D37J/jwTdfCcFYMCaWZbmT8sv1O2D0K8JNqICpw5tKjhZW9dSSMashO72Q2+51vC5YhCQHQSF2QviGMf8rowgmjV3TfR3mxvkmbvl26NChGr/U4UkluA2JO1+42WIyNTs5EGxCsstUAa8hrgixG+YAc3Hig0sut2glUYcdLMv2p5QSd854smARkns+WrBV6qot/ihroTZOUkI8mYM6ZjEM4/85X3wYRc6EGBzmITPmCOchOSfUwnmIwxwqkITk5+fvk0wdduBhLovFcjhYhOyq7ToViENqHFLyCVmSEMv9P9r2syq3M/VlKV2HMnC2Pm+xcKaeI/K8r7+EXL58uaZfv37zJVUHH/X19ckmk8npDFdLS0tbY2Njk1SEzF7gfumEb9zktKaHRKwN/M+5uZHD0Byf/RDrhzdCMGaM3bmmmFij0XiIpwy0wUwgMGjQoBFJSUmZ2GBxcXFBWlpa9oABAxZXVFSUSkXIBIfT5Z6Mf7fjuhV/tuxokUv0Pq2peSMEY8b9cMwB5gJzgrnp379/lAMZf2UCjJcYhpnOb1RKQtZtj+GSh88DurN5i/SQ8JbW5cl0PG+My/ZjRybA+DFLucVF7NJ8XXoXQ4gt/ghblxTpYNNtuQoK8InTX9saHHLv3r2cQBR1QwjNB0L+YNsPf9F2AvElW25C81QughCy5TknRF5QCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCAkzQg7ur4Rww8H9lX331IlCSJChECIzKITIDEpRlxkUQmQGhZAwIwQfIcDXpoaTzY3S991hb7hbXhgS4vT++OPlF0OeyFESmasXIONTU3ImxOUryzEQfCF9ONsJN8+f8963Kz9CbC/1d3rrQ1+15uZmK+99u13vbZcb8M9xhzpRNEhmNBoPO71vV27A59kJIcZQJ4sG2Orq6i7wnj8Xvm9XjqTU1dWl49/FCHXiaAC6KVQGj4zIYD5l6xfwj5TYn98+derU8XC2Ytvz+LyaYbe/MWGGITZJR/Yxmxk2ynAB/vPbw8LchthikW/NUKBAgQIFChQoUMA44/+a1QMyPToXpQAAAABJRU5ErkJggg==",bq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOnElEQVR4nO2dCVBURxrHO+4ma9Zda1PZyu5Waitbe1jWblU02Rh31XgFYwyeeCQYE2ISE68wb1DwioIXauLJghoUFUFF8UJFUTlEQRSQeOGIiiCKDMfMdD9AEJBvq4c533tzMsO8wfdV/atUnH7d/eP7uvvr7jcISSaZZJJJJplkkkkmmWSSSSZZZzcAeAlj/IqpKisrf+PpeonWAOAXLMuOI4QkYoyLCCFqK9IQQsBFKsYYb8MY/93TfSAKo7+lhJBA2jEu7GRwVBjjZkJIvEajeRs9j1ZbW/sHQkgYIUTlSRBEGE4Wxngi9VrU2U2tVr9JCPkJY9zg6Y4ntnWXECIDgJdRZzOWZQdgjI9jjFtF0NHgoMdUEUJW19XV/Ql5swHAi4SQLzDGN+xsOKSdzQVm1iYYNXw+jBw2zyGNeD8YBv830G6NGDoXwhbFwPWrd+yFU08I2YIx/ivyJqOxF2M8nRBSak9Da2pUcPRQJnz+yQqHOtSVmvH1Ojh7+rK9HtOMMY7DGP8Nid00Gk1vQshlexpWVvYYfoo6CmNGLHR7h494bxaMHDjTqMHfCf6/aV/8ACknc0CjwfaAoeNgGAD8ConNAOAFQkgwxrjFVkNuFRbDquVxMHzwHF6HfOQTAhHrE6EoORYeLn1HUJXL3wZNeO92Ccd/AwVXFPD9vGgY2p/h1WPyhKWQmJAG1dU1NsGo1ep8lUr1ZyQWA4CuhJADtiqek30dFoX8JNgBH4+aCzu3n4CKiipgWRaIIrPdnW5N5HiY9jlUd+88gPXLomD4IL7HUO/dGnUEyh8pbYTdGnVVVdUgMcB4mRByxlJFqevTEDAtYI1giJg+KRDSoxhoyl1p6CCWAlFXg2bdAPcBuXrC7HlP7yaB5jQD2xczMOp94QlAxIZEKC15ZM1TGouKinw9PYuyCOPa1SL4duqPvMYN6R8IC76SQf5OBiBbblCd6qE5lONL3QIDbxwKLFabPavl53WGejzJkMPB1QxMGsEHQ8Ms9RhVjdoilIyMjJEeAUII2Wxp+rpz2wl4f4B5aBo+MBDWB8ng4VEjBFM13ks26yS26iFoNg51vXcUJJk9p666BCA7iFef5vNyOL2JgS/9ZPzBP2ANFN8rE4RSVVXFRkREvNvRMAKEKqNSqWHJgu1mlf/gPRlEL5JpQ4IQCL1ac5dALa4295KbqaBZ865bxg69mm7ttl6vLDlkRzPw9XjO+PLhAsjPLRSEUlxcXNyzZ8+OWUjW1dX9UZd15birBubP3WpW6Vn+lj1CSE23E3gdRm6cBc0PfdsP48QyYFliVnZ9xXVB7xBSywU57FspA5/3zGeFeZeFoSQlJe1BCLk/xU8I2S9UgR9X7TGDQcMTdXt7YbQpCOofX+NBYR/dBrz7S+dgbBgCJDeRVyb1xmd5KxysnxxuxDMw1sd8JiYUvlQqVZO/v/9UhNALbl34CeWjjh7ONIMRNd96eLIaInLmQ32lgg+FJW3eEjcNNKvsWItsHgnkwg5ga5R8GEQFLVc3OV3H+4cYGDtMZjam0AjBm+rn5JxHCP3LbUAwxke4D31YVgGjP5xvqNzib2TauOtsY4FCubTQAhSdqsuBXDsFJHWjdlzAB+SAjywAnLIGyKV9wD60/FnqGS3XItpVP6qbe+UwbIDxl5BOZPjTfs0zPz8/GULoty6HUV9f/7rQSjx8aayhUv6+MmhIb19DQa+Lc6DxbhKwBFsG46DqlYXwLG+Za+qXLYeElcaZ5AeD58CD0nIelNTU1GSE0H9cDgRjPJ/7sHt3H4DPQLmhUpdjnA9VltTy83p48vjndoGoq3kATYo9dg/g9upZlhymTTR6yca1+3lAlEol6d69+6cu9xKMcSH3YZGbDprNqFwNA0wbX/ADNDw4B7Wqcrsg0HHiyeMCaC6M0Xqbu+p1cZvRS+gWQFUVP/8VHh6+FiHkuu1hjHEfoQXgpLFLDJWhc3V3AgFTOPnh0KSIh6f3jkFDyVl4UnYRGh5kaheXT2/vbxsjcoI7pC50vPx8jHGATz6WzQNSUFBwGSE0DiHUxSVACCGR3IdczLpmqMRon0BozuwYGCBCxS01ApkTGCmUUmnu1avXNwih1111pqma+5AVobuMsXOue8MViFzKE4w2R0f7gqaMSgSSkLGxsTsRQgPaDUSj0Yzn5Wsqa7QZUD0QRYLnOwU8LPkUo5fsikkWSqfcQwh9jBBq34YWxviYtYVgwFjv845nWXJQpTBQk9L2Z1eUmbLJOLjT7WihbMaUKVNCEEL/cBpGbW3taxjjJm7BgTM2Gh6+b0XHDebgAjWek0POdgZSI9uUvY2Bxoz2T4fp+uujwcYpcEG+ggckJSXlGEJouNNACCFB3ELvFz807PrRuFmV7PlOBgek2GeEoRdddbui7FXfGcPW2tV7eUAqKirUXbt2pWuS3zkL5Cq30O1bjxkeGjLV+8JV7k4+kEsxrim7YLcxbNGjTPREDbf/QkNDVyOEejt7goQfByctNzw0Lcq7whVQD0mQ84AU7mNctibx9zWGLbp9ze2/vLy8iwihsQ5ngTHGG7iFXc65YdwLGBIIjRme72BwULWp5kDoeELHFVeVv2OJMWzNC9oimJbv0aPHVwgh+zewAOCXGGMlLwWwbLcxRsq9L1xBthxu7zcCoeuH1guuLf/xcQaG9DOuSYQSjjExMdsQQv3sBsKy7BhuIfSMkq9PiAHIzT3eF65At4ijoZZ6hqumvFx9N9noJfGxKTwgd+7cKUIITUIIvWRvuDrMLYTmaPQP+XRsCLRmz3W4ovVpclgTKIPVgQzUpXoOaPP5tnhv6ed0Krzwa5k2cehM+cc2hxv6auqn4YJrEj8/vyCEkO2LQoSQVzHGjdwCaI5G/5BtW5O0x3a0KW0HMqkRwcZZyIFVthv7JEMO1+LkcG4Lo01e3j8od3mIEdLIIW11/HBQINScYhzaKqBb0JXKau3+iL6t9EgU7xc8OfkwQmiYPd4xm/vhkvsma49+Mu1pP+MxmvvQVLjL5l7D4+NyswMCO0Otj0FNmQxkRfOnqB2RpjHdjl7L2B4rWwrWwpPyfLP0/5KFxtM3GwT2SSoqKqq7dOkyGSHU3ZaH8A6/0e1JfeGBMzYJbwJVFkHz9S0WKx023fx8ky0gZUf501O9mtycWTat59B+gVByWPj/PbuyGp48yuWdZqE6f67A7CAEPSLF7deAgID5CKE3bXnIY+4HaRw0bERNWw+FN4utbJPegpZr/+OtjvUzD3uBFB0QhkGFz3YcECo6npiByF0KDaXpFreXaefvjTttVsa59Cs8IJGRkZEIoTG2gPCmuwGTV5oVPqS/THsgzjqYm4aTHTKTTKi9QMqPCcNI3yzrUA8xjAPxDLTmhdkEkbDnLIwf9T3v8xlp+TwgUVFRmxFC/gihV6wBOc/9oOLWfQhmorTjBw/MQutgMo4eEWygLSAtF9pODHKB0Cnr1Tg5PM103yxNqL7TPwsFolFZBTFhNB+En+8i7c/oDiu3X2fOnLlYB+Qv1sYQudA0jepK/i2rYOjdD9OK0kp8ZnIzynTmYQlIUyYDt/cz2pmVpZBFRWdfHQHkg0FzzFIhpu1TqzSQsOeMIIhxvosgbtcpwT123aCu0iUarQOpqKjoRgh5YAkKFb2XR+96CIGh/64HQy+9GFItPiFmpxuFgDRlmqfGrSljc8d4yKZ1Bwx/njxxmfZAHFXSoUz4eFwoDwQ980vvulRbAKFXdHT0Vh0MqldtjSPvCJ3fteQx3ErRKXLoohitu+r/LSb6uPYovzUgN/danllxRbO2HQGkvFypvVSq/zsdOyeMXizoEbt3WvYIU124cCHNBMYYuxKNLMv2FBpPHPEYveggR39jrAGhoSotyj4YdH3CunGlb1p32j66JSvULkc8gqqmpqYhPj4+Vrf+0ANx7FYvxthHrVbn2QOGrkiFwBxKzND+3BoQcsY+78jdYT3t4Q4g9IIONzw5AkKlUjWmp6ef6tOnz3QTEFR9HILhLJj8vFvaVAsFw8yKoGdcbQLhpsVTLagg1v05MC4QKnptmg7w2tC046RDIPr27TuDA2ICQqiH0zCcBUNPp5j+3RqQ1qwgOL/VNpSSw54Bom1PVY3hl8tJEBMRQv9GCHV1CQxnwdgDhKr0sHUYFJi7F4XWgIgShAUw+a4A0polh1sCW6xUmVsY0JxxPwxngIgChDNgbAEBnapPyrWpCromoYP4vcS24zsdAcMRIKIEIfBGB1+VSnVIo9E0OAsEPCxbQEpLS0uPHDly4K233vpWAESvdp9OdIcRQlZ2RiBKpVLDgaAH0VuUIJ4zICN0dwjFC0JvhJAVnRzIOORNRghZLgERkRFClokJSGsWXee0XUGjU+iruxmoS3u+PGSpmIDcEdgSpnsuDQIn3zsrkDCxAGk+L7eYSb6b+Jx4CMY4VCxAiJVMstDOY2cFskQMQNhURnt/3hKQ58lDFosBSPY2yzDo4C6UkumsQL73NJCmTH6oomPJuedxloUxXuRpIKB704LZUVQ7Lud0ViALxQCkNrXtGhv1iut76DHU5xfIAjEAASfUWYHw3h4kAfGgYYznSUBEZCzLhkhARGT0XfASEBGZBERkRgiZK3mIiIwQMkcCIiITenGN6bTXW0Q60TpkOrcx9EqCpzt4sAMaNjCIB+TRo0dVXgmEEDKC25jbihLwHx/m8Y4ebIfo62+jIg7xgCgUipteCaS8vPzXhBCW2yBvV0JCQpwOyCjkbSa0a+jNUiqVmjfeeGOqDshQ5G1Gv4UHY5zm6Y4kLpBarW4KDg5eZnJIrifyRqNfK6dQKBLoi+k93anESZWVlZXPnj1bf4VZP368iLzYugQEBHx28ODBvfQrHK5cuXLJC5STlpZ2kr4mvFu3blNMYNBXvb6GOoHR12y/gxD6ROCwsrfIFyH0e9TJjH5LwD91X+HQ30v0tu414e77thzJJJNMMskkk0wyySSTTDLkGfs/qs34Wg57eFIAAAAASUVORK5CYII=",Cq=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>e(r.result),r.readAsDataURL(t)}),Tq=t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return(n*299+r*587+i*114)/1e3>128?"black":"white"},Rq=[{name:"colorpicker",icon:Eq},{name:"filepicker",icon:wq},{name:"aipicker",icon:Sq}],Pq=[{name:"logoShirt",icon:Mq},{name:"stylishShirt",icon:bq}],Bq={logo:{stateProperty:"logoDecal",filterTab:"logoShirt"},full:{stateProperty:"fullDecal",filterTab:"stylishShirt"}},Lo={type:"spring",duration:.8},xv=t=>({initial:{x:t==="left"?-100:t==="right"?100:0,y:t==="up"?100:t==="down"?-100:0,opacity:0,transition:{...Lo,delay:.5}},animate:{x:0,y:0,opacity:1,transition:{...Lo,delay:0}},exit:{x:t==="left"?-100:t==="right"?100:0,y:t==="up"?100:t==="down"?-100:0,transition:{...Lo,delay:0}}}),Iq={initial:{opacity:0,transition:{...Lo,delay:.5}},animate:{opacity:1,transition:{...Lo,delay:0}},exit:{opacity:0,transition:{...Lo,delay:0}}},Lq={initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:5,stiffness:40,restDelta:.001,duration:.3}},Dq={initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:7,stiffness:30,restDelta:.001,duration:.6,delay:.2,delayChildren:.2}},Fq={initial:{x:-100,opacity:0,transition:{...Lo,delay:.5}},animate:{x:0,opacity:1,transition:{...Lo,delay:0}},exit:{x:-100,opacity:0,transition:{...Lo,delay:0}}},_v=({title:t,type:e,customeStles:n,handleClick:r})=>{const i=_u(jr),s=o=>{if(o==="filled")return{backgroundColor:i.color,color:Tq(i.color)};if(o==="outline")return{borderWidth:"1px",borderColor:i.color,color:i.color}};return O.createElement("button",{className:`px-2 py-1.5 flex-1 rounded-md ${n}`,style:s(e),onClick:r},t)},Oq=()=>O.createElement("div",null,"AIPicker");var es={},Up={},Nq=typeof km=="object"&&km&&km.Object===Object&&km,Pk=Nq,Uq=Pk,kq=typeof self=="object"&&self&&self.Object===Object&&self,Gq=Uq||kq||Function("return this")(),to=Gq,Hq=to,zq=Hq.Symbol,kp=zq,gI=kp,Bk=Object.prototype,Vq=Bk.hasOwnProperty,Wq=Bk.toString,Jh=gI?gI.toStringTag:void 0;function Xq(t){var e=Vq.call(t,Jh),n=t[Jh];try{t[Jh]=void 0;var r=!0}catch{}var i=Wq.call(t);return r&&(e?t[Jh]=n:delete t[Jh]),i}var jq=Xq,Jq=Object.prototype,$q=Jq.toString;function Kq(t){return $q.call(t)}var Yq=Kq,vI=kp,Qq=jq,Zq=Yq,qq="[object Null]",eee="[object Undefined]",yI=vI?vI.toStringTag:void 0;function tee(t){return t==null?t===void 0?eee:qq:yI&&yI in Object(t)?Qq(t):Zq(t)}var Su=tee,nee=Array.isArray,Ts=nee;function ree(t){return t!=null&&typeof t=="object"}var Vo=ree,iee=Su,see=Ts,oee=Vo,aee="[object String]";function lee(t){return typeof t=="string"||!see(t)&&oee(t)&&iee(t)==aee}var uee=lee;function cee(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var fee=cee,hee=fee,dee=hee(),pee=dee;function mee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gee=mee,vee=Su,yee=Vo,xee="[object Arguments]";function _ee(t){return yee(t)&&vee(t)==xee}var Aee=_ee,xI=Aee,See=Vo,Ik=Object.prototype,wee=Ik.hasOwnProperty,Eee=Ik.propertyIsEnumerable,Mee=xI(function(){return arguments}())?xI:function(t){return See(t)&&wee.call(t,"callee")&&!Eee.call(t,"callee")},Lk=Mee,Av={exports:{}};function bee(){return!1}var Cee=bee;Av.exports;(function(t,e){var n=to,r=Cee,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Av,Av.exports);var XM=Av.exports,Tee=9007199254740991,Ree=/^(?:0|[1-9]\d*)$/;function Pee(t,e){var n=typeof t;return e=e??Tee,!!e&&(n=="number"||n!="symbol"&&Ree.test(t))&&t>-1&&t%1==0&&t<e}var Dk=Pee,Bee=9007199254740991;function Iee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bee}var jM=Iee,Lee=Su,Dee=jM,Fee=Vo,Oee="[object Arguments]",Nee="[object Array]",Uee="[object Boolean]",kee="[object Date]",Gee="[object Error]",Hee="[object Function]",zee="[object Map]",Vee="[object Number]",Wee="[object Object]",Xee="[object RegExp]",jee="[object Set]",Jee="[object String]",$ee="[object WeakMap]",Kee="[object ArrayBuffer]",Yee="[object DataView]",Qee="[object Float32Array]",Zee="[object Float64Array]",qee="[object Int8Array]",ete="[object Int16Array]",tte="[object Int32Array]",nte="[object Uint8Array]",rte="[object Uint8ClampedArray]",ite="[object Uint16Array]",ste="[object Uint32Array]",gn={};gn[Qee]=gn[Zee]=gn[qee]=gn[ete]=gn[tte]=gn[nte]=gn[rte]=gn[ite]=gn[ste]=!0;gn[Oee]=gn[Nee]=gn[Kee]=gn[Uee]=gn[Yee]=gn[kee]=gn[Gee]=gn[Hee]=gn[zee]=gn[Vee]=gn[Wee]=gn[Xee]=gn[jee]=gn[Jee]=gn[$ee]=!1;function ote(t){return Fee(t)&&Dee(t.length)&&!!gn[Lee(t)]}var ate=ote;function lte(t){return function(e){return t(e)}}var JM=lte,Sv={exports:{}};Sv.exports;(function(t,e){var n=Pk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Sv,Sv.exports);var $M=Sv.exports,ute=ate,cte=JM,_I=$M,AI=_I&&_I.isTypedArray,fte=AI?cte(AI):ute,Fk=fte,hte=gee,dte=Lk,pte=Ts,mte=XM,gte=Dk,vte=Fk,yte=Object.prototype,xte=yte.hasOwnProperty;function _te(t,e){var n=pte(t),r=!n&&dte(t),i=!n&&!r&&mte(t),s=!n&&!r&&!i&&vte(t),o=n||r||i||s,a=o?hte(t.length,String):[],l=a.length;for(var u in t)(e||xte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gte(u,l)))&&a.push(u);return a}var Ok=_te,Ate=Object.prototype;function Ste(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ate;return t===n}var KM=Ste;function wte(t,e){return function(n){return t(e(n))}}var Nk=wte,Ete=Nk,Mte=Ete(Object.keys,Object),bte=Mte,Cte=KM,Tte=bte,Rte=Object.prototype,Pte=Rte.hasOwnProperty;function Bte(t){if(!Cte(t))return Tte(t);var e=[];for(var n in Object(t))Pte.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ite=Bte;function Lte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hf=Lte,Dte=Su,Fte=Hf,Ote="[object AsyncFunction]",Nte="[object Function]",Ute="[object GeneratorFunction]",kte="[object Proxy]";function Gte(t){if(!Fte(t))return!1;var e=Dte(t);return e==Nte||e==Ute||e==Ote||e==kte}var Uk=Gte,Hte=Uk,zte=jM;function Vte(t){return t!=null&&zte(t.length)&&!Hte(t)}var Ty=Vte,Wte=Ok,Xte=Ite,jte=Ty;function Jte(t){return jte(t)?Wte(t):Xte(t)}var Gp=Jte,$te=pee,Kte=Gp;function Yte(t,e){return t&&$te(t,e,Kte)}var kk=Yte;function Qte(t){return t}var Gk=Qte,Zte=Gk;function qte(t){return typeof t=="function"?t:Zte}var ene=qte,tne=kk,nne=ene;function rne(t,e){return t&&tne(t,nne(e))}var YM=rne,ine=Nk,sne=ine(Object.getPrototypeOf,Object),QM=sne,one=Su,ane=QM,lne=Vo,une="[object Object]",cne=Function.prototype,fne=Object.prototype,Hk=cne.toString,hne=fne.hasOwnProperty,dne=Hk.call(Object);function pne(t){if(!lne(t)||one(t)!=une)return!1;var e=ane(t);if(e===null)return!0;var n=hne.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Hk.call(n)==dne}var mne=pne;function gne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zk=gne;function vne(){this.__data__=[],this.size=0}var yne=vne;function xne(t,e){return t===e||t!==t&&e!==e}var ZM=xne,_ne=ZM;function Ane(t,e){for(var n=t.length;n--;)if(_ne(t[n][0],e))return n;return-1}var Ry=Ane,Sne=Ry,wne=Array.prototype,Ene=wne.splice;function Mne(t){var e=this.__data__,n=Sne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ene.call(e,n,1),--this.size,!0}var bne=Mne,Cne=Ry;function Tne(t){var e=this.__data__,n=Cne(e,t);return n<0?void 0:e[n][1]}var Rne=Tne,Pne=Ry;function Bne(t){return Pne(this.__data__,t)>-1}var Ine=Bne,Lne=Ry;function Dne(t,e){var n=this.__data__,r=Lne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Fne=Dne,One=yne,Nne=bne,Une=Rne,kne=Ine,Gne=Fne;function zf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zf.prototype.clear=One;zf.prototype.delete=Nne;zf.prototype.get=Une;zf.prototype.has=kne;zf.prototype.set=Gne;var Py=zf,Hne=Py;function zne(){this.__data__=new Hne,this.size=0}var Vne=zne;function Wne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Xne=Wne;function jne(t){return this.__data__.get(t)}var Jne=jne;function $ne(t){return this.__data__.has(t)}var Kne=$ne,Yne=to,Qne=Yne["__core-js_shared__"],Zne=Qne,k1=Zne,SI=function(){var t=/[^.]+$/.exec(k1&&k1.keys&&k1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qne(t){return!!SI&&SI in t}var ere=qne,tre=Function.prototype,nre=tre.toString;function rre(t){if(t!=null){try{return nre.call(t)}catch{}try{return t+""}catch{}}return""}var Vk=rre,ire=Uk,sre=ere,ore=Hf,are=Vk,lre=/[\\^$.*+?()[\]{}|]/g,ure=/^\[object .+?Constructor\]$/,cre=Function.prototype,fre=Object.prototype,hre=cre.toString,dre=fre.hasOwnProperty,pre=RegExp("^"+hre.call(dre).replace(lre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mre(t){if(!ore(t)||sre(t))return!1;var e=ire(t)?pre:ure;return e.test(are(t))}var gre=mre;function vre(t,e){return t==null?void 0:t[e]}var yre=vre,xre=gre,_re=yre;function Are(t,e){var n=_re(t,e);return xre(n)?n:void 0}var wu=Are,Sre=wu,wre=to,Ere=Sre(wre,"Map"),qM=Ere,Mre=wu,bre=Mre(Object,"create"),By=bre,wI=By;function Cre(){this.__data__=wI?wI(null):{},this.size=0}var Tre=Cre;function Rre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pre=Rre,Bre=By,Ire="__lodash_hash_undefined__",Lre=Object.prototype,Dre=Lre.hasOwnProperty;function Fre(t){var e=this.__data__;if(Bre){var n=e[t];return n===Ire?void 0:n}return Dre.call(e,t)?e[t]:void 0}var Ore=Fre,Nre=By,Ure=Object.prototype,kre=Ure.hasOwnProperty;function Gre(t){var e=this.__data__;return Nre?e[t]!==void 0:kre.call(e,t)}var Hre=Gre,zre=By,Vre="__lodash_hash_undefined__";function Wre(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zre&&e===void 0?Vre:e,this}var Xre=Wre,jre=Tre,Jre=Pre,$re=Ore,Kre=Hre,Yre=Xre;function Vf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vf.prototype.clear=jre;Vf.prototype.delete=Jre;Vf.prototype.get=$re;Vf.prototype.has=Kre;Vf.prototype.set=Yre;var Qre=Vf,EI=Qre,Zre=Py,qre=qM;function eie(){this.size=0,this.__data__={hash:new EI,map:new(qre||Zre),string:new EI}}var tie=eie;function nie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rie=nie,iie=rie;function sie(t,e){var n=t.__data__;return iie(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Iy=sie,oie=Iy;function aie(t){var e=oie(this,t).delete(t);return this.size-=e?1:0,e}var lie=aie,uie=Iy;function cie(t){return uie(this,t).get(t)}var fie=cie,hie=Iy;function die(t){return hie(this,t).has(t)}var pie=die,mie=Iy;function gie(t,e){var n=mie(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var vie=gie,yie=tie,xie=lie,_ie=fie,Aie=pie,Sie=vie;function Wf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wf.prototype.clear=yie;Wf.prototype.delete=xie;Wf.prototype.get=_ie;Wf.prototype.has=Aie;Wf.prototype.set=Sie;var eb=Wf,wie=Py,Eie=qM,Mie=eb,bie=200;function Cie(t,e){var n=this.__data__;if(n instanceof wie){var r=n.__data__;if(!Eie||r.length<bie-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mie(r)}return n.set(t,e),this.size=n.size,this}var Tie=Cie,Rie=Py,Pie=Vne,Bie=Xne,Iie=Jne,Lie=Kne,Die=Tie;function Xf(t){var e=this.__data__=new Rie(t);this.size=e.size}Xf.prototype.clear=Pie;Xf.prototype.delete=Bie;Xf.prototype.get=Iie;Xf.prototype.has=Lie;Xf.prototype.set=Die;var tb=Xf,Fie="__lodash_hash_undefined__";function Oie(t){return this.__data__.set(t,Fie),this}var Nie=Oie;function Uie(t){return this.__data__.has(t)}var kie=Uie,Gie=eb,Hie=Nie,zie=kie;function wv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Gie;++e<n;)this.add(t[e])}wv.prototype.add=wv.prototype.push=Hie;wv.prototype.has=zie;var Vie=wv;function Wie(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Xie=Wie;function jie(t,e){return t.has(e)}var Jie=jie,$ie=Vie,Kie=Xie,Yie=Jie,Qie=1,Zie=2;function qie(t,e,n,r,i,s){var o=n&Qie,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var d=-1,p=!0,m=n&Zie?new $ie:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],_=e[d];if(r)var y=o?r(_,v,d,e,t,s):r(v,_,d,t,e,s);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!Kie(e,function(g,S){if(!Yie(m,S)&&(v===g||i(v,g,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(v===_||i(v,_,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var Wk=qie,ese=to,tse=ese.Uint8Array,Xk=tse;function nse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var rse=nse;function ise(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var sse=ise,MI=kp,bI=Xk,ose=ZM,ase=Wk,lse=rse,use=sse,cse=1,fse=2,hse="[object Boolean]",dse="[object Date]",pse="[object Error]",mse="[object Map]",gse="[object Number]",vse="[object RegExp]",yse="[object Set]",xse="[object String]",_se="[object Symbol]",Ase="[object ArrayBuffer]",Sse="[object DataView]",CI=MI?MI.prototype:void 0,G1=CI?CI.valueOf:void 0;function wse(t,e,n,r,i,s,o){switch(n){case Sse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ase:return!(t.byteLength!=e.byteLength||!s(new bI(t),new bI(e)));case hse:case dse:case gse:return ose(+t,+e);case pse:return t.name==e.name&&t.message==e.message;case vse:case xse:return t==e+"";case mse:var a=lse;case yse:var l=r&cse;if(a||(a=use),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=fse,o.set(t,e);var f=ase(a(t),a(e),r,i,s,o);return o.delete(t),f;case _se:if(G1)return G1.call(t)==G1.call(e)}return!1}var Ese=wse;function Mse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var jk=Mse,bse=jk,Cse=Ts;function Tse(t,e,n){var r=e(t);return Cse(t)?r:bse(r,n(t))}var Jk=Tse;function Rse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Pse=Rse;function Bse(){return[]}var $k=Bse,Ise=Pse,Lse=$k,Dse=Object.prototype,Fse=Dse.propertyIsEnumerable,TI=Object.getOwnPropertySymbols,Ose=TI?function(t){return t==null?[]:(t=Object(t),Ise(TI(t),function(e){return Fse.call(t,e)}))}:Lse,nb=Ose,Nse=Jk,Use=nb,kse=Gp;function Gse(t){return Nse(t,kse,Use)}var Kk=Gse,RI=Kk,Hse=1,zse=Object.prototype,Vse=zse.hasOwnProperty;function Wse(t,e,n,r,i,s){var o=n&Hse,a=RI(t),l=a.length,u=RI(e),f=u.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:Vse.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var _=!0;s.set(t,e),s.set(e,t);for(var y=o;++d<l;){p=a[d];var g=t[p],S=e[p];if(r)var A=o?r(S,g,p,e,t,s):r(g,S,p,t,e,s);if(!(A===void 0?g===S||i(g,S,n,r,s):A)){_=!1;break}y||(y=p=="constructor")}if(_&&!y){var E=t.constructor,T=e.constructor;E!=T&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(_=!1)}return s.delete(t),s.delete(e),_}var Xse=Wse,jse=wu,Jse=to,$se=jse(Jse,"DataView"),Kse=$se,Yse=wu,Qse=to,Zse=Yse(Qse,"Promise"),qse=Zse,eoe=wu,toe=to,noe=eoe(toe,"Set"),roe=noe,ioe=wu,soe=to,ooe=ioe(soe,"WeakMap"),aoe=ooe,iw=Kse,sw=qM,ow=qse,aw=roe,lw=aoe,Yk=Su,jf=Vk,PI="[object Map]",loe="[object Object]",BI="[object Promise]",II="[object Set]",LI="[object WeakMap]",DI="[object DataView]",uoe=jf(iw),coe=jf(sw),foe=jf(ow),hoe=jf(aw),doe=jf(lw),Ul=Yk;(iw&&Ul(new iw(new ArrayBuffer(1)))!=DI||sw&&Ul(new sw)!=PI||ow&&Ul(ow.resolve())!=BI||aw&&Ul(new aw)!=II||lw&&Ul(new lw)!=LI)&&(Ul=function(t){var e=Yk(t),n=e==loe?t.constructor:void 0,r=n?jf(n):"";if(r)switch(r){case uoe:return DI;case coe:return PI;case foe:return BI;case hoe:return II;case doe:return LI}return e});var Ly=Ul,H1=tb,poe=Wk,moe=Ese,goe=Xse,FI=Ly,OI=Ts,NI=XM,voe=Fk,yoe=1,UI="[object Arguments]",kI="[object Array]",i0="[object Object]",xoe=Object.prototype,GI=xoe.hasOwnProperty;function _oe(t,e,n,r,i,s){var o=OI(t),a=OI(e),l=o?kI:FI(t),u=a?kI:FI(e);l=l==UI?i0:l,u=u==UI?i0:u;var f=l==i0,d=u==i0,p=l==u;if(p&&NI(t)){if(!NI(e))return!1;o=!0,f=!1}if(p&&!f)return s||(s=new H1),o||voe(t)?poe(t,e,n,r,i,s):moe(t,e,l,n,r,i,s);if(!(n&yoe)){var m=f&&GI.call(t,"__wrapped__"),v=d&&GI.call(e,"__wrapped__");if(m||v){var _=m?t.value():t,y=v?e.value():e;return s||(s=new H1),i(_,y,n,r,s)}}return p?(s||(s=new H1),goe(t,e,n,r,i,s)):!1}var Aoe=_oe,Soe=Aoe,HI=Vo;function Qk(t,e,n,r,i){return t===e?!0:t==null||e==null||!HI(t)&&!HI(e)?t!==t&&e!==e:Soe(t,e,n,r,Qk,i)}var Zk=Qk,woe=tb,Eoe=Zk,Moe=1,boe=2;function Coe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],f=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new woe;if(r)var p=r(u,f,l,t,e,d);if(!(p===void 0?Eoe(f,u,Moe|boe,r,d):p))return!1}}return!0}var Toe=Coe,Roe=Hf;function Poe(t){return t===t&&!Roe(t)}var qk=Poe,Boe=qk,Ioe=Gp;function Loe(t){for(var e=Ioe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Boe(i)]}return e}var Doe=Loe;function Foe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var e4=Foe,Ooe=Toe,Noe=Doe,Uoe=e4;function koe(t){var e=Noe(t);return e.length==1&&e[0][2]?Uoe(e[0][0],e[0][1]):function(n){return n===t||Ooe(n,t,e)}}var Goe=koe,Hoe=Su,zoe=Vo,Voe="[object Symbol]";function Woe(t){return typeof t=="symbol"||zoe(t)&&Hoe(t)==Voe}var rb=Woe,Xoe=Ts,joe=rb,Joe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$oe=/^\w*$/;function Koe(t,e){if(Xoe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||joe(t)?!0:$oe.test(t)||!Joe.test(t)||e!=null&&t in Object(e)}var ib=Koe,t4=eb,Yoe="Expected a function";function sb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yoe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(sb.Cache||t4),n}sb.Cache=t4;var Qoe=sb,Zoe=Qoe,qoe=500;function eae(t){var e=Zoe(t,function(r){return n.size===qoe&&n.clear(),r}),n=e.cache;return e}var tae=eae,nae=tae,rae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iae=/\\(\\)?/g,sae=nae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rae,function(n,r,i,s){e.push(i?s.replace(iae,"$1"):r||n)}),e}),oae=sae,zI=kp,aae=zk,lae=Ts,uae=rb,cae=1/0,VI=zI?zI.prototype:void 0,WI=VI?VI.toString:void 0;function n4(t){if(typeof t=="string")return t;if(lae(t))return aae(t,n4)+"";if(uae(t))return WI?WI.call(t):"";var e=t+"";return e=="0"&&1/t==-cae?"-0":e}var fae=n4,hae=fae;function dae(t){return t==null?"":hae(t)}var pae=dae,mae=Ts,gae=ib,vae=oae,yae=pae;function xae(t,e){return mae(t)?t:gae(t,e)?[t]:vae(yae(t))}var r4=xae,_ae=rb,Aae=1/0;function Sae(t){if(typeof t=="string"||_ae(t))return t;var e=t+"";return e=="0"&&1/t==-Aae?"-0":e}var Dy=Sae,wae=r4,Eae=Dy;function Mae(t,e){e=wae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Eae(e[n++])];return n&&n==r?t:void 0}var i4=Mae,bae=i4;function Cae(t,e,n){var r=t==null?void 0:bae(t,e);return r===void 0?n:r}var Tae=Cae;function Rae(t,e){return t!=null&&e in Object(t)}var Pae=Rae,Bae=r4,Iae=Lk,Lae=Ts,Dae=Dk,Fae=jM,Oae=Dy;function Nae(t,e,n){e=Bae(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Oae(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Fae(i)&&Dae(o,i)&&(Lae(t)||Iae(t)))}var Uae=Nae,kae=Pae,Gae=Uae;function Hae(t,e){return t!=null&&Gae(t,e,kae)}var zae=Hae,Vae=Zk,Wae=Tae,Xae=zae,jae=ib,Jae=qk,$ae=e4,Kae=Dy,Yae=1,Qae=2;function Zae(t,e){return jae(t)&&Jae(e)?$ae(Kae(t),e):function(n){var r=Wae(n,t);return r===void 0&&r===e?Xae(n,t):Vae(e,r,Yae|Qae)}}var qae=Zae;function ele(t){return function(e){return e==null?void 0:e[t]}}var tle=ele,nle=i4;function rle(t){return function(e){return nle(e,t)}}var ile=rle,sle=tle,ole=ile,ale=ib,lle=Dy;function ule(t){return ale(t)?sle(lle(t)):ole(t)}var cle=ule,fle=Goe,hle=qae,dle=Gk,ple=Ts,mle=cle;function gle(t){return typeof t=="function"?t:t==null?dle:typeof t=="object"?ple(t)?hle(t[0],t[1]):fle(t):mle(t)}var vle=gle,yle=Ty;function xle(t,e){return function(n,r){if(n==null)return n;if(!yle(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var _le=xle,Ale=kk,Sle=_le,wle=Sle(Ale),Ele=wle,Mle=Ele,ble=Ty;function Cle(t,e){var n=-1,r=ble(t)?Array(t.length):[];return Mle(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Tle=Cle,Rle=zk,Ple=vle,Ble=Tle,Ile=Ts;function Lle(t,e){var n=Ile(t)?Rle:Ble;return n(t,Ple(e))}var Dle=Lle;Object.defineProperty(Up,"__esModule",{value:!0});Up.flattenNames=void 0;var Fle=uee,Ole=Fy(Fle),Nle=YM,Ule=Fy(Nle),kle=mne,Gle=Fy(kle),Hle=Dle,zle=Fy(Hle);function Fy(t){return t&&t.__esModule?t:{default:t}}var Vle=Up.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,zle.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Gle.default)(r)?(0,Ule.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,Ole.default)(r)&&n.push(r)}),n};Up.default=Vle;var Hp={};function Wle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Xle=Wle,jle=wu,Jle=function(){try{var t=jle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$le=Jle,XI=$le;function Kle(t,e,n){e=="__proto__"&&XI?XI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var s4=Kle,Yle=s4,Qle=ZM,Zle=Object.prototype,qle=Zle.hasOwnProperty;function eue(t,e,n){var r=t[e];(!(qle.call(t,e)&&Qle(r,n))||n===void 0&&!(e in t))&&Yle(t,e,n)}var o4=eue,tue=o4,nue=s4;function rue(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?nue(n,a,l):tue(n,a,l)}return n}var Oy=rue,iue=Oy,sue=Gp;function oue(t,e){return t&&iue(e,sue(e),t)}var aue=oue;function lue(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var uue=lue,cue=Hf,fue=KM,hue=uue,due=Object.prototype,pue=due.hasOwnProperty;function mue(t){if(!cue(t))return hue(t);var e=fue(t),n=[];for(var r in t)r=="constructor"&&(e||!pue.call(t,r))||n.push(r);return n}var gue=mue,vue=Ok,yue=gue,xue=Ty;function _ue(t){return xue(t)?vue(t,!0):yue(t)}var ob=_ue,Aue=Oy,Sue=ob;function wue(t,e){return t&&Aue(e,Sue(e),t)}var Eue=wue,Ev={exports:{}};Ev.exports;(function(t,e){var n=to,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,f){if(f)return u.slice();var d=u.length,p=a?a(d):new u.constructor(d);return u.copy(p),p}t.exports=l})(Ev,Ev.exports);var Mue=Ev.exports;function bue(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Cue=bue,Tue=Oy,Rue=nb;function Pue(t,e){return Tue(t,Rue(t),e)}var Bue=Pue,Iue=jk,Lue=QM,Due=nb,Fue=$k,Oue=Object.getOwnPropertySymbols,Nue=Oue?function(t){for(var e=[];t;)Iue(e,Due(t)),t=Lue(t);return e}:Fue,a4=Nue,Uue=Oy,kue=a4;function Gue(t,e){return Uue(t,kue(t),e)}var Hue=Gue,zue=Jk,Vue=a4,Wue=ob;function Xue(t){return zue(t,Wue,Vue)}var jue=Xue,Jue=Object.prototype,$ue=Jue.hasOwnProperty;function Kue(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&$ue.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Yue=Kue,jI=Xk;function Que(t){var e=new t.constructor(t.byteLength);return new jI(e).set(new jI(t)),e}var ab=Que,Zue=ab;function que(t,e){var n=e?Zue(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ece=que,tce=/\w*$/;function nce(t){var e=new t.constructor(t.source,tce.exec(t));return e.lastIndex=t.lastIndex,e}var rce=nce,JI=kp,$I=JI?JI.prototype:void 0,KI=$I?$I.valueOf:void 0;function ice(t){return KI?Object(KI.call(t)):{}}var sce=ice,oce=ab;function ace(t,e){var n=e?oce(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var lce=ace,uce=ab,cce=ece,fce=rce,hce=sce,dce=lce,pce="[object Boolean]",mce="[object Date]",gce="[object Map]",vce="[object Number]",yce="[object RegExp]",xce="[object Set]",_ce="[object String]",Ace="[object Symbol]",Sce="[object ArrayBuffer]",wce="[object DataView]",Ece="[object Float32Array]",Mce="[object Float64Array]",bce="[object Int8Array]",Cce="[object Int16Array]",Tce="[object Int32Array]",Rce="[object Uint8Array]",Pce="[object Uint8ClampedArray]",Bce="[object Uint16Array]",Ice="[object Uint32Array]";function Lce(t,e,n){var r=t.constructor;switch(e){case Sce:return uce(t);case pce:case mce:return new r(+t);case wce:return cce(t,n);case Ece:case Mce:case bce:case Cce:case Tce:case Rce:case Pce:case Bce:case Ice:return dce(t,n);case gce:return new r;case vce:case _ce:return new r(t);case yce:return fce(t);case xce:return new r;case Ace:return hce(t)}}var Dce=Lce,Fce=Hf,YI=Object.create,Oce=function(){function t(){}return function(e){if(!Fce(e))return{};if(YI)return YI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Nce=Oce,Uce=Nce,kce=QM,Gce=KM;function Hce(t){return typeof t.constructor=="function"&&!Gce(t)?Uce(kce(t)):{}}var zce=Hce,Vce=Ly,Wce=Vo,Xce="[object Map]";function jce(t){return Wce(t)&&Vce(t)==Xce}var Jce=jce,$ce=Jce,Kce=JM,QI=$M,ZI=QI&&QI.isMap,Yce=ZI?Kce(ZI):$ce,Qce=Yce,Zce=Ly,qce=Vo,efe="[object Set]";function tfe(t){return qce(t)&&Zce(t)==efe}var nfe=tfe,rfe=nfe,ife=JM,qI=$M,eL=qI&&qI.isSet,sfe=eL?ife(eL):rfe,ofe=sfe,afe=tb,lfe=Xle,ufe=o4,cfe=aue,ffe=Eue,hfe=Mue,dfe=Cue,pfe=Bue,mfe=Hue,gfe=Kk,vfe=jue,yfe=Ly,xfe=Yue,_fe=Dce,Afe=zce,Sfe=Ts,wfe=XM,Efe=Qce,Mfe=Hf,bfe=ofe,Cfe=Gp,Tfe=ob,Rfe=1,Pfe=2,Bfe=4,l4="[object Arguments]",Ife="[object Array]",Lfe="[object Boolean]",Dfe="[object Date]",Ffe="[object Error]",u4="[object Function]",Ofe="[object GeneratorFunction]",Nfe="[object Map]",Ufe="[object Number]",c4="[object Object]",kfe="[object RegExp]",Gfe="[object Set]",Hfe="[object String]",zfe="[object Symbol]",Vfe="[object WeakMap]",Wfe="[object ArrayBuffer]",Xfe="[object DataView]",jfe="[object Float32Array]",Jfe="[object Float64Array]",$fe="[object Int8Array]",Kfe="[object Int16Array]",Yfe="[object Int32Array]",Qfe="[object Uint8Array]",Zfe="[object Uint8ClampedArray]",qfe="[object Uint16Array]",ehe="[object Uint32Array]",fn={};fn[l4]=fn[Ife]=fn[Wfe]=fn[Xfe]=fn[Lfe]=fn[Dfe]=fn[jfe]=fn[Jfe]=fn[$fe]=fn[Kfe]=fn[Yfe]=fn[Nfe]=fn[Ufe]=fn[c4]=fn[kfe]=fn[Gfe]=fn[Hfe]=fn[zfe]=fn[Qfe]=fn[Zfe]=fn[qfe]=fn[ehe]=!0;fn[Ffe]=fn[u4]=fn[Vfe]=!1;function B0(t,e,n,r,i,s){var o,a=e&Rfe,l=e&Pfe,u=e&Bfe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Mfe(t))return t;var f=Sfe(t);if(f){if(o=xfe(t),!a)return dfe(t,o)}else{var d=yfe(t),p=d==u4||d==Ofe;if(wfe(t))return hfe(t,a);if(d==c4||d==l4||p&&!i){if(o=l||p?{}:Afe(t),!a)return l?mfe(t,ffe(o,t)):pfe(t,cfe(o,t))}else{if(!fn[d])return i?t:{};o=_fe(t,d,a)}}s||(s=new afe);var m=s.get(t);if(m)return m;s.set(t,o),bfe(t)?t.forEach(function(y){o.add(B0(y,e,n,y,t,s))}):Efe(t)&&t.forEach(function(y,g){o.set(g,B0(y,e,n,g,t,s))});var v=u?l?vfe:gfe:l?Tfe:Cfe,_=f?void 0:v(t);return lfe(_||t,function(y,g){_&&(g=y,y=t[g]),ufe(o,g,B0(y,e,n,g,t,s))}),o}var the=B0,nhe=the,rhe=1,ihe=4;function she(t){return nhe(t,rhe|ihe)}var ohe=she;Object.defineProperty(Hp,"__esModule",{value:!0});Hp.mergeClasses=void 0;var ahe=YM,lhe=f4(ahe),uhe=ohe,che=f4(uhe),fhe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function f4(t){return t&&t.__esModule?t:{default:t}}var hhe=Hp.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,che.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,lhe.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=fhe({},r[a],s[a])}),i}),r};Hp.default=hhe;var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.autoprefix=void 0;var dhe=YM,tL=mhe(dhe),phe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function mhe(t){return t&&t.__esModule?t:{default:t}}var ghe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},vhe=zp.autoprefix=function(e){var n={};return(0,tL.default)(e,function(r,i){var s={};(0,tL.default)(r,function(o,a){var l=ghe[a];l?s=phe({},s,l(o)):s[a]=o}),n[i]=s}),n};zp.default=vhe;var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.hover=void 0;var yhe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xhe=j,z1=_he(xhe);function _he(t){return t&&t.__esModule?t:{default:t}}function Ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function She(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var whe=Vp.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){She(i,r);function i(){var s,o,a,l;Ahe(this,i);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return l=(o=(a=nL(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(f))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return z1.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},z1.default.createElement(e,yhe({},a.props,a.state)))},o),nL(a,l)}return i}(z1.default.Component)};Vp.default=whe;var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.active=void 0;var Ehe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mhe=j,V1=bhe(Mhe);function bhe(t){return t&&t.__esModule?t:{default:t}}function Che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function The(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rhe=Wp.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){The(i,r);function i(){var s,o,a,l;Che(this,i);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return l=(o=(a=rL(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(f))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return V1.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},V1.default.createElement(e,Ehe({},a.props,a.state)))},o),rL(a,l)}return i}(V1.default.Component)};Wp.default=Rhe;var lb={};Object.defineProperty(lb,"__esModule",{value:!0});var Phe=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};lb.default=Phe;Object.defineProperty(es,"__esModule",{value:!0});es.ReactCSS=es.loop=es.handleActive=ub=es.handleHover=es.hover=void 0;var Bhe=Up,Ihe=Jf(Bhe),Lhe=Hp,Dhe=Jf(Lhe),Fhe=zp,Ohe=Jf(Fhe),Nhe=Vp,h4=Jf(Nhe),Uhe=Wp,khe=Jf(Uhe),Ghe=lb,Hhe=Jf(Ghe);function Jf(t){return t&&t.__esModule?t:{default:t}}es.hover=h4.default;var ub=es.handleHover=h4.default;es.handleActive=khe.default;es.loop=Hhe.default;var zhe=es.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,Ihe.default)(r),o=(0,Dhe.default)(e,s);return(0,Ohe.default)(o)},Mt=es.default=zhe,Vhe=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,f=l-(s.getBoundingClientRect().left+window.pageXOffset),d=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(d<0?p=0:d>a?p=1:p=Math.round(d*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(f<0?m=0:f>o?m=1:m=Math.round(f*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},W1={},Whe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Xhe=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(W1[s])return W1[s];var o=Whe(e,n,r,i);return W1[s]=o,o},iL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=Mt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Xhe(n,r,i,s.canvas)+") center left"}}});return j.isValidElement(l)?O.cloneElement(l,iL({},l.props,{style:iL({},l.props.style,u.grid)})):O.createElement("div",{style:u.grid})};$f.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var jhe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jhe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cb=function(t){Khe(e,t);function e(){var n,r,i,s;$he(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=sL(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var f=Vhe(u,i.props.hsl,i.props.direction,i.props.a,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),sL(i,s)}return Jhe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=Mt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:jhe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return O.createElement("div",{style:s.alpha},O.createElement("div",{style:s.checkboard},O.createElement($f,{renderers:this.props.renderers})),O.createElement("div",{style:s.gradient}),O.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("div",{style:s.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:s.slider}))))}}]),e}(j.PureComponent||j.Component),Yhe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qhe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qhe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tde=1,d4=38,nde=40,rde=[d4,nde],ide=function(e){return rde.indexOf(e)>-1},sde=function(e){return Number(String(e).replace(/%/g,""))},ode=1,Wt=function(t){ede(e,t);function e(n){Zhe(this,e);var r=qhe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=sde(i.target.value);if(!isNaN(s)&&ide(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===d4?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+ode++,r}return Yhe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Qhe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||tde}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Mt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return O.createElement("div",{style:i.wrap},O.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?O.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(j.PureComponent||j.Component),ade=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),f=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(f<0)d=359;else if(f>o)d=0;else{var p=-(f*100/o)+100;d=360*p/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(u<0)m=0;else if(u>s)m=359;else{var v=u*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},lde=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kf=function(t){cde(e,t);function e(){var n,r,i,s;ude(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=oL(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var f=ade(u,i.props.direction,i.props.hsl,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),oL(i,s)}return lde(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=Mt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return O.createElement("div",{style:o.hue},O.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),O.createElement("div",{style:o.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:o.slider}))))}}]),e}(j.PureComponent||j.Component);function fde(){this.__data__=[],this.size=0}function Xp(t,e){return t===e||t!==t&&e!==e}function Ny(t,e){for(var n=t.length;n--;)if(Xp(t[n][0],e))return n;return-1}var hde=Array.prototype,dde=hde.splice;function pde(t){var e=this.__data__,n=Ny(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dde.call(e,n,1),--this.size,!0}function mde(t){var e=this.__data__,n=Ny(e,t);return n<0?void 0:e[n][1]}function gde(t){return Ny(this.__data__,t)>-1}function vde(t,e){var n=this.__data__,r=Ny(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Wo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wo.prototype.clear=fde;Wo.prototype.delete=pde;Wo.prototype.get=mde;Wo.prototype.has=gde;Wo.prototype.set=vde;function yde(){this.__data__=new Wo,this.size=0}function xde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function _de(t){return this.__data__.get(t)}function Ade(t){return this.__data__.has(t)}var p4=typeof global=="object"&&global&&global.Object===Object&&global,Sde=typeof self=="object"&&self&&self.Object===Object&&self,Rs=p4||Sde||Function("return this")(),Ka=Rs.Symbol,m4=Object.prototype,wde=m4.hasOwnProperty,Ede=m4.toString,$h=Ka?Ka.toStringTag:void 0;function Mde(t){var e=wde.call(t,$h),n=t[$h];try{t[$h]=void 0;var r=!0}catch{}var i=Ede.call(t);return r&&(e?t[$h]=n:delete t[$h]),i}var bde=Object.prototype,Cde=bde.toString;function Tde(t){return Cde.call(t)}var Rde="[object Null]",Pde="[object Undefined]",aL=Ka?Ka.toStringTag:void 0;function Eu(t){return t==null?t===void 0?Pde:Rde:aL&&aL in Object(t)?Mde(t):Tde(t)}function os(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bde="[object AsyncFunction]",Ide="[object Function]",Lde="[object GeneratorFunction]",Dde="[object Proxy]";function fb(t){if(!os(t))return!1;var e=Eu(t);return e==Ide||e==Lde||e==Bde||e==Dde}var X1=Rs["__core-js_shared__"],lL=function(){var t=/[^.]+$/.exec(X1&&X1.keys&&X1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Fde(t){return!!lL&&lL in t}var Ode=Function.prototype,Nde=Ode.toString;function Mu(t){if(t!=null){try{return Nde.call(t)}catch{}try{return t+""}catch{}}return""}var Ude=/[\\^$.*+?()[\]{}|]/g,kde=/^\[object .+?Constructor\]$/,Gde=Function.prototype,Hde=Object.prototype,zde=Gde.toString,Vde=Hde.hasOwnProperty,Wde=RegExp("^"+zde.call(Vde).replace(Ude,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xde(t){if(!os(t)||Fde(t))return!1;var e=fb(t)?Wde:kde;return e.test(Mu(t))}function jde(t,e){return t==null?void 0:t[e]}function bu(t,e){var n=jde(t,e);return Xde(n)?n:void 0}var fp=bu(Rs,"Map"),hp=bu(Object,"create");function Jde(){this.__data__=hp?hp(null):{},this.size=0}function $de(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Kde="__lodash_hash_undefined__",Yde=Object.prototype,Qde=Yde.hasOwnProperty;function Zde(t){var e=this.__data__;if(hp){var n=e[t];return n===Kde?void 0:n}return Qde.call(e,t)?e[t]:void 0}var qde=Object.prototype,epe=qde.hasOwnProperty;function tpe(t){var e=this.__data__;return hp?e[t]!==void 0:epe.call(e,t)}var npe="__lodash_hash_undefined__";function rpe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hp&&e===void 0?npe:e,this}function hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hu.prototype.clear=Jde;hu.prototype.delete=$de;hu.prototype.get=Zde;hu.prototype.has=tpe;hu.prototype.set=rpe;function ipe(){this.size=0,this.__data__={hash:new hu,map:new(fp||Wo),string:new hu}}function spe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Uy(t,e){var n=t.__data__;return spe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ope(t){var e=Uy(this,t).delete(t);return this.size-=e?1:0,e}function ape(t){return Uy(this,t).get(t)}function lpe(t){return Uy(this,t).has(t)}function upe(t,e){var n=Uy(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=ipe;Xo.prototype.delete=ope;Xo.prototype.get=ape;Xo.prototype.has=lpe;Xo.prototype.set=upe;var cpe=200;function fpe(t,e){var n=this.__data__;if(n instanceof Wo){var r=n.__data__;if(!fp||r.length<cpe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xo(r)}return n.set(t,e),this.size=n.size,this}function Qs(t){var e=this.__data__=new Wo(t);this.size=e.size}Qs.prototype.clear=yde;Qs.prototype.delete=xde;Qs.prototype.get=_de;Qs.prototype.has=Ade;Qs.prototype.set=fpe;var Mv=function(){try{var t=bu(Object,"defineProperty");return t({},"",{}),t}catch{}}();function hb(t,e,n){e=="__proto__"&&Mv?Mv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function uw(t,e,n){(n!==void 0&&!Xp(t[e],n)||n===void 0&&!(e in t))&&hb(t,e,n)}function hpe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var g4=hpe(),v4=typeof Si=="object"&&Si&&!Si.nodeType&&Si,uL=v4&&typeof wi=="object"&&wi&&!wi.nodeType&&wi,dpe=uL&&uL.exports===v4,cL=dpe?Rs.Buffer:void 0,fL=cL?cL.allocUnsafe:void 0;function ppe(t,e){if(e)return t.slice();var n=t.length,r=fL?fL(n):new t.constructor(n);return t.copy(r),r}var bv=Rs.Uint8Array;function mpe(t){var e=new t.constructor(t.byteLength);return new bv(e).set(new bv(t)),e}function gpe(t,e){var n=e?mpe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vpe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var hL=Object.create,ype=function(){function t(){}return function(e){if(!os(e))return{};if(hL)return hL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function y4(t,e){return function(n){return t(e(n))}}var xpe=y4(Object.getPrototypeOf,Object);const x4=xpe;var _pe=Object.prototype;function db(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||_pe;return t===n}function Ape(t){return typeof t.constructor=="function"&&!db(t)?ype(x4(t)):{}}function Ya(t){return t!=null&&typeof t=="object"}var Spe="[object Arguments]";function dL(t){return Ya(t)&&Eu(t)==Spe}var _4=Object.prototype,wpe=_4.hasOwnProperty,Epe=_4.propertyIsEnumerable,Mpe=dL(function(){return arguments}())?dL:function(t){return Ya(t)&&wpe.call(t,"callee")&&!Epe.call(t,"callee")};const Cv=Mpe;var Bi=Array.isArray,bpe=9007199254740991;function pb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bpe}function Yf(t){return t!=null&&pb(t.length)&&!fb(t)}function Cpe(t){return Ya(t)&&Yf(t)}function Tpe(){return!1}var A4=typeof Si=="object"&&Si&&!Si.nodeType&&Si,pL=A4&&typeof wi=="object"&&wi&&!wi.nodeType&&wi,Rpe=pL&&pL.exports===A4,mL=Rpe?Rs.Buffer:void 0,Ppe=mL?mL.isBuffer:void 0,Tv=Ppe||Tpe,Bpe="[object Object]",Ipe=Function.prototype,Lpe=Object.prototype,S4=Ipe.toString,Dpe=Lpe.hasOwnProperty,Fpe=S4.call(Object);function Ope(t){if(!Ya(t)||Eu(t)!=Bpe)return!1;var e=x4(t);if(e===null)return!0;var n=Dpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&S4.call(n)==Fpe}var Npe="[object Arguments]",Upe="[object Array]",kpe="[object Boolean]",Gpe="[object Date]",Hpe="[object Error]",zpe="[object Function]",Vpe="[object Map]",Wpe="[object Number]",Xpe="[object Object]",jpe="[object RegExp]",Jpe="[object Set]",$pe="[object String]",Kpe="[object WeakMap]",Ype="[object ArrayBuffer]",Qpe="[object DataView]",Zpe="[object Float32Array]",qpe="[object Float64Array]",eme="[object Int8Array]",tme="[object Int16Array]",nme="[object Int32Array]",rme="[object Uint8Array]",ime="[object Uint8ClampedArray]",sme="[object Uint16Array]",ome="[object Uint32Array]",vn={};vn[Zpe]=vn[qpe]=vn[eme]=vn[tme]=vn[nme]=vn[rme]=vn[ime]=vn[sme]=vn[ome]=!0;vn[Npe]=vn[Upe]=vn[Ype]=vn[kpe]=vn[Qpe]=vn[Gpe]=vn[Hpe]=vn[zpe]=vn[Vpe]=vn[Wpe]=vn[Xpe]=vn[jpe]=vn[Jpe]=vn[$pe]=vn[Kpe]=!1;function ame(t){return Ya(t)&&pb(t.length)&&!!vn[Eu(t)]}function lme(t){return function(e){return t(e)}}var w4=typeof Si=="object"&&Si&&!Si.nodeType&&Si,bd=w4&&typeof wi=="object"&&wi&&!wi.nodeType&&wi,ume=bd&&bd.exports===w4,j1=ume&&p4.process,gL=function(){try{var t=bd&&bd.require&&bd.require("util").types;return t||j1&&j1.binding&&j1.binding("util")}catch{}}(),vL=gL&&gL.isTypedArray,mb=vL?lme(vL):ame;function cw(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var cme=Object.prototype,fme=cme.hasOwnProperty;function hme(t,e,n){var r=t[e];(!(fme.call(t,e)&&Xp(r,n))||n===void 0&&!(e in t))&&hb(t,e,n)}function dme(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?hb(n,a,l):hme(n,a,l)}return n}function pme(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mme=9007199254740991,gme=/^(?:0|[1-9]\d*)$/;function gb(t,e){var n=typeof t;return e=e??mme,!!e&&(n=="number"||n!="symbol"&&gme.test(t))&&t>-1&&t%1==0&&t<e}var vme=Object.prototype,yme=vme.hasOwnProperty;function E4(t,e){var n=Bi(t),r=!n&&Cv(t),i=!n&&!r&&Tv(t),s=!n&&!r&&!i&&mb(t),o=n||r||i||s,a=o?pme(t.length,String):[],l=a.length;for(var u in t)(e||yme.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gb(u,l)))&&a.push(u);return a}function xme(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _me=Object.prototype,Ame=_me.hasOwnProperty;function Sme(t){if(!os(t))return xme(t);var e=db(t),n=[];for(var r in t)r=="constructor"&&(e||!Ame.call(t,r))||n.push(r);return n}function M4(t){return Yf(t)?E4(t,!0):Sme(t)}function wme(t){return dme(t,M4(t))}function Eme(t,e,n,r,i,s,o){var a=cw(t,n),l=cw(e,n),u=o.get(l);if(u){uw(t,n,u);return}var f=s?s(a,l,n+"",t,e,o):void 0,d=f===void 0;if(d){var p=Bi(l),m=!p&&Tv(l),v=!p&&!m&&mb(l);f=l,p||m||v?Bi(a)?f=a:Cpe(a)?f=vpe(a):m?(d=!1,f=ppe(l,!0)):v?(d=!1,f=gpe(l,!0)):f=[]:Ope(l)||Cv(l)?(f=a,Cv(a)?f=wme(a):(!os(a)||fb(a))&&(f=Ape(l))):d=!1}d&&(o.set(l,f),i(f,l,r,s,o),o.delete(l)),uw(t,n,f)}function b4(t,e,n,r,i){t!==e&&g4(e,function(s,o){if(i||(i=new Qs),os(s))Eme(t,e,o,n,b4,r,i);else{var a=r?r(cw(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),uw(t,o,a)}},M4)}function ky(t){return t}function Mme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var yL=Math.max;function bme(t,e,n){return e=yL(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=yL(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Mme(t,this,a)}}function Cme(t){return function(){return t}}var Tme=Mv?function(t,e){return Mv(t,"toString",{configurable:!0,enumerable:!1,value:Cme(e),writable:!0})}:ky;const Rme=Tme;var Pme=800,Bme=16,Ime=Date.now;function Lme(t){var e=0,n=0;return function(){var r=Ime(),i=Bme-(r-n);if(n=r,i>0){if(++e>=Pme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Dme=Lme(Rme);function Fme(t,e){return Dme(bme(t,e,ky),t+"")}function Ome(t,e,n){if(!os(n))return!1;var r=typeof e;return(r=="number"?Yf(n)&&gb(e,n.length):r=="string"&&e in n)?Xp(n[e],t):!1}function Nme(t){return Fme(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Ome(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var ui=Nme(function(t,e,n){b4(t,e,n)}),jp=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=Mt(ui({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return O.createElement("div",{style:l.wrap},O.createElement("div",{style:l.bg}),O.createElement("div",{style:l.content},s))};jp.propTypes={background:Ge.string,zDepth:Ge.oneOf([0,1,2,3,4,5]),radius:Ge.number,styles:Ge.object};jp.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var J1=function(){return Rs.Date.now()},Ume=/\s/;function kme(t){for(var e=t.length;e--&&Ume.test(t.charAt(e)););return e}var Gme=/^\s+/;function Hme(t){return t&&t.slice(0,kme(t)+1).replace(Gme,"")}var zme="[object Symbol]";function Gy(t){return typeof t=="symbol"||Ya(t)&&Eu(t)==zme}var xL=NaN,Vme=/^[-+]0x[0-9a-f]+$/i,Wme=/^0b[01]+$/i,Xme=/^0o[0-7]+$/i,jme=parseInt;function _L(t){if(typeof t=="number")return t;if(Gy(t))return xL;if(os(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=os(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hme(t);var n=Wme.test(t);return n||Xme.test(t)?jme(t.slice(2),n?2:8):Vme.test(t)?xL:+t}var Jme="Expected a function",$me=Math.max,Kme=Math.min;function C4(t,e,n){var r,i,s,o,a,l,u=0,f=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(Jme);e=_L(e)||0,os(n)&&(f=!!n.leading,d="maxWait"in n,s=d?$me(_L(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(C){var P=r,L=i;return r=i=void 0,u=C,o=t.apply(L,P),o}function v(C){return u=C,a=setTimeout(g,e),f?m(C):o}function _(C){var P=C-l,L=C-u,N=e-P;return d?Kme(N,s-L):N}function y(C){var P=C-l,L=C-u;return l===void 0||P>=e||P<0||d&&L>=s}function g(){var C=J1();if(y(C))return S(C);a=setTimeout(g,_(C))}function S(C){return a=void 0,p&&r?m(C):(r=i=void 0,o)}function A(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:S(J1())}function T(){var C=J1(),P=y(C);if(r=arguments,i=this,l=C,P){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return T.cancel=A,T.flush=E,T}var Yme="Expected a function";function Qme(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Yme);return os(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),C4(t,e,{leading:r,maxWait:e,trailing:i})}var Zme=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),f=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),f<0?f=0:f>o&&(f=o);var d=u/s,p=1-f/o;return{h:n.h,s:d,v:p,a:n.a,source:"hsv"}},qme=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ege(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hy=function(t){nge(e,t);function e(n){ege(this,e);var r=tge(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Zme(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=Qme(function(i,s,o){i(s,o)},50),r}return qme(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,f=Mt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return O.createElement("div",{style:f.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),O.createElement("div",{style:f.white,className:"saturation-white"},O.createElement("div",{style:f.black,className:"saturation-black"}),O.createElement("div",{style:f.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:f.circle}))))}}]),e}(j.PureComponent||j.Component);function rge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var ige=y4(Object.keys,Object),sge=Object.prototype,oge=sge.hasOwnProperty;function age(t){if(!db(t))return ige(t);var e=[];for(var n in Object(t))oge.call(t,n)&&n!="constructor"&&e.push(n);return e}function vb(t){return Yf(t)?E4(t):age(t)}function lge(t,e){return t&&g4(t,e,vb)}function uge(t,e){return function(n,r){if(n==null)return n;if(!Yf(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var cge=uge(lge);const T4=cge;function fge(t){return typeof t=="function"?t:ky}function hge(t,e){var n=Bi(t)?rge:T4;return n(t,fge(e))}function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}var dge=/^\s+/,pge=/\s+$/;function lt(t,e){if(t=t||"",e=e||{},t instanceof lt)return t;if(!(this instanceof lt))return new lt(t,e);var n=mge(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}lt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=R4(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=SL(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=SL(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=AL(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=AL(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return wL(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return xge(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wn(this._r,255)*100)+"%",g:Math.round(wn(this._g,255)*100)+"%",b:Math.round(wn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wn(this._r,255)*100)+"%, "+Math.round(wn(this._g,255)*100)+"%, "+Math.round(wn(this._b,255)*100)+"%)":"rgba("+Math.round(wn(this._r,255)*100)+"%, "+Math.round(wn(this._g,255)*100)+"%, "+Math.round(wn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Bge[wL(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+EL(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=lt(e);r="#"+EL(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return lt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(wge,arguments)},brighten:function(){return this._applyModification(Ege,arguments)},darken:function(){return this._applyModification(Mge,arguments)},desaturate:function(){return this._applyModification(_ge,arguments)},saturate:function(){return this._applyModification(Age,arguments)},greyscale:function(){return this._applyModification(Sge,arguments)},spin:function(){return this._applyModification(bge,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Rge,arguments)},complement:function(){return this._applyCombination(Cge,arguments)},monochromatic:function(){return this._applyCombination(Pge,arguments)},splitcomplement:function(){return this._applyCombination(Tge,arguments)},triad:function(){return this._applyCombination(ML,[3])},tetrad:function(){return this._applyCombination(ML,[4])}};lt.fromRatio=function(t,e){if(Rv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=rd(t[r]));t=n}return lt(t,e)};function mge(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Fge(t)),Rv(t)=="object"&&(go(t.r)&&go(t.g)&&go(t.b)?(e=gge(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):go(t.h)&&go(t.s)&&go(t.v)?(r=rd(t.s),i=rd(t.v),e=yge(t.h,r,i),o=!0,a="hsv"):go(t.h)&&go(t.s)&&go(t.l)&&(r=rd(t.s),s=rd(t.l),e=vge(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=R4(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function gge(t,e,n){return{r:wn(t,255)*255,g:wn(e,255)*255,b:wn(n,255)*255}}function AL(t,e,n){t=wn(t,255),e=wn(e,255),n=wn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function vge(t,e,n){var r,i,s;t=wn(t,360),e=wn(e,100),n=wn(n,100);function o(u,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(f-u)*6*d:d<1/2?f:d<2/3?u+(f-u)*(2/3-d)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function SL(t,e,n){t=wn(t,255),e=wn(e,255),n=wn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function yge(t,e,n){t=wn(t,360)*6,e=wn(e,100),n=wn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],f=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:u*255,g:f*255,b:d*255}}function wL(t,e,n,r){var i=[As(Math.round(t).toString(16)),As(Math.round(e).toString(16)),As(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function xge(t,e,n,r,i){var s=[As(Math.round(t).toString(16)),As(Math.round(e).toString(16)),As(Math.round(n).toString(16)),As(P4(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function EL(t,e,n,r){var i=[As(P4(r)),As(Math.round(t).toString(16)),As(Math.round(e).toString(16)),As(Math.round(n).toString(16))];return i.join("")}lt.equals=function(t,e){return!t||!e?!1:lt(t).toRgbString()==lt(e).toRgbString()};lt.random=function(){return lt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _ge(t,e){e=e===0?0:e||10;var n=lt(t).toHsl();return n.s-=e/100,n.s=zy(n.s),lt(n)}function Age(t,e){e=e===0?0:e||10;var n=lt(t).toHsl();return n.s+=e/100,n.s=zy(n.s),lt(n)}function Sge(t){return lt(t).desaturate(100)}function wge(t,e){e=e===0?0:e||10;var n=lt(t).toHsl();return n.l+=e/100,n.l=zy(n.l),lt(n)}function Ege(t,e){e=e===0?0:e||10;var n=lt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),lt(n)}function Mge(t,e){e=e===0?0:e||10;var n=lt(t).toHsl();return n.l-=e/100,n.l=zy(n.l),lt(n)}function bge(t,e){var n=lt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,lt(n)}function Cge(t){var e=lt(t).toHsl();return e.h=(e.h+180)%360,lt(e)}function ML(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=lt(t).toHsl(),r=[lt(t)],i=360/e,s=1;s<e;s++)r.push(lt({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Tge(t){var e=lt(t).toHsl(),n=e.h;return[lt(t),lt({h:(n+72)%360,s:e.s,l:e.l}),lt({h:(n+216)%360,s:e.s,l:e.l})]}function Rge(t,e,n){e=e||6,n=n||30;var r=lt(t).toHsl(),i=360/n,s=[lt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(lt(r));return s}function Pge(t,e){e=e||6;for(var n=lt(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(lt({h:r,s:i,v:s})),s=(s+a)%1;return o}lt.mix=function(t,e,n){n=n===0?0:n||50;var r=lt(t).toRgb(),i=lt(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return lt(o)};lt.readability=function(t,e){var n=lt(t),r=lt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};lt.isReadable=function(t,e,n){var r=lt.readability(t,e),i,s;switch(s=!1,i=Oge(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};lt.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=lt.readability(t,e[u]),s>i&&(i=s,r=lt(e[u]));return lt.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,lt.mostReadable(t,["#fff","#000"],n))};var fw=lt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Bge=lt.hexNames=Ige(fw);function Ige(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function R4(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function wn(t,e){Lge(t)&&(t="100%");var n=Dge(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function zy(t){return Math.min(1,Math.max(0,t))}function vi(t){return parseInt(t,16)}function Lge(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Dge(t){return typeof t=="string"&&t.indexOf("%")!=-1}function As(t){return t.length==1?"0"+t:""+t}function rd(t){return t<=1&&(t=t*100+"%"),t}function P4(t){return Math.round(parseFloat(t)*255).toString(16)}function bL(t){return vi(t)/255}var ms=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function go(t){return!!ms.CSS_UNIT.exec(t)}function Fge(t){t=t.replace(dge,"").replace(pge,"").toLowerCase();var e=!1;if(fw[t])t=fw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ms.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ms.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ms.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ms.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ms.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ms.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ms.hex8.exec(t))?{r:vi(n[1]),g:vi(n[2]),b:vi(n[3]),a:bL(n[4]),format:e?"name":"hex8"}:(n=ms.hex6.exec(t))?{r:vi(n[1]),g:vi(n[2]),b:vi(n[3]),format:e?"name":"hex"}:(n=ms.hex4.exec(t))?{r:vi(n[1]+""+n[1]),g:vi(n[2]+""+n[2]),b:vi(n[3]+""+n[3]),a:bL(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ms.hex3.exec(t))?{r:vi(n[1]+""+n[1]),g:vi(n[2]+""+n[2]),b:vi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Oge(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var CL=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return hge(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},id=function(e,n){var r=e.hex?lt(e.hex):lt(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},il=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&lt(e).isValid()},yb=function(e){if(!e)return"#fff";var n=id(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},$1=function(e,n){var r=e.replace("°","");return lt(n+" ("+r+")")._ok},Kh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ci=function(e){var n=function(r){Gge(i,r);function i(s){Uge(this,i);var o=kge(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=CL(a);if(u){var f=id(a,a.h||o.state.oldHue);o.setState(f),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,f,l),o.props.onChange&&o.props.onChange(f,l)}},o.handleSwatchHover=function(a,l){var u=CL(a);if(u){var f=id(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(f,l)}},o.state=Kh({},id(s.color,0)),o.debounce=C4(function(a,l,u){a(l,u)},100),o}return Nge(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),O.createElement(e,Kh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Kh({},id(o.color,a.oldHue))}}]),i}(j.PureComponent||j.Component);return n.propTypes=Kh({},e.propTypes),n.defaultProps=Kh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Hge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Vge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Wge(i,r);function i(){var s,o,a,l;Vge(this,i);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return l=(o=(a=TL(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(f))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),TL(a,l)}return zge(i,[{key:"render",value:function(){return O.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},O.createElement(e,Hge({},this.props,this.state)))}}]),i}(O.Component)},RL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jge=13,Jge=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,f=e.focus,d=e.focusStyle,p=d===void 0?{}:d,m=n==="transparent",v=Mt({default:{swatch:RL({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,f?p:{})}}),_=function(E){return s(n,E)},y=function(E){return E.keyCode===jge&&s(n,E)},g=function(E){return o(n,E)},S={};return o&&(S.onMouseOver=g),O.createElement("div",RL({style:v.swatch,onClick:_,title:l,tabIndex:0,onKeyDown:y},S),u,m&&O.createElement($f,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Cu=Xge(Jge);var $ge=function(e){var n=e.direction,r=Mt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return O.createElement("div",{style:r.picker})},Kge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B4=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,f=e.pointer,d=e.className,p=d===void 0?"":d,m=Mt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return O.createElement("div",{style:m.picker,className:"alpha-picker "+p},O.createElement(cb,Kge({},m.alpha,{rgb:n,hsl:r,pointer:f,renderers:u,onChange:o,direction:a})))};B4.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$ge};ci(B4);function I4(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Yge="__lodash_hash_undefined__";function Qge(t){return this.__data__.set(t,Yge),this}function Zge(t){return this.__data__.has(t)}function Pv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Xo;++e<n;)this.add(t[e])}Pv.prototype.add=Pv.prototype.push=Qge;Pv.prototype.has=Zge;function qge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function e0e(t,e){return t.has(e)}var t0e=1,n0e=2;function L4(t,e,n,r,i,s){var o=n&t0e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var d=-1,p=!0,m=n&n0e?new Pv:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],_=e[d];if(r)var y=o?r(_,v,d,e,t,s):r(v,_,d,t,e,s);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!qge(e,function(g,S){if(!e0e(m,S)&&(v===g||i(v,g,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(v===_||i(v,_,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function r0e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function i0e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var s0e=1,o0e=2,a0e="[object Boolean]",l0e="[object Date]",u0e="[object Error]",c0e="[object Map]",f0e="[object Number]",h0e="[object RegExp]",d0e="[object Set]",p0e="[object String]",m0e="[object Symbol]",g0e="[object ArrayBuffer]",v0e="[object DataView]",PL=Ka?Ka.prototype:void 0,K1=PL?PL.valueOf:void 0;function y0e(t,e,n,r,i,s,o){switch(n){case v0e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case g0e:return!(t.byteLength!=e.byteLength||!s(new bv(t),new bv(e)));case a0e:case l0e:case f0e:return Xp(+t,+e);case u0e:return t.name==e.name&&t.message==e.message;case h0e:case p0e:return t==e+"";case c0e:var a=r0e;case d0e:var l=r&s0e;if(a||(a=i0e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=o0e,o.set(t,e);var f=L4(a(t),a(e),r,i,s,o);return o.delete(t),f;case m0e:if(K1)return K1.call(t)==K1.call(e)}return!1}function x0e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function _0e(t,e,n){var r=e(t);return Bi(t)?r:x0e(r,n(t))}function A0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function S0e(){return[]}var w0e=Object.prototype,E0e=w0e.propertyIsEnumerable,BL=Object.getOwnPropertySymbols,M0e=BL?function(t){return t==null?[]:(t=Object(t),A0e(BL(t),function(e){return E0e.call(t,e)}))}:S0e;const b0e=M0e;function IL(t){return _0e(t,vb,b0e)}var C0e=1,T0e=Object.prototype,R0e=T0e.hasOwnProperty;function P0e(t,e,n,r,i,s){var o=n&C0e,a=IL(t),l=a.length,u=IL(e),f=u.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:R0e.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var _=!0;s.set(t,e),s.set(e,t);for(var y=o;++d<l;){p=a[d];var g=t[p],S=e[p];if(r)var A=o?r(S,g,p,e,t,s):r(g,S,p,t,e,s);if(!(A===void 0?g===S||i(g,S,n,r,s):A)){_=!1;break}y||(y=p=="constructor")}if(_&&!y){var E=t.constructor,T=e.constructor;E!=T&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(_=!1)}return s.delete(t),s.delete(e),_}var hw=bu(Rs,"DataView"),dw=bu(Rs,"Promise"),pw=bu(Rs,"Set"),mw=bu(Rs,"WeakMap"),LL="[object Map]",B0e="[object Object]",DL="[object Promise]",FL="[object Set]",OL="[object WeakMap]",NL="[object DataView]",I0e=Mu(hw),L0e=Mu(fp),D0e=Mu(dw),F0e=Mu(pw),O0e=Mu(mw),kl=Eu;(hw&&kl(new hw(new ArrayBuffer(1)))!=NL||fp&&kl(new fp)!=LL||dw&&kl(dw.resolve())!=DL||pw&&kl(new pw)!=FL||mw&&kl(new mw)!=OL)&&(kl=function(t){var e=Eu(t),n=e==B0e?t.constructor:void 0,r=n?Mu(n):"";if(r)switch(r){case I0e:return NL;case L0e:return LL;case D0e:return DL;case F0e:return FL;case O0e:return OL}return e});const UL=kl;var N0e=1,kL="[object Arguments]",GL="[object Array]",s0="[object Object]",U0e=Object.prototype,HL=U0e.hasOwnProperty;function k0e(t,e,n,r,i,s){var o=Bi(t),a=Bi(e),l=o?GL:UL(t),u=a?GL:UL(e);l=l==kL?s0:l,u=u==kL?s0:u;var f=l==s0,d=u==s0,p=l==u;if(p&&Tv(t)){if(!Tv(e))return!1;o=!0,f=!1}if(p&&!f)return s||(s=new Qs),o||mb(t)?L4(t,e,n,r,i,s):y0e(t,e,l,n,r,i,s);if(!(n&N0e)){var m=f&&HL.call(t,"__wrapped__"),v=d&&HL.call(e,"__wrapped__");if(m||v){var _=m?t.value():t,y=v?e.value():e;return s||(s=new Qs),i(_,y,n,r,s)}}return p?(s||(s=new Qs),P0e(t,e,n,r,i,s)):!1}function xb(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ya(t)&&!Ya(e)?t!==t&&e!==e:k0e(t,e,n,r,xb,i)}var G0e=1,H0e=2;function z0e(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],f=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Qs;if(r)var p=r(u,f,l,t,e,d);if(!(p===void 0?xb(f,u,G0e|H0e,r,d):p))return!1}}return!0}function D4(t){return t===t&&!os(t)}function V0e(t){for(var e=vb(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,D4(i)]}return e}function F4(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function W0e(t){var e=V0e(t);return e.length==1&&e[0][2]?F4(e[0][0],e[0][1]):function(n){return n===t||z0e(n,t,e)}}var X0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j0e=/^\w*$/;function _b(t,e){if(Bi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Gy(t)?!0:j0e.test(t)||!X0e.test(t)||e!=null&&t in Object(e)}var J0e="Expected a function";function Ab(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(J0e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Ab.Cache||Xo),n}Ab.Cache=Xo;var $0e=500;function K0e(t){var e=Ab(t,function(r){return n.size===$0e&&n.clear(),r}),n=e.cache;return e}var Y0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q0e=/\\(\\)?/g,Z0e=K0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Y0e,function(n,r,i,s){e.push(i?s.replace(Q0e,"$1"):r||n)}),e}),q0e=1/0,zL=Ka?Ka.prototype:void 0,VL=zL?zL.toString:void 0;function O4(t){if(typeof t=="string")return t;if(Bi(t))return I4(t,O4)+"";if(Gy(t))return VL?VL.call(t):"";var e=t+"";return e=="0"&&1/t==-q0e?"-0":e}function eve(t){return t==null?"":O4(t)}function N4(t,e){return Bi(t)?t:_b(t,e)?[t]:Z0e(eve(t))}var tve=1/0;function Vy(t){if(typeof t=="string"||Gy(t))return t;var e=t+"";return e=="0"&&1/t==-tve?"-0":e}function U4(t,e){e=N4(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Vy(e[n++])];return n&&n==r?t:void 0}function nve(t,e,n){var r=t==null?void 0:U4(t,e);return r===void 0?n:r}function rve(t,e){return t!=null&&e in Object(t)}function ive(t,e,n){e=N4(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Vy(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&pb(i)&&gb(o,i)&&(Bi(t)||Cv(t)))}function sve(t,e){return t!=null&&ive(t,e,rve)}var ove=1,ave=2;function lve(t,e){return _b(t)&&D4(e)?F4(Vy(t),e):function(n){var r=nve(n,t);return r===void 0&&r===e?sve(n,t):xb(e,r,ove|ave)}}function uve(t){return function(e){return e==null?void 0:e[t]}}function cve(t){return function(e){return U4(e,t)}}function fve(t){return _b(t)?uve(Vy(t)):cve(t)}function hve(t){return typeof t=="function"?t:t==null?ky:typeof t=="object"?Bi(t)?lve(t[0],t[1]):W0e(t):fve(t)}function dve(t,e){var n=-1,r=Yf(t)?Array(t.length):[];return T4(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Tu(t,e){var n=Bi(t)?I4:dve;return n(t,hve(e))}var pve=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=Mt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return O.createElement("div",{style:s.swatches},Tu(n,function(o){return O.createElement(Cu,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),O.createElement("div",{style:s.clear}))},Sb=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,f=e.className,d=f===void 0?"":f,p=i==="transparent",m=function(y,g){il(y)&&n({hex:y,source:"hex"},g)},v=Mt(ui({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:yb(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return O.createElement("div",{style:v.card,className:"block-picker "+d},O.createElement("div",{style:v.triangle}),O.createElement("div",{style:v.head},p&&O.createElement($f,{borderRadius:"6px 6px 0 0"}),O.createElement("div",{style:v.label},i)),O.createElement("div",{style:v.body},O.createElement(pve,{colors:s,onClick:m,onSwatchHover:r}),O.createElement(Wt,{style:{input:v.input},value:i,onChange:m})))};Sb.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),colors:Ge.arrayOf(Ge.string),triangle:Ge.oneOf(["top","hide"]),styles:Ge.object};Sb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ci(Sb);var mc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},gc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},vc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},yc={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},xc={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},_c={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Ac={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Sc={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},wc={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},sd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ec={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Mc={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},bc={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Cc={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Tc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Rc={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Pc={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Bc={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},k4=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=Mt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return O.createElement("div",{style:u.swatch},O.createElement(Cu,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};k4.defaultProps={circleSize:28,circleSpacing:14};const mve=ub(k4);var wb=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,f=e.circleSpacing,d=e.className,p=d===void 0?"":d,m=Mt(ui({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},u)),v=function(y,g){return r({hex:y,source:"hex"},g)};return O.createElement("div",{style:m.card,className:"circle-picker "+p},Tu(s,function(_){return O.createElement(mve,{key:_,color:_,onClick:v,onSwatchHover:i,active:o===_.toLowerCase(),circleSize:a,circleSpacing:f})}))};wb.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),circleSize:Ge.number,circleSpacing:Ge.number,styles:Ge.object};wb.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[mc[500],gc[500],vc[500],yc[500],xc[500],_c[500],Ac[500],Sc[500],wc[500],sd[500],Ec[500],Mc[500],bc[500],Cc[500],Tc[500],Rc[500],Pc[500],Bc[500]],styles:{}};ci(wb);function WL(t){return t===void 0}var G4={};Object.defineProperty(G4,"__esModule",{value:!0});var XL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gve=j,jL=vve(gve);function vve(t){return t&&t.__esModule?t:{default:t}}function yve(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var o0=24,xve=G4.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?o0:r,s=t.height,o=s===void 0?o0:s,a=t.style,l=a===void 0?{}:a,u=yve(t,["fill","width","height","style"]);return jL.default.createElement("svg",XL({viewBox:"0 0 "+o0+" "+o0,style:XL({fill:n,width:i,height:o},l)},u),jL.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},_ve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var H4=function(t){wve(e,t);function e(n){Ave(this,e);var r=Sve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?il(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(WL(i.s)?r.props.hsl.s:i.s),l:Number(WL(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return _ve(e,[{key:"render",value:function(){var r=this,i=Mt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=O.createElement("div",{style:i.fields,className:"flexbox-fix"},O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=O.createElement("div",{style:i.fields,className:"flexbox-fix"},O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),O.createElement("div",{style:i.alpha},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=O.createElement("div",{style:i.fields,className:"flexbox-fix"},O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),O.createElement("div",{style:i.field},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),O.createElement("div",{style:i.alpha},O.createElement(Wt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),O.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,O.createElement("div",{style:i.toggle},O.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},O.createElement(xve,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(O.Component);H4.defaultProps={view:"hex"};var JL=function(){var e=Mt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.createElement("div",{style:e.picker})},Eve=function(){var e=Mt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return O.createElement("div",{style:e.picker})},Eb=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,f=e.styles,d=f===void 0?{}:f,p=e.className,m=p===void 0?"":p,v=e.defaultView,_=Mt(ui({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return O.createElement("div",{style:_.picker,className:"chrome-picker "+m},O.createElement("div",{style:_.saturation},O.createElement(Hy,{style:_.Saturation,hsl:o,hsv:a,pointer:Eve,onChange:r})),O.createElement("div",{style:_.body},O.createElement("div",{style:_.controls,className:"flexbox-fix"},O.createElement("div",{style:_.color},O.createElement("div",{style:_.swatch},O.createElement("div",{style:_.active}),O.createElement($f,{renderers:u}))),O.createElement("div",{style:_.toggles},O.createElement("div",{style:_.hue},O.createElement(Kf,{style:_.Hue,hsl:o,pointer:JL,onChange:r})),O.createElement("div",{style:_.alpha},O.createElement(cb,{style:_.Alpha,rgb:s,hsl:o,pointer:JL,renderers:u,onChange:r})))),O.createElement(H4,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};Eb.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),disableAlpha:Ge.bool,styles:Ge.object,defaultView:Ge.oneOf(["hex","rgb","hsl"])};Eb.defaultProps={width:225,disableAlpha:!1,styles:{}};ci(Eb);var Mve=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=Mt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:yb(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return O.createElement(Cu,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},O.createElement("div",{style:a.dot}))},bve=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=Mt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return O.createElement("div",{style:s.fields,className:"flexbox-fix"},O.createElement("div",{style:s.active}),O.createElement(Wt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),O.createElement(Wt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),O.createElement(Wt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),O.createElement(Wt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},Mb=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,f=u===void 0?"":u,d=Mt(ui({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,_){v.hex?il(v.hex)&&n({hex:v.hex,source:"hex"},_):n(v,_)};return O.createElement(jp,{style:d.Compact,styles:l},O.createElement("div",{style:d.compact,className:"compact-picker "+f},O.createElement("div",null,Tu(i,function(m){return O.createElement(Mve,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),O.createElement("div",{style:d.clear})),O.createElement(bve,{hex:s,rgb:o,onChange:p})))};Mb.propTypes={colors:Ge.arrayOf(Ge.string),styles:Ge.object};Mb.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ci(Mb);var Cve=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Mt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return O.createElement("div",{style:a.swatch},O.createElement(Cu,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Tve=ub(Cve);var bb=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,f=u===void 0?"":u,d=Mt(ui({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,_){return i({hex:v,source:"hex"},_)};return O.createElement("div",{style:d.card,className:"github-picker "+f},O.createElement("div",{style:d.triangleShadow}),O.createElement("div",{style:d.triangle}),Tu(r,function(m){return O.createElement(Tve,{color:m,key:m,onClick:p,onSwatchHover:s})}))};bb.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),colors:Ge.arrayOf(Ge.string),triangle:Ge.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Ge.object};bb.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ci(bb);var Rve=function(e){var n=e.direction,r=Mt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return O.createElement("div",{style:r.picker})},Pve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,f=e.className,d=f===void 0?"":f,p=Mt(ui({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),m=function(_){return i({a:1,h:_.h,l:.5,s:1})};return O.createElement("div",{style:p.picker,className:"hue-picker "+d},O.createElement(Kf,Pve({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};Cb.propTypes={styles:Ge.object};Cb.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Rve,styles:{}};ci(Cb);var Bve=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=Mt(ui({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),f=function(p,m){p.hex?il(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return O.createElement(jp,{styles:o},O.createElement("div",{style:u.material,className:"material-picker "+l},O.createElement(Wt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:f}),O.createElement("div",{style:u.split,className:"flexbox-fix"},O.createElement("div",{style:u.third},O.createElement(Wt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:f})),O.createElement("div",{style:u.third},O.createElement(Wt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:f})),O.createElement("div",{style:u.third},O.createElement(Wt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:f})))))};ci(Bve);var Ive=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=Mt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,f){u["#"]?il(u["#"])&&n({hex:u["#"],source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},f):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},f)};return O.createElement("div",{style:o.fields},O.createElement(Wt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),O.createElement(Wt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),O.createElement(Wt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),O.createElement("div",{style:o.divider}),O.createElement(Wt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),O.createElement(Wt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),O.createElement(Wt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),O.createElement("div",{style:o.divider}),O.createElement(Wt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),O.createElement("div",{style:o.fieldSymbols},O.createElement("div",{style:o.symbol},"°"),O.createElement("div",{style:o.symbol},"%"),O.createElement("div",{style:o.symbol},"%")))},Lve=function(e){var n=e.hsl,r=Mt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return O.createElement("div",{style:r.picker})},Dve=function(){var e=Mt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return O.createElement("div",{style:e.pointer},O.createElement("div",{style:e.left},O.createElement("div",{style:e.leftInside})),O.createElement("div",{style:e.right},O.createElement("div",{style:e.rightInside})))},$L=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=Mt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return O.createElement("div",{style:o.button,onClick:n},r||i)},Fve=function(e){var n=e.rgb,r=e.currentColor,i=Mt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return O.createElement("div",null,O.createElement("div",{style:i.label},"new"),O.createElement("div",{style:i.swatches},O.createElement("div",{style:i.new}),O.createElement("div",{style:i.current})),O.createElement("div",{style:i.label},"current"))},Ove=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tb=function(t){kve(e,t);function e(n){Nve(this,e);var r=Uve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return Ove(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=Mt(ui({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return O.createElement("div",{style:l.picker,className:"photoshop-picker "+a},O.createElement("div",{style:l.head},this.props.header),O.createElement("div",{style:l.body,className:"flexbox-fix"},O.createElement("div",{style:l.saturation},O.createElement(Hy,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Lve,onChange:this.props.onChange})),O.createElement("div",{style:l.hue},O.createElement(Kf,{direction:"vertical",hsl:this.props.hsl,pointer:Dve,onChange:this.props.onChange})),O.createElement("div",{style:l.controls},O.createElement("div",{style:l.top,className:"flexbox-fix"},O.createElement("div",{style:l.previews},O.createElement(Fve,{rgb:this.props.rgb,currentColor:this.state.currentColor})),O.createElement("div",{style:l.actions},O.createElement($L,{label:"OK",onClick:this.props.onAccept,active:!0}),O.createElement($L,{label:"Cancel",onClick:this.props.onCancel}),O.createElement(Ive,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(O.Component);Tb.propTypes={header:Ge.string,styles:Ge.object};Tb.defaultProps={header:"Color Picker",styles:{}};ci(Tb);var Gve=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=Mt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(f,d){f.hex?il(f.hex)&&n({hex:f.hex,source:"hex"},d):f.r||f.g||f.b?n({r:f.r||r.r,g:f.g||r.g,b:f.b||r.b,a:r.a,source:"rgb"},d):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,n({h:i.h,s:i.s,l:i.l,a:f.a,source:"rgb"},d))};return O.createElement("div",{style:a.fields,className:"flexbox-fix"},O.createElement("div",{style:a.double},O.createElement(Wt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),O.createElement("div",{style:a.single},O.createElement(Wt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:a.single},O.createElement(Wt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:a.single},O.createElement(Wt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:a.alpha},O.createElement(Wt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},Hve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z4=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=Mt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,f){i({hex:u,source:"hex"},f)};return O.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,f=""+u.color+(u.title||"");return O.createElement("div",{key:f,style:o.swatchWrap},O.createElement(Cu,Hve({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};z4.propTypes={colors:Ge.arrayOf(Ge.oneOfType([Ge.string,Ge.shape({color:Ge.string,title:Ge.string})])).isRequired};var zve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,f=e.presetColors,d=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,_=v===void 0?"":v,y=Mt(ui({default:zve({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:u});return O.createElement("div",{style:y.picker,className:"sketch-picker "+_},O.createElement("div",{style:y.saturation},O.createElement(Hy,{style:y.Saturation,hsl:o,hsv:s,onChange:a})),O.createElement("div",{style:y.controls,className:"flexbox-fix"},O.createElement("div",{style:y.sliders},O.createElement("div",{style:y.hue},O.createElement(Kf,{style:y.Hue,hsl:o,onChange:a})),O.createElement("div",{style:y.alpha},O.createElement(cb,{style:y.Alpha,rgb:r,hsl:o,renderers:d,onChange:a}))),O.createElement("div",{style:y.color},O.createElement($f,null),O.createElement("div",{style:y.activeColor}))),O.createElement(Gve,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),O.createElement(z4,{colors:f,onClick:a,onSwatchHover:l}))};Rb.propTypes={disableAlpha:Ge.bool,width:Ge.oneOfType([Ge.string,Ge.number]),styles:Ge.object};Rb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const Vve=ci(Rb);var Yh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=Mt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),f=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return O.createElement("div",{style:u.swatch,onClick:f})},Wve=function(e){var n=e.onClick,r=e.hsl,i=Mt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return O.createElement("div",{style:i.swatches},O.createElement("div",{style:i.swatch},O.createElement(Yh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),O.createElement("div",{style:i.swatch},O.createElement(Yh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),O.createElement("div",{style:i.swatch},O.createElement(Yh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),O.createElement("div",{style:i.swatch},O.createElement(Yh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),O.createElement("div",{style:i.swatch},O.createElement(Yh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),O.createElement("div",{style:i.clear}))},Xve=function(){var e=Mt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.createElement("div",{style:e.picker})},Pb=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=Mt(ui({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return O.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},O.createElement("div",{style:u.hue},O.createElement(Kf,{style:u.Hue,hsl:n,pointer:i,onChange:r})),O.createElement("div",{style:u.swatches},O.createElement(Wve,{hsl:n,onClick:r})))};Pb.propTypes={styles:Ge.object};Pb.defaultProps={pointer:Xve,styles:{}};ci(Pb);var V4={};Object.defineProperty(V4,"__esModule",{value:!0});var KL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jve=j,YL=Jve(jve);function Jve(t){return t&&t.__esModule?t:{default:t}}function $ve(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var a0=24,Kve=V4.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?a0:r,s=t.height,o=s===void 0?a0:s,a=t.style,l=a===void 0?{}:a,u=$ve(t,["fill","width","height","style"]);return YL.default.createElement("svg",KL({viewBox:"0 0 "+a0+" "+a0,style:KL({fill:n,width:i,height:o},l)},u),YL.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},Yve=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=Mt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:yb(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return O.createElement(Cu,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},O.createElement("div",{style:u.check},O.createElement(Kve,null)))},Qve=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=Mt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return O.createElement("div",{style:o.group},Tu(i,function(a,l){return O.createElement(Yve,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},Bb=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,f=e.className,d=f===void 0?"":f,p=Mt(ui({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),m=function(_,y){return i({hex:_,source:"hex"},y)};return O.createElement("div",{style:p.picker,className:"swatches-picker "+d},O.createElement(jp,null,O.createElement("div",{style:p.overflow},O.createElement("div",{style:p.body},Tu(o,function(v){return O.createElement(Qve,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),O.createElement("div",{style:p.clear})))))};Bb.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),height:Ge.oneOfType([Ge.string,Ge.number]),colors:Ge.arrayOf(Ge.arrayOf(Ge.string)),styles:Ge.object};Bb.defaultProps={width:320,height:240,colors:[[mc[900],mc[700],mc[500],mc[300],mc[100]],[gc[900],gc[700],gc[500],gc[300],gc[100]],[vc[900],vc[700],vc[500],vc[300],vc[100]],[yc[900],yc[700],yc[500],yc[300],yc[100]],[xc[900],xc[700],xc[500],xc[300],xc[100]],[_c[900],_c[700],_c[500],_c[300],_c[100]],[Ac[900],Ac[700],Ac[500],Ac[300],Ac[100]],[Sc[900],Sc[700],Sc[500],Sc[300],Sc[100]],[wc[900],wc[700],wc[500],wc[300],wc[100]],["#194D33",sd[700],sd[500],sd[300],sd[100]],[Ec[900],Ec[700],Ec[500],Ec[300],Ec[100]],[Mc[900],Mc[700],Mc[500],Mc[300],Mc[100]],[bc[900],bc[700],bc[500],bc[300],bc[100]],[Cc[900],Cc[700],Cc[500],Cc[300],Cc[100]],[Tc[900],Tc[700],Tc[500],Tc[300],Tc[100]],[Rc[900],Rc[700],Rc[500],Rc[300],Rc[100]],[Pc[900],Pc[700],Pc[500],Pc[300],Pc[100]],[Bc[900],Bc[700],Bc[500],Bc[300],Bc[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ci(Bb);var Ib=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,f=e.className,d=f===void 0?"":f,p=Mt(ui({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(_,y){il(_)&&n({hex:_,source:"hex"},y)};return O.createElement("div",{style:p.card,className:"twitter-picker "+d},O.createElement("div",{style:p.triangleShadow}),O.createElement("div",{style:p.triangle}),O.createElement("div",{style:p.body},Tu(s,function(v,_){return O.createElement(Cu,{key:_,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),O.createElement("div",{style:p.hash},"#"),O.createElement(Wt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),O.createElement("div",{style:p.clear})))};Ib.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),triangle:Ge.oneOf(["hide","top-left","top-right"]),colors:Ge.arrayOf(Ge.string),styles:Ge.object};Ib.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ci(Ib);var Lb=function(e){var n=Mt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return O.createElement("div",{style:n.picker})};Lb.propTypes={hsl:Ge.shape({h:Ge.number,s:Ge.number,l:Ge.number,a:Ge.number})};Lb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Db=function(e){var n=Mt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return O.createElement("div",{style:n.picker})};Db.propTypes={hsl:Ge.shape({h:Ge.number,s:Ge.number,l:Ge.number,a:Ge.number})};Db.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Zve=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)il(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var _=m.rgb.split(",");$1(m.rgb,"rgb")&&n({r:_[0],g:_[1],b:_[2],a:1,source:"rgb"},v)}else if(m.hsv){var y=m.hsv.split(",");$1(m.hsv,"hsv")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),y[1]==1?y[1]=.01:y[2]==1&&(y[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsv"},v))}else if(m.hsl){var g=m.hsl.split(",");$1(m.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},v))}},l=Mt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,f=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return O.createElement("div",{style:l.wrap,className:"flexbox-fix"},O.createElement("div",{style:l.fields},O.createElement("div",{style:l.double},O.createElement(Wt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),O.createElement("div",{style:l.column},O.createElement("div",{style:l.single},O.createElement(Wt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),O.createElement("div",{style:l.single},O.createElement(Wt,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),O.createElement("div",{style:l.single},O.createElement(Wt,{style:{input:l.input2,label:l.label2},label:"hsl",value:f,onChange:a})))))},Fb=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,f=u===void 0?{}:u,d=e.className,p=d===void 0?"":d,m=Mt(ui({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return O.createElement("div",{style:m.picker,className:"google-picker "+p},O.createElement("div",{style:m.head},l),O.createElement("div",{style:m.swatch}),O.createElement("div",{style:m.saturation},O.createElement(Hy,{hsl:s,hsv:o,pointer:Lb,onChange:r})),O.createElement("div",{style:m.body},O.createElement("div",{style:m.controls,className:"flexbox-fix"},O.createElement("div",{style:m.hue},O.createElement(Kf,{style:m.Hue,hsl:s,radius:"4px",pointer:Db,onChange:r}))),O.createElement(Zve,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};Fb.propTypes={width:Ge.oneOfType([Ge.string,Ge.number]),styles:Ge.object,header:Ge.string};Fb.defaultProps={width:652,styles:{},header:"Color picker"};ci(Fb);const qve=()=>{const t=_u(jr);return O.createElement("div",{className:"absolute left-full ml-3"},O.createElement(Vve,{color:t.color,disableAlpha:!0,onChange:e=>jr.color=e.hex}))},eye=({file:t,setFile:e,readFile:n})=>O.createElement("div",{className:"filepicker-container"},O.createElement("div",{className:"flex-1 flex flex-col"},O.createElement("input",{id:"file-upload",type:"file",accept:"image/*",onChange:r=>e(r.target.files[0])}),O.createElement("label",{htmlFor:"file-upload",className:"filepicker-label"},"Upload File"),O.createElement("p",{className:"mt-2 text-gray-500 text-xs truncate"},t===""?"No file selected":t.name)),O.createElement("div",{className:"mt-4 flex flex-wrap gap-3"},O.createElement(_v,{type:"outline",title:"Logo",handleClick:()=>n("logo"),customStyles:"text-xs"}),O.createElement(_v,{type:"filled",title:"Full",handleClick:()=>n("full"),customStyles:"text-xs"}))),QL=({tab:t,isFilterTab:e,isActiveTab:n,handleClick:r})=>{const i=_u(jr),s=e&&n?{backgroundColor:i.color,opacity:.5}:{backgroundColor:"transparent",opacity:1};return O.createElement("div",{key:t.name,className:`tab-btn ${e?"rounded-full glassmorphism":"rounded-4"}`,onClick:r,style:s},O.createElement("img",{src:t.icon,alt:t.name,className:`${e?"w-2/3 h-2/3":"w-11/12 h-11/12 object-contain"}`}))},tye=()=>{const t=_u(jr),[e,n]=j.useState(""),[r,i]=j.useState(""),[s,o]=j.useState(!1),[a,l]=j.useState(""),[u,f]=j.useState({logoShirt:!0,stylishShirt:!1}),d=()=>{switch(a){case"colorpicker":return O.createElement(qve,null);case"filepicker":return O.createElement(eye,{file:e,setFile:n,readFile:_});case"aipicker":return O.createElement(Oq,{prompt:r,setPrompt:i,generatingImg:s,handleSubmit:p});default:return null}},p=async y=>{if(!r)return alert("Please enter a prompt");try{o(!0);const S=await(await fetch("http://localhost:8080/api/v1/dalle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r})})).json();m(y,`data:image/png;base64,${S.photo}`)}catch(g){alert(g)}finally{o(!1),l("")}},m=(y,g)=>{const S=Bq[y];jr[S.stateProperty]=g,u[S.filterTab]||v(S.filterTab)},v=y=>{switch(y){case"logoShirt":jr.isLogoTexture=!u[y];break;case"stylishShirt":jr.isFullTexture=!u[y];break;default:jr.isLogoTexture=!0,jr.isFullTexture=!1;break}f(g=>({...g,[y]:!g[y]}))},_=y=>{Cq(e).then(g=>{m(y,g),l("")})};return O.createElement(Rk,null,!t.intro&&O.createElement(O.Fragment,null,O.createElement(Sa.div,{key:"custom",className:"absolute top-0 left-0 z-10",...xv("left")},O.createElement("div",{className:"flex items-center min-h-screen"},O.createElement("div",{className:"editortabs-container tabs"},Rq.map(y=>O.createElement(QL,{key:y.name,tab:y,handleClick:()=>l(y.name)})),d()))),O.createElement(Sa.div,{className:"absolute z-10 top-5 right-5",...Iq},O.createElement(_v,{type:"filled",title:"Go Back",handleClick:()=>jr.intro=!0,customStyles:"w-fit px-4 py-2.5 font-bold text-sm"})),O.createElement(Sa.div,{className:"filtertabs-container",...xv("up")},Pq.map(y=>O.createElement(QL,{key:y.name,tab:y,isFilterTab:!0,isActiveTab:u[y.name],handleClick:()=>v(y.name)})))))},nye=()=>{const t=_u(jr);return O.createElement(Rk,null,t.intro&&O.createElement(Sa.section,{className:"home",...xv("left")},O.createElement(Sa.header,{...xv("down")},O.createElement("img",{src:"./threejs.png",alt:"logo",className:"w-8 h-8 object-contain"})),O.createElement(Sa.div,{className:"home-content",...Fq},O.createElement(Sa.div,{...Lq},O.createElement("h1",{className:"head-text"},"LET'S ",O.createElement("br",{className:"xl:block hidden"})," DO IT.")),O.createElement(Sa.div,{...Dq,className:"flex flex-col gap-5"},O.createElement("p",{className:"max-w-md font-normal text-gray-600 text-base"},"Create your unique and exclusive shirt with our brand-new 3D customization tool. ",O.createElement("strong",null,"Unleash your imagination")," "," and define your own style."),O.createElement(_v,{type:"filled",title:"Customize It",handleClick:()=>jr.intro=!1,customStyles:"w-fit px-4 py-2.5 font-bold text-sm"})))))},rye=()=>O.createElement("main",{className:"app transition-all ease-in"},O.createElement(nye,null),O.createElement(sK,null),O.createElement(tye,null));Y1.createRoot(document.getElementById("root")).render(O.createElement(O.StrictMode,null,O.createElement(rye,null)))});export default iye();
